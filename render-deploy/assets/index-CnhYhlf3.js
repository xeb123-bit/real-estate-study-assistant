(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const y of document.querySelectorAll('link[rel="modulepreload"]'))r(y);new MutationObserver(y=>{for(const N of y)if(N.type==="childList")for(const O of N.addedNodes)O.tagName==="LINK"&&O.rel==="modulepreload"&&r(O)}).observe(document,{childList:!0,subtree:!0});function g(y){const N={};return y.integrity&&(N.integrity=y.integrity),y.referrerPolicy&&(N.referrerPolicy=y.referrerPolicy),y.crossOrigin==="use-credentials"?N.credentials="include":y.crossOrigin==="anonymous"?N.credentials="omit":N.credentials="same-origin",N}function r(y){if(y.ep)return;y.ep=!0;const N=g(y);fetch(y.href,N)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}function getAugmentedNamespace(f){if(Object.prototype.hasOwnProperty.call(f,"__esModule"))return f;var o=f.default;if(typeof o=="function"){var g=function r(){var y=!1;try{y=this instanceof r}catch{}return y?Reflect.construct(o,arguments,this.constructor):o.apply(this,arguments)};g.prototype=o.prototype}else g={};return Object.defineProperty(g,"__esModule",{value:!0}),Object.keys(f).forEach(function(r){var y=Object.getOwnPropertyDescriptor(f,r);Object.defineProperty(g,r,y.get?y:{enumerable:!0,get:function(){return f[r]}})}),g}var jsxRuntime={exports:{}},reactJsxRuntime_production={};var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var f=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function g(r,y,N){var O=null;if(N!==void 0&&(O=""+N),y.key!==void 0&&(O=""+y.key),"key"in y){N={};for(var Y in y)Y!=="key"&&(N[Y]=y[Y])}else N=y;return y=N.ref,{$$typeof:f,type:r,key:O,ref:y!==void 0?y:null,props:N}}return reactJsxRuntime_production.Fragment=o,reactJsxRuntime_production.jsx=g,reactJsxRuntime_production.jsxs=g,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var f=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),O=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),_=Symbol.iterator;function E(x){return x===null||typeof x!="object"?null:(x=_&&x[_]||x["@@iterator"],typeof x=="function"?x:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,j={};function v(x,L,U){this.props=x,this.context=L,this.refs=j,this.updater=U||p}v.prototype.isReactComponent={},v.prototype.setState=function(x,L){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,L,"setState")},v.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function P(){}P.prototype=v.prototype;function W(x,L,U){this.props=x,this.context=L,this.refs=j,this.updater=U||p}var G=W.prototype=new P;G.constructor=W,S(G,v.prototype),G.isPureReactComponent=!0;var C=Array.isArray;function F(){}var Q={H:null,A:null,T:null,S:null},it=Object.prototype.hasOwnProperty;function et(x,L,U){var $=U.ref;return{$$typeof:f,type:x,key:L,ref:$!==void 0?$:null,props:U}}function bt(x,L){return et(x.type,L,x.props)}function gt(x){return typeof x=="object"&&x!==null&&x.$$typeof===f}function It(x){var L={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(U){return L[U]})}var Ot=/\/+/g;function Mt(x,L){return typeof x=="object"&&x!==null&&x.key!=null?It(""+x.key):L.toString(36)}function kt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(F,F):(x.status="pending",x.then(function(L){x.status==="pending"&&(x.status="fulfilled",x.value=L)},function(L){x.status==="pending"&&(x.status="rejected",x.reason=L)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function nt(x,L,U,$,V){var b=typeof x;(b==="undefined"||b==="boolean")&&(x=null);var D=!1;if(x===null)D=!0;else switch(b){case"bigint":case"string":case"number":D=!0;break;case"object":switch(x.$$typeof){case f:case o:D=!0;break;case c:return D=x._init,nt(D(x._payload),L,U,$,V)}}if(D)return V=V(x),D=$===""?"."+Mt(x,0):$,C(V)?(U="",D!=null&&(U=D.replace(Ot,"$&/")+"/"),nt(V,L,U,"",function(K){return K})):V!=null&&(gt(V)&&(V=bt(V,U+(V.key==null||x&&x.key===V.key?"":(""+V.key).replace(Ot,"$&/")+"/")+D)),L.push(V)),1;D=0;var I=$===""?".":$+":";if(C(x))for(var Z=0;Z<x.length;Z++)$=x[Z],b=I+Mt($,Z),D+=nt($,L,U,b,V);else if(Z=E(x),typeof Z=="function")for(x=Z.call(x),Z=0;!($=x.next()).done;)$=$.value,b=I+Mt($,Z++),D+=nt($,L,U,b,V);else if(b==="object"){if(typeof x.then=="function")return nt(kt(x),L,U,$,V);throw L=String(x),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return D}function q(x,L,U){if(x==null)return x;var $=[],V=0;return nt(x,$,"","",function(b){return L.call(U,b,V++)}),$}function M(x){if(x._status===-1){var L=x._result;L=L(),L.then(function(U){(x._status===0||x._status===-1)&&(x._status=1,x._result=U)},function(U){(x._status===0||x._status===-1)&&(x._status=2,x._result=U)}),x._status===-1&&(x._status=0,x._result=L)}if(x._status===1)return x._result.default;throw x._result}var T=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},R={map:q,forEach:function(x,L,U){q(x,function(){L.apply(this,arguments)},U)},count:function(x){var L=0;return q(x,function(){L++}),L},toArray:function(x){return q(x,function(L){return L})||[]},only:function(x){if(!gt(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return react_production.Activity=h,react_production.Children=R,react_production.Component=v,react_production.Fragment=g,react_production.Profiler=y,react_production.PureComponent=W,react_production.StrictMode=r,react_production.Suspense=B,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(x){return Q.H.useMemoCache(x)}},react_production.cache=function(x){return function(){return x.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(x,L,U){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var $=S({},x.props),V=x.key;if(L!=null)for(b in L.key!==void 0&&(V=""+L.key),L)!it.call(L,b)||b==="key"||b==="__self"||b==="__source"||b==="ref"&&L.ref===void 0||($[b]=L[b]);var b=arguments.length-2;if(b===1)$.children=U;else if(1<b){for(var D=Array(b),I=0;I<b;I++)D[I]=arguments[I+2];$.children=D}return et(x.type,V,$)},react_production.createContext=function(x){return x={$$typeof:O,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:N,_context:x},x},react_production.createElement=function(x,L,U){var $,V={},b=null;if(L!=null)for($ in L.key!==void 0&&(b=""+L.key),L)it.call(L,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(V[$]=L[$]);var D=arguments.length-2;if(D===1)V.children=U;else if(1<D){for(var I=Array(D),Z=0;Z<D;Z++)I[Z]=arguments[Z+2];V.children=I}if(x&&x.defaultProps)for($ in D=x.defaultProps,D)V[$]===void 0&&(V[$]=D[$]);return et(x,b,V)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(x){return{$$typeof:Y,render:x}},react_production.isValidElement=gt,react_production.lazy=function(x){return{$$typeof:c,_payload:{_status:-1,_result:x},_init:M}},react_production.memo=function(x,L){return{$$typeof:d,type:x,compare:L===void 0?null:L}},react_production.startTransition=function(x){var L=Q.T,U={};Q.T=U;try{var $=x(),V=Q.S;V!==null&&V(U,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(F,T)}catch(b){T(b)}finally{L!==null&&U.types!==null&&(L.types=U.types),Q.T=L}},react_production.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},react_production.use=function(x){return Q.H.use(x)},react_production.useActionState=function(x,L,U){return Q.H.useActionState(x,L,U)},react_production.useCallback=function(x,L){return Q.H.useCallback(x,L)},react_production.useContext=function(x){return Q.H.useContext(x)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(x,L){return Q.H.useDeferredValue(x,L)},react_production.useEffect=function(x,L){return Q.H.useEffect(x,L)},react_production.useEffectEvent=function(x){return Q.H.useEffectEvent(x)},react_production.useId=function(){return Q.H.useId()},react_production.useImperativeHandle=function(x,L,U){return Q.H.useImperativeHandle(x,L,U)},react_production.useInsertionEffect=function(x,L){return Q.H.useInsertionEffect(x,L)},react_production.useLayoutEffect=function(x,L){return Q.H.useLayoutEffect(x,L)},react_production.useMemo=function(x,L){return Q.H.useMemo(x,L)},react_production.useOptimistic=function(x,L){return Q.H.useOptimistic(x,L)},react_production.useReducer=function(x,L,U){return Q.H.useReducer(x,L,U)},react_production.useRef=function(x){return Q.H.useRef(x)},react_production.useState=function(x){return Q.H.useState(x)},react_production.useSyncExternalStore=function(x,L,U){return Q.H.useSyncExternalStore(x,L,U)},react_production.useTransition=function(){return Q.H.useTransition()},react_production.version="19.2.4",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(f){function o(nt,q){var M=nt.length;nt.push(q);t:for(;0<M;){var T=M-1>>>1,R=nt[T];if(0<y(R,q))nt[T]=q,nt[M]=R,M=T;else break t}}function g(nt){return nt.length===0?null:nt[0]}function r(nt){if(nt.length===0)return null;var q=nt[0],M=nt.pop();if(M!==q){nt[0]=M;t:for(var T=0,R=nt.length,x=R>>>1;T<x;){var L=2*(T+1)-1,U=nt[L],$=L+1,V=nt[$];if(0>y(U,M))$<R&&0>y(V,U)?(nt[T]=V,nt[$]=M,T=$):(nt[T]=U,nt[L]=M,T=L);else if($<R&&0>y(V,M))nt[T]=V,nt[$]=M,T=$;else break t}}return q}function y(nt,q){var M=nt.sortIndex-q.sortIndex;return M!==0?M:nt.id-q.id}if(f.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var N=performance;f.unstable_now=function(){return N.now()}}else{var O=Date,Y=O.now();f.unstable_now=function(){return O.now()-Y}}var B=[],d=[],c=1,h=null,_=3,E=!1,p=!1,S=!1,j=!1,v=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function G(nt){for(var q=g(d);q!==null;){if(q.callback===null)r(d);else if(q.startTime<=nt)r(d),q.sortIndex=q.expirationTime,o(B,q);else break;q=g(d)}}function C(nt){if(S=!1,G(nt),!p)if(g(B)!==null)p=!0,F||(F=!0,It());else{var q=g(d);q!==null&&kt(C,q.startTime-nt)}}var F=!1,Q=-1,it=5,et=-1;function bt(){return j?!0:!(f.unstable_now()-et<it)}function gt(){if(j=!1,F){var nt=f.unstable_now();et=nt;var q=!0;try{t:{p=!1,S&&(S=!1,P(Q),Q=-1),E=!0;var M=_;try{e:{for(G(nt),h=g(B);h!==null&&!(h.expirationTime>nt&&bt());){var T=h.callback;if(typeof T=="function"){h.callback=null,_=h.priorityLevel;var R=T(h.expirationTime<=nt);if(nt=f.unstable_now(),typeof R=="function"){h.callback=R,G(nt),q=!0;break e}h===g(B)&&r(B),G(nt)}else r(B);h=g(B)}if(h!==null)q=!0;else{var x=g(d);x!==null&&kt(C,x.startTime-nt),q=!1}}break t}finally{h=null,_=M,E=!1}q=void 0}}finally{q?It():F=!1}}}var It;if(typeof W=="function")It=function(){W(gt)};else if(typeof MessageChannel<"u"){var Ot=new MessageChannel,Mt=Ot.port2;Ot.port1.onmessage=gt,It=function(){Mt.postMessage(null)}}else It=function(){v(gt,0)};function kt(nt,q){Q=v(function(){nt(f.unstable_now())},q)}f.unstable_IdlePriority=5,f.unstable_ImmediatePriority=1,f.unstable_LowPriority=4,f.unstable_NormalPriority=3,f.unstable_Profiling=null,f.unstable_UserBlockingPriority=2,f.unstable_cancelCallback=function(nt){nt.callback=null},f.unstable_forceFrameRate=function(nt){0>nt||125<nt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):it=0<nt?Math.floor(1e3/nt):5},f.unstable_getCurrentPriorityLevel=function(){return _},f.unstable_next=function(nt){switch(_){case 1:case 2:case 3:var q=3;break;default:q=_}var M=_;_=q;try{return nt()}finally{_=M}},f.unstable_requestPaint=function(){j=!0},f.unstable_runWithPriority=function(nt,q){switch(nt){case 1:case 2:case 3:case 4:case 5:break;default:nt=3}var M=_;_=nt;try{return q()}finally{_=M}},f.unstable_scheduleCallback=function(nt,q,M){var T=f.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?T+M:T):M=T,nt){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=M+R,nt={id:c++,callback:q,priorityLevel:nt,startTime:M,expirationTime:R,sortIndex:-1},M>T?(nt.sortIndex=M,o(d,nt),g(B)===null&&nt===g(d)&&(S?(P(Q),Q=-1):S=!0,kt(C,M-T))):(nt.sortIndex=R,o(B,nt),p||E||(p=!0,F||(F=!0,It()))),nt},f.unstable_shouldYield=bt,f.unstable_wrapCallback=function(nt){var q=_;return function(){var M=_;_=q;try{return nt.apply(this,arguments)}finally{_=M}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var f=requireReact();function o(B){var d="https://react.dev/errors/"+B;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)d+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+B+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(){}var r={d:{f:g,r:function(){throw Error(o(522))},D:g,C:g,L:g,m:g,X:g,S:g,M:g},p:0,findDOMNode:null},y=Symbol.for("react.portal");function N(B,d,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:y,key:h==null?null:""+h,children:B,containerInfo:d,implementation:c}}var O=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Y(B,d){if(B==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,reactDom_production.createPortal=function(B,d){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(o(299));return N(B,d,null,c)},reactDom_production.flushSync=function(B){var d=O.T,c=r.p;try{if(O.T=null,r.p=2,B)return B()}finally{O.T=d,r.p=c,r.d.f()}},reactDom_production.preconnect=function(B,d){typeof B=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(B,d))},reactDom_production.prefetchDNS=function(B){typeof B=="string"&&r.d.D(B)},reactDom_production.preinit=function(B,d){if(typeof B=="string"&&d&&typeof d.as=="string"){var c=d.as,h=Y(c,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;c==="style"?r.d.S(B,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:h,integrity:_,fetchPriority:E}):c==="script"&&r.d.X(B,{crossOrigin:h,integrity:_,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},reactDom_production.preinitModule=function(B,d){if(typeof B=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var c=Y(d.as,d.crossOrigin);r.d.M(B,{crossOrigin:c,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(B)},reactDom_production.preload=function(B,d){if(typeof B=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var c=d.as,h=Y(c,d.crossOrigin);r.d.L(B,c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},reactDom_production.preloadModule=function(B,d){if(typeof B=="string")if(d){var c=Y(d.as,d.crossOrigin);r.d.m(B,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:c,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(B)},reactDom_production.requestFormReset=function(B){r.d.r(B)},reactDom_production.unstable_batchedUpdates=function(B,d){return B(d)},reactDom_production.useFormState=function(B,d,c){return O.H.useFormState(B,d,c)},reactDom_production.useFormStatus=function(){return O.H.useHostTransitionStatus()},reactDom_production.version="19.2.4",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(o){console.error(o)}}return f(),reactDom.exports=requireReactDom_production(),reactDom.exports}var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var f=requireScheduler(),o=requireReact(),g=requireReactDom();function r(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function y(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function N(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function O(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Y(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function B(t){if(N(t)!==t)throw Error(r(188))}function d(t){var e=t.alternate;if(!e){if(e=N(t),e===null)throw Error(r(188));return e!==t?null:t}for(var n=t,a=e;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(a=s.return,a!==null){n=a;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return B(s),t;if(l===a)return B(s),e;l=l.sibling}throw Error(r(188))}if(n.return!==a.return)n=s,a=l;else{for(var w=!1,H=s.child;H;){if(H===n){w=!0,n=s,a=l;break}if(H===a){w=!0,a=s,n=l;break}H=H.sibling}if(!w){for(H=l.child;H;){if(H===n){w=!0,n=l,a=s;break}if(H===a){w=!0,a=l,n=s;break}H=H.sibling}if(!w)throw Error(r(189))}}if(n.alternate!==a)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?t:e}function c(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=c(t),e!==null)return e;t=t.sibling}return null}var h=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),W=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),it=Symbol.for("react.lazy"),et=Symbol.for("react.activity"),bt=Symbol.for("react.memo_cache_sentinel"),gt=Symbol.iterator;function It(t){return t===null||typeof t!="object"?null:(t=gt&&t[gt]||t["@@iterator"],typeof t=="function"?t:null)}var Ot=Symbol.for("react.client.reference");function Mt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ot?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case S:return"Fragment";case v:return"Profiler";case j:return"StrictMode";case C:return"Suspense";case F:return"SuspenseList";case et:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case p:return"Portal";case W:return t.displayName||"Context";case P:return(t._context.displayName||"Context")+".Consumer";case G:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q:return e=t.displayName||null,e!==null?e:Mt(t.type)||"Memo";case it:e=t._payload,t=t._init;try{return Mt(t(e))}catch{}}return null}var kt=Array.isArray,nt=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=g.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},T=[],R=-1;function x(t){return{current:t}}function L(t){0>R||(t.current=T[R],T[R]=null,R--)}function U(t,e){R++,T[R]=t.current,t.current=e}var $=x(null),V=x(null),b=x(null),D=x(null);function I(t,e){switch(U(b,e),U(V,t),U($,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Mh(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Mh(e),t=Dh(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}L($),U($,t)}function Z(){L($),L(V),L(b)}function K(t){t.memoizedState!==null&&U(D,t);var e=$.current,n=Dh(e,t.type);e!==n&&(U(V,t),U($,n))}function at(t){V.current===t&&(L($),L(V)),D.current===t&&(L(D),Jr._currentValue=M)}var rt,Rt;function Xt(t){if(rt===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rt=e&&e[1]||"",Rt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rt+t+Rt}var wt=!1;function Dt(t,e){if(!t||wt)return"";wt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(e){var Bt=function(){throw Error()};if(Object.defineProperty(Bt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Bt,[])}catch(jt){var Ct=jt}Reflect.construct(t,[],Bt)}else{try{Bt.call()}catch(jt){Ct=jt}t.call(Bt.prototype)}}else{try{throw Error()}catch(jt){Ct=jt}(Bt=t())&&typeof Bt.catch=="function"&&Bt.catch(function(){})}}catch(jt){if(jt&&Ct&&typeof jt.stack=="string")return[jt.stack,Ct.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=a.DetermineComponentFrameRoot(),w=l[0],H=l[1];if(w&&H){var ot=w.split(`
`),St=H.split(`
`);for(s=a=0;a<ot.length&&!ot[a].includes("DetermineComponentFrameRoot");)a++;for(;s<St.length&&!St[s].includes("DetermineComponentFrameRoot");)s++;if(a===ot.length||s===St.length)for(a=ot.length-1,s=St.length-1;1<=a&&0<=s&&ot[a]!==St[s];)s--;for(;1<=a&&0<=s;a--,s--)if(ot[a]!==St[s]){if(a!==1||s!==1)do if(a--,s--,0>s||ot[a]!==St[s]){var Pt=`
`+ot[a].replace(" at new "," at ");return t.displayName&&Pt.includes("<anonymous>")&&(Pt=Pt.replace("<anonymous>",t.displayName)),Pt}while(1<=a&&0<=s);break}}}finally{wt=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Xt(n):""}function Ft(t,e){switch(t.tag){case 26:case 27:case 5:return Xt(t.type);case 16:return Xt("Lazy");case 13:return t.child!==e&&e!==null?Xt("Suspense Fallback"):Xt("Suspense");case 19:return Xt("SuspenseList");case 0:case 15:return Dt(t.type,!1);case 11:return Dt(t.type.render,!1);case 1:return Dt(t.type,!0);case 31:return Xt("Activity");default:return""}}function Lt(t){try{var e="",n=null;do e+=Ft(t,n),n=t,t=t.return;while(t);return e}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Ut=Object.prototype.hasOwnProperty,Qt=f.unstable_scheduleCallback,$t=f.unstable_cancelCallback,ie=f.unstable_shouldYield,le=f.unstable_requestPaint,oe=f.unstable_now,_e=f.unstable_getCurrentPriorityLevel,ke=f.unstable_ImmediatePriority,Be=f.unstable_UserBlockingPriority,Cn=f.unstable_NormalPriority,We=f.unstable_LowPriority,An=f.unstable_IdlePriority,ya=f.log,ca=f.unstable_setDisableYieldValue,Qn=null,qt=null;function xt(t){if(typeof ya=="function"&&ca(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Qn,t)}catch{}}var st=Math.clz32?Math.clz32:Xe,Jt=Math.log,me=Math.LN2;function Xe(t){return t>>>=0,t===0?32:31-(Jt(t)/me|0)|0}var Kt=256,kn=262144,On=4194304;function cn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Qe(t,e,n){var a=t.pendingLanes;if(a===0)return 0;var s=0,l=t.suspendedLanes,w=t.pingedLanes;t=t.warmLanes;var H=a&134217727;return H!==0?(a=H&~l,a!==0?s=cn(a):(w&=H,w!==0?s=cn(w):n||(n=H&~t,n!==0&&(s=cn(n))))):(H=a&~l,H!==0?s=cn(H):w!==0?s=cn(w):n||(n=a&~t,n!==0&&(s=cn(n)))),s===0?0:e!==0&&e!==s&&(e&l)===0&&(l=s&-s,n=e&-e,l>=n||l===32&&(n&4194048)!==0)?e:s}function En(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Zn(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Da(){var t=On;return On<<=1,(On&62914560)===0&&(On=4194304),t}function Me(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function gn(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ba(t,e,n,a,s,l){var w=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var H=t.entanglements,ot=t.expirationTimes,St=t.hiddenUpdates;for(n=w&~n;0<n;){var Pt=31-st(n),Bt=1<<Pt;H[Pt]=0,ot[Pt]=-1;var Ct=St[Pt];if(Ct!==null)for(St[Pt]=null,Pt=0;Pt<Ct.length;Pt++){var jt=Ct[Pt];jt!==null&&(jt.lane&=-536870913)}n&=~Bt}a!==0&&ua(t,a,0),l!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=l&~(w&~e))}function ua(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var a=31-st(e);t.entangledLanes|=e,t.entanglements[a]=t.entanglements[a]|1073741824|n&261930}function Te(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var a=31-st(n),s=1<<a;s&e|t[a]&e&&(t[a]|=e),n&=~s}}function Ie(t,e){var n=e&-e;return n=(n&42)!==0?1:un(n),(n&(t.suspendedLanes|e))!==0?0:n}function un(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Nn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function da(){var t=q.p;return t!==0?t:(t=window.event,t===void 0?32:ef(t.type))}function Bi(t,e){var n=q.p;try{return q.p=t,e()}finally{q.p=n}}var xa=Math.random().toString(36).slice(2),Ue="__reactFiber$"+xa,$e="__reactProps$"+xa,jn="__reactContainer$"+xa,oi="__reactEvents$"+xa,ml="__reactListeners$"+xa,va="__reactHandles$"+xa,ir="__reactResources$"+xa,Bn="__reactMarker$"+xa;function fs(t){delete t[Ue],delete t[$e],delete t[oi],delete t[ml],delete t[va]}function _a(t){var e=t[Ue];if(e)return e;for(var n=t.parentNode;n;){if(e=n[jn]||n[Ue]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ih(t);t!==null;){if(n=t[Ue])return n;t=Ih(t)}return e}t=n,n=t.parentNode}return null}function Ne(t){if(t=t[Ue]||t[jn]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Un(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(r(33))}function Sn(t){var e=t[ir];return e||(e=t[ir]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function tn(t){t[Bn]=!0}var Oa=new Set,Ui={};function ha(t,e){Aa(t,e),Aa(t+"Capture",e)}function Aa(t,e){for(Ui[t]=e,t=0;t<e.length;t++)Oa.add(e[t])}var Na=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sr={},Hi={};function no(t){return Ut.call(Hi,t)?!0:Ut.call(sr,t)?!1:Na.test(t)?Hi[t]=!0:(sr[t]=!0,!1)}function pe(t,e,n){if(no(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var a=e.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Gi(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Jn(t,e,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+a)}}function yn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function li(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ao(t,e,n){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,l=a.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(w){n=""+w,l.call(this,w)}}),Object.defineProperty(t,e,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(w){n=""+w},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ps(t){if(!t._valueTracker){var e=li(t)?"checked":"value";t._valueTracker=ao(t,e,""+t[e])}}function rr(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),a="";return t&&(a=li(t)?t.checked?"true":"false":t.value),t=a,t!==n?(e.setValue(t),!0):!1}function Re(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Yi=/[\n"\\]/g;function hn(t){return t.replace(Yi,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Ea(t,e,n,a,s,l,w,H){t.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.type=w:t.removeAttribute("type"),e!=null?w==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+yn(e)):t.value!==""+yn(e)&&(t.value=""+yn(e)):w!=="submit"&&w!=="reset"||t.removeAttribute("value"),e!=null?Ki(t,w,yn(e)):n!=null?Ki(t,w,yn(n)):a!=null&&t.removeAttribute("value"),s==null&&l!=null&&(t.defaultChecked=!!l),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?t.name=""+yn(H):t.removeAttribute("name")}function ms(t,e,n,a,s,l,w,H){if(l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(t.type=l),e!=null||n!=null){if(!(l!=="submit"&&l!=="reset"||e!=null)){ps(t);return}n=n!=null?""+yn(n):"",e=e!=null?""+yn(e):n,H||e===t.value||(t.value=e),t.defaultValue=e}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=H?t.checked:!!a,t.defaultChecked=!!a,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.name=w),ps(t)}function Ki(t,e,n){e==="number"&&Re(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function fa(t,e,n,a){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&a&&(t[n].defaultSelected=!0)}else{for(n=""+yn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,a&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function or(t,e,n){if(e!=null&&(e=""+yn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+yn(n):""}function Xi(t,e,n,a){if(e==null){if(a!=null){if(n!=null)throw Error(r(92));if(kt(a)){if(1<a.length)throw Error(r(93));a=a[0]}n=a}n==null&&(n=""),e=n}n=yn(e),t.defaultValue=n,a=t.textContent,a===n&&a!==""&&a!==null&&(t.value=a),ps(t)}function Pa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var gl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ae(t,e,n){var a=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":a?t.setProperty(e,n):typeof n!="number"||n===0||gl.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function lr(t,e,n){if(e!=null&&typeof e!="object")throw Error(r(62));if(t=t.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||e!=null&&e.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var s in e)a=e[s],e.hasOwnProperty(s)&&n[s]!==a&&Ae(t,s,a)}else for(var l in e)e.hasOwnProperty(l)&&Ae(t,l,e[l])}function cr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(t){return Mn.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Pn(){}var $n=null;function gs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var La=null,He=null;function Hn(t){var e=Ne(t);if(e&&(t=e.stateNode)){var n=t[$e]||null;t:switch(t=e.stateNode,e.type){case"input":if(Ea(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+hn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var a=n[e];if(a!==t&&a.form===t.form){var s=a[$e]||null;if(!s)throw Error(r(90));Ea(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)a=n[e],a.form===t.form&&rr(a)}break t;case"textarea":or(t,n.value,n.defaultValue);break t;case"select":e=n.value,e!=null&&fa(t,!!n.multiple,e,!1)}}}var Fa=!1;function ci(t,e,n){if(Fa)return t(e,n);Fa=!0;try{var a=t(e);return a}finally{if(Fa=!1,(La!==null||He!==null)&&(Xo(),La&&(e=La,t=He,He=La=null,Hn(e),t)))for(e=0;e<t.length;e++)Hn(t[e])}}function za(t,e){var n=t.stateNode;if(n===null)return null;var a=n[$e]||null;if(a===null)return null;n=a[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break t;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(r(231,e,typeof n));return n}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ur=!1;if(fn)try{var wn={};Object.defineProperty(wn,"passive",{get:function(){ur=!0}}),window.addEventListener("test",wn,wn),window.removeEventListener("test",wn,wn)}catch{ur=!1}var ta=null,ys=null,ui=null;function di(){if(ui)return ui;var t,e=ys,n=e.length,a,s="value"in ta?ta.value:ta.textContent,l=s.length;for(t=0;t<n&&e[t]===s[t];t++);var w=n-t;for(a=1;a<=w&&e[n-a]===s[l-a];a++);return ui=s.slice(t,1<a?1-a:void 0)}function hi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vi(){return!0}function io(){return!1}function an(t){function e(n,a,s,l,w){this._reactName=n,this._targetInst=s,this.type=a,this.nativeEvent=l,this.target=w,this.currentTarget=null;for(var H in t)t.hasOwnProperty(H)&&(n=t[H],this[H]=n?n(l):l[H]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Vi:io,this.isPropagationStopped=io,this}return h(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),e}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bs=an(Ia),Sa=h({},Ia,{view:0,detail:0}),xs=an(Sa),Wi,dr,Qi,vs=h({},Sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qi&&(Qi&&t.type==="mousemove"?(Wi=t.screenX-Qi.screenX,dr=t.screenY-Qi.screenY):dr=Wi=0,Qi=t),Wi)},movementY:function(t){return"movementY"in t?t.movementY:dr}}),_s=an(vs),hr=h({},vs,{dataTransfer:0}),so=an(hr),As=h({},Sa,{relatedTarget:0}),fi=an(As),Es=h({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),ro=an(Es),bl=h({},Ia,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pi=an(bl),fr=h({},Ia,{data:0}),Ss=an(fr),pr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zi(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pn[t])?!!e[t]:!1}function qa(){return Zi}var oo=h({},Sa,{key:function(t){if(t.key){var e=pr[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mr[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qa,charCode:function(t){return t.type==="keypress"?hi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ws=an(oo),lo=h({},vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gr=an(lo),Ts=h({},Sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qa}),yr=an(Ts),Ba=h({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),br=an(Ba),xr=h({},vs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rs=an(xr),vr=h({},Ia,{newState:0,oldState:0}),co=an(vr),xl=[9,13,27,32],Ji=fn&&"CompositionEvent"in window,wa=null;fn&&"documentMode"in document&&(wa=document.documentMode);var vl=fn&&"TextEvent"in window&&!wa,Cs=fn&&(!Ji||wa&&8<wa&&11>=wa),ks=" ",uo=!1;function _r(t,e){switch(t){case"keyup":return xl.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ho(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ua=!1;function fo(t,e){switch(t){case"compositionend":return ho(e);case"keypress":return e.which!==32?null:(uo=!0,ks);case"textInput":return t=e.data,t===ks&&uo?null:t;default:return null}}function _l(t,e){if(Ua)return t==="compositionend"||!Ji&&_r(t,e)?(t=di(),ui=ys=ta=null,Ua=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Cs&&e.locale!=="ko"?null:e.data;default:return null}}var po={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function js(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!po[t.type]:e==="textarea"}function Ar(t,e,n,a){La?He?He.push(a):He=[a]:La=a,e=tl(e,"onChange"),0<e.length&&(n=new bs("onChange","change",null,n,a),t.push({event:n,listeners:e}))}var mi=null,$i=null;function Al(t){wh(t,0)}function Ms(t){var e=Un(t);if(rr(e))return t}function ts(t,e){if(t==="change")return e}var ea=!1;if(fn){var Ge;if(fn){var gi="oninput"in document;if(!gi){var Ha=document.createElement("div");Ha.setAttribute("oninput","return;"),gi=typeof Ha.oninput=="function"}Ge=gi}else Ge=!1;ea=Ge&&(!document.documentMode||9<document.documentMode)}function mo(){mi&&(mi.detachEvent("onpropertychange",Ds),$i=mi=null)}function Ds(t){if(t.propertyName==="value"&&Ms($i)){var e=[];Ar(e,$i,t,gs(t)),ci(Al,e)}}function go(t,e,n){t==="focusin"?(mo(),mi=e,$i=n,mi.attachEvent("onpropertychange",Ds)):t==="focusout"&&mo()}function Ga(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ms($i)}function Er(t,e){if(t==="click")return Ms(e)}function yi(t,e){if(t==="input"||t==="change")return Ms(e)}function Ta(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tn=typeof Object.is=="function"?Object.is:Ta;function i(t,e){if(Tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!Ut.call(e,s)||!Tn(t[s],e[s]))return!1}return!0}function u(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function m(t,e){var n=u(t);t=0;for(var a;n;){if(n.nodeType===3){if(a=t+n.textContent.length,t<=e&&a>=e)return{node:n,offset:e-t};t=a}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=u(n)}}function A(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?A(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function k(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Re(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Re(t.document)}return e}function z(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var J=fn&&"documentMode"in document&&11>=document.documentMode,tt=null,ct=null,vt=null,ut=!1;function lt(t,e,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ut||tt==null||tt!==Re(a)||(a=tt,"selectionStart"in a&&z(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),vt&&i(vt,a)||(vt=a,a=tl(ct,"onSelect"),0<a.length&&(e=new bs("onSelect","select",null,e,n),t.push({event:e,listeners:a}),e.target=tt)))}function ft(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var mt={animationend:ft("Animation","AnimationEnd"),animationiteration:ft("Animation","AnimationIteration"),animationstart:ft("Animation","AnimationStart"),transitionrun:ft("Transition","TransitionRun"),transitionstart:ft("Transition","TransitionStart"),transitioncancel:ft("Transition","TransitionCancel"),transitionend:ft("Transition","TransitionEnd")},dt={},ht={};fn&&(ht=document.createElement("div").style,"AnimationEvent"in window||(delete mt.animationend.animation,delete mt.animationiteration.animation,delete mt.animationstart.animation),"TransitionEvent"in window||delete mt.transitionend.transition);function At(t){if(dt[t])return dt[t];if(!mt[t])return t;var e=mt[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ht)return dt[t]=e[n];return t}var Tt=At("animationend"),_t=At("animationiteration"),Nt=At("animationstart"),Ht=At("transitionrun"),Vt=At("transitionstart"),Wt=At("transitioncancel"),Gt=At("transitionend"),te=new Map,Zt="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zt.push("scrollEnd");function Yt(t,e){te.set(t,e),ha(e,[t])}var ee=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ue=[],ge=0,se=0;function de(){for(var t=ge,e=se=ge=0;e<t;){var n=ue[e];ue[e++]=null;var a=ue[e];ue[e++]=null;var s=ue[e];ue[e++]=null;var l=ue[e];if(ue[e++]=null,a!==null&&s!==null){var w=a.pending;w===null?s.next=s:(s.next=w.next,w.next=s),a.pending=s}l!==0&&Ra(n,s,l)}}function Pe(t,e,n,a){ue[ge++]=t,ue[ge++]=e,ue[ge++]=n,ue[ge++]=a,se|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function Rn(t,e,n,a){return Pe(t,e,n,a),bi(t)}function je(t,e){return Pe(t,null,null,e),bi(t)}function Ra(t,e,n){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n);for(var s=!1,l=t.return;l!==null;)l.childLanes|=n,a=l.alternate,a!==null&&(a.childLanes|=n),l.tag===22&&(t=l.stateNode,t===null||t._visibility&1||(s=!0)),t=l,l=l.return;return t.tag===3?(l=t.stateNode,s&&e!==null&&(s=31-st(n),t=l.hiddenUpdates,a=t[s],a===null?t[s]=[e]:a.push(e),e.lane=n|536870912),l):null}function bi(t){if(50<Yr)throw Yr=0,Mc=null,Error(r(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Os={};function cf(t,e,n,a){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(t,e,n,a){return new cf(t,e,n,a)}function El(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ya(t,e){var n=t.alternate;return n===null?(n=Gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function ou(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function yo(t,e,n,a,s,l){var w=0;if(a=t,typeof t=="function")El(t)&&(w=1);else if(typeof t=="string")w=pp(t,n,$.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case et:return t=Gn(31,n,e,s),t.elementType=et,t.lanes=l,t;case S:return es(n.children,s,l,e);case j:w=8,s|=24;break;case v:return t=Gn(12,n,e,s|2),t.elementType=v,t.lanes=l,t;case C:return t=Gn(13,n,e,s),t.elementType=C,t.lanes=l,t;case F:return t=Gn(19,n,e,s),t.elementType=F,t.lanes=l,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:w=10;break t;case P:w=9;break t;case G:w=11;break t;case Q:w=14;break t;case it:w=16,a=null;break t}w=29,n=Error(r(130,t===null?"null":typeof t,"")),a=null}return e=Gn(w,n,e,s),e.elementType=t,e.type=a,e.lanes=l,e}function es(t,e,n,a){return t=Gn(7,t,a,e),t.lanes=n,t}function Sl(t,e,n){return t=Gn(6,t,null,e),t.lanes=n,t}function lu(t){var e=Gn(18,null,null,0);return e.stateNode=t,e}function wl(t,e,n){return e=Gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var cu=new WeakMap;function na(t,e){if(typeof t=="object"&&t!==null){var n=cu.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Lt(e)},cu.set(t,e),e)}return{value:t,source:e,stack:Lt(e)}}var Ns=[],Ps=0,bo=null,Sr=0,aa=[],ia=0,xi=null,Ca=1,ka="";function Ka(t,e){Ns[Ps++]=Sr,Ns[Ps++]=bo,bo=t,Sr=e}function uu(t,e,n){aa[ia++]=Ca,aa[ia++]=ka,aa[ia++]=xi,xi=t;var a=Ca;t=ka;var s=32-st(a)-1;a&=~(1<<s),n+=1;var l=32-st(e)+s;if(30<l){var w=s-s%5;l=(a&(1<<w)-1).toString(32),a>>=w,s-=w,Ca=1<<32-st(e)+s|n<<s|a,ka=l+t}else Ca=1<<l|n<<s|a,ka=t}function Tl(t){t.return!==null&&(Ka(t,1),uu(t,1,0))}function Rl(t){for(;t===bo;)bo=Ns[--Ps],Ns[Ps]=null,Sr=Ns[--Ps],Ns[Ps]=null;for(;t===xi;)xi=aa[--ia],aa[ia]=null,ka=aa[--ia],aa[ia]=null,Ca=aa[--ia],aa[ia]=null}function du(t,e){aa[ia++]=Ca,aa[ia++]=ka,aa[ia++]=xi,Ca=e.id,ka=e.overflow,xi=t}var bn=null,Ye=null,Ee=!1,vi=null,sa=!1,Cl=Error(r(519));function _i(t){var e=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wr(na(e,t)),Cl}function hu(t){var e=t.stateNode,n=t.type,a=t.memoizedProps;switch(e[Ue]=t,e[$e]=a,n){case"dialog":be("cancel",e),be("close",e);break;case"iframe":case"object":case"embed":be("load",e);break;case"video":case"audio":for(n=0;n<Xr.length;n++)be(Xr[n],e);break;case"source":be("error",e);break;case"img":case"image":case"link":be("error",e),be("load",e);break;case"details":be("toggle",e);break;case"input":be("invalid",e),ms(e,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":be("invalid",e);break;case"textarea":be("invalid",e),Xi(e,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||a.suppressHydrationWarning===!0||kh(e.textContent,n)?(a.popover!=null&&(be("beforetoggle",e),be("toggle",e)),a.onScroll!=null&&be("scroll",e),a.onScrollEnd!=null&&be("scrollend",e),a.onClick!=null&&(e.onclick=Pn),e=!0):e=!1,e||_i(t,!0)}function fu(t){for(bn=t.return;bn;)switch(bn.tag){case 5:case 31:case 13:sa=!1;return;case 27:case 3:sa=!0;return;default:bn=bn.return}}function Ls(t){if(t!==bn)return!1;if(!Ee)return fu(t),Ee=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Kc(t.type,t.memoizedProps)),n=!n),n&&Ye&&_i(t),fu(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Ye=zh(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Ye=zh(t)}else e===27?(e=Ye,Pi(t.type)?(t=Zc,Zc=null,Ye=t):Ye=e):Ye=bn?oa(t.stateNode.nextSibling):null;return!0}function ns(){Ye=bn=null,Ee=!1}function kl(){var t=vi;return t!==null&&(In===null?In=t:In.push.apply(In,t),vi=null),t}function wr(t){vi===null?vi=[t]:vi.push(t)}var jl=x(null),as=null,Xa=null;function Ai(t,e,n){U(jl,e._currentValue),e._currentValue=n}function Va(t){t._currentValue=jl.current,L(jl)}function Ml(t,e,n){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===n)break;t=t.return}}function Dl(t,e,n,a){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){var w=s.child;l=l.firstContext;t:for(;l!==null;){var H=l;l=s;for(var ot=0;ot<e.length;ot++)if(H.context===e[ot]){l.lanes|=n,H=l.alternate,H!==null&&(H.lanes|=n),Ml(l.return,n,t),a||(w=null);break t}l=H.next}}else if(s.tag===18){if(w=s.return,w===null)throw Error(r(341));w.lanes|=n,l=w.alternate,l!==null&&(l.lanes|=n),Ml(w,n,t),w=null}else w=s.child;if(w!==null)w.return=s;else for(w=s;w!==null;){if(w===t){w=null;break}if(s=w.sibling,s!==null){s.return=w.return,w=s;break}w=w.return}s=w}}function Fs(t,e,n,a){t=null;for(var s=e,l=!1;s!==null;){if(!l){if((s.flags&524288)!==0)l=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var w=s.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var H=s.type;Tn(s.pendingProps.value,w.value)||(t!==null?t.push(H):t=[H])}}else if(s===D.current){if(w=s.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(Jr):t=[Jr])}s=s.return}t!==null&&Dl(e,t,n,a),e.flags|=262144}function xo(t){for(t=t.firstContext;t!==null;){if(!Tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function is(t){as=t,Xa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function xn(t){return pu(as,t)}function vo(t,e){return as===null&&is(t),pu(t,e)}function pu(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Xa===null){if(t===null)throw Error(r(308));Xa=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Xa=Xa.next=e;return n}var uf=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,a){t.push(a)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},df=f.unstable_scheduleCallback,hf=f.unstable_NormalPriority,sn={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ol(){return{controller:new uf,data:new Map,refCount:0}}function Tr(t){t.refCount--,t.refCount===0&&df(hf,function(){t.controller.abort()})}var Rr=null,Nl=0,zs=0,Is=null;function ff(t,e){if(Rr===null){var n=Rr=[];Nl=0,zs=Fc(),Is={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Nl++,e.then(mu,mu),e}function mu(){if(--Nl===0&&Rr!==null){Is!==null&&(Is.status="fulfilled");var t=Rr;Rr=null,zs=0,Is=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function pf(t,e){var n=[],a={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){a.status="fulfilled",a.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(a.status="rejected",a.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),a}var gu=nt.S;nt.S=function(t,e){$d=oe(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&ff(t,e),gu!==null&&gu(t,e)};var ss=x(null);function Pl(){var t=ss.current;return t!==null?t:qe.pooledCache}function _o(t,e){e===null?U(ss,ss.current):U(ss,e.pool)}function yu(){var t=Pl();return t===null?null:{parent:sn._currentValue,pool:t}}var qs=Error(r(460)),Ll=Error(r(474)),Ao=Error(r(542)),Eo={then:function(){}};function bu(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xu(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Pn,Pn),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,_u(t),t;default:if(typeof e.status=="string")e.then(Pn,Pn);else{if(t=qe,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=e,t.status="pending",t.then(function(a){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=a}},function(a){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=a}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,_u(t),t}throw os=e,qs}}function rs(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(os=n,qs):n}}var os=null;function vu(){if(os===null)throw Error(r(459));var t=os;return os=null,t}function _u(t){if(t===qs||t===Ao)throw Error(r(483))}var Bs=null,Cr=0;function So(t){var e=Cr;return Cr+=1,Bs===null&&(Bs=[]),xu(Bs,t,e)}function kr(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function wo(t,e){throw e.$$typeof===_?Error(r(525)):(t=Object.prototype.toString.call(e),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Au(t){function e(yt,pt){if(t){var Et=yt.deletions;Et===null?(yt.deletions=[pt],yt.flags|=16):Et.push(pt)}}function n(yt,pt){if(!t)return null;for(;pt!==null;)e(yt,pt),pt=pt.sibling;return null}function a(yt){for(var pt=new Map;yt!==null;)yt.key!==null?pt.set(yt.key,yt):pt.set(yt.index,yt),yt=yt.sibling;return pt}function s(yt,pt){return yt=Ya(yt,pt),yt.index=0,yt.sibling=null,yt}function l(yt,pt,Et){return yt.index=Et,t?(Et=yt.alternate,Et!==null?(Et=Et.index,Et<pt?(yt.flags|=67108866,pt):Et):(yt.flags|=67108866,pt)):(yt.flags|=1048576,pt)}function w(yt){return t&&yt.alternate===null&&(yt.flags|=67108866),yt}function H(yt,pt,Et,zt){return pt===null||pt.tag!==6?(pt=Sl(Et,yt.mode,zt),pt.return=yt,pt):(pt=s(pt,Et),pt.return=yt,pt)}function ot(yt,pt,Et,zt){var re=Et.type;return re===S?Pt(yt,pt,Et.props.children,zt,Et.key):pt!==null&&(pt.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===it&&rs(re)===pt.type)?(pt=s(pt,Et.props),kr(pt,Et),pt.return=yt,pt):(pt=yo(Et.type,Et.key,Et.props,null,yt.mode,zt),kr(pt,Et),pt.return=yt,pt)}function St(yt,pt,Et,zt){return pt===null||pt.tag!==4||pt.stateNode.containerInfo!==Et.containerInfo||pt.stateNode.implementation!==Et.implementation?(pt=wl(Et,yt.mode,zt),pt.return=yt,pt):(pt=s(pt,Et.children||[]),pt.return=yt,pt)}function Pt(yt,pt,Et,zt,re){return pt===null||pt.tag!==7?(pt=es(Et,yt.mode,zt,re),pt.return=yt,pt):(pt=s(pt,Et),pt.return=yt,pt)}function Bt(yt,pt,Et){if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return pt=Sl(""+pt,yt.mode,Et),pt.return=yt,pt;if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case E:return Et=yo(pt.type,pt.key,pt.props,null,yt.mode,Et),kr(Et,pt),Et.return=yt,Et;case p:return pt=wl(pt,yt.mode,Et),pt.return=yt,pt;case it:return pt=rs(pt),Bt(yt,pt,Et)}if(kt(pt)||It(pt))return pt=es(pt,yt.mode,Et,null),pt.return=yt,pt;if(typeof pt.then=="function")return Bt(yt,So(pt),Et);if(pt.$$typeof===W)return Bt(yt,vo(yt,pt),Et);wo(yt,pt)}return null}function Ct(yt,pt,Et,zt){var re=pt!==null?pt.key:null;if(typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint")return re!==null?null:H(yt,pt,""+Et,zt);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case E:return Et.key===re?ot(yt,pt,Et,zt):null;case p:return Et.key===re?St(yt,pt,Et,zt):null;case it:return Et=rs(Et),Ct(yt,pt,Et,zt)}if(kt(Et)||It(Et))return re!==null?null:Pt(yt,pt,Et,zt,null);if(typeof Et.then=="function")return Ct(yt,pt,So(Et),zt);if(Et.$$typeof===W)return Ct(yt,pt,vo(yt,Et),zt);wo(yt,Et)}return null}function jt(yt,pt,Et,zt,re){if(typeof zt=="string"&&zt!==""||typeof zt=="number"||typeof zt=="bigint")return yt=yt.get(Et)||null,H(pt,yt,""+zt,re);if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case E:return yt=yt.get(zt.key===null?Et:zt.key)||null,ot(pt,yt,zt,re);case p:return yt=yt.get(zt.key===null?Et:zt.key)||null,St(pt,yt,zt,re);case it:return zt=rs(zt),jt(yt,pt,Et,zt,re)}if(kt(zt)||It(zt))return yt=yt.get(Et)||null,Pt(pt,yt,zt,re,null);if(typeof zt.then=="function")return jt(yt,pt,Et,So(zt),re);if(zt.$$typeof===W)return jt(yt,pt,Et,vo(pt,zt),re);wo(pt,zt)}return null}function ne(yt,pt,Et,zt){for(var re=null,Se=null,ae=pt,fe=pt=0,ve=null;ae!==null&&fe<Et.length;fe++){ae.index>fe?(ve=ae,ae=null):ve=ae.sibling;var we=Ct(yt,ae,Et[fe],zt);if(we===null){ae===null&&(ae=ve);break}t&&ae&&we.alternate===null&&e(yt,ae),pt=l(we,pt,fe),Se===null?re=we:Se.sibling=we,Se=we,ae=ve}if(fe===Et.length)return n(yt,ae),Ee&&Ka(yt,fe),re;if(ae===null){for(;fe<Et.length;fe++)ae=Bt(yt,Et[fe],zt),ae!==null&&(pt=l(ae,pt,fe),Se===null?re=ae:Se.sibling=ae,Se=ae);return Ee&&Ka(yt,fe),re}for(ae=a(ae);fe<Et.length;fe++)ve=jt(ae,yt,fe,Et[fe],zt),ve!==null&&(t&&ve.alternate!==null&&ae.delete(ve.key===null?fe:ve.key),pt=l(ve,pt,fe),Se===null?re=ve:Se.sibling=ve,Se=ve);return t&&ae.forEach(function(qi){return e(yt,qi)}),Ee&&Ka(yt,fe),re}function ce(yt,pt,Et,zt){if(Et==null)throw Error(r(151));for(var re=null,Se=null,ae=pt,fe=pt=0,ve=null,we=Et.next();ae!==null&&!we.done;fe++,we=Et.next()){ae.index>fe?(ve=ae,ae=null):ve=ae.sibling;var qi=Ct(yt,ae,we.value,zt);if(qi===null){ae===null&&(ae=ve);break}t&&ae&&qi.alternate===null&&e(yt,ae),pt=l(qi,pt,fe),Se===null?re=qi:Se.sibling=qi,Se=qi,ae=ve}if(we.done)return n(yt,ae),Ee&&Ka(yt,fe),re;if(ae===null){for(;!we.done;fe++,we=Et.next())we=Bt(yt,we.value,zt),we!==null&&(pt=l(we,pt,fe),Se===null?re=we:Se.sibling=we,Se=we);return Ee&&Ka(yt,fe),re}for(ae=a(ae);!we.done;fe++,we=Et.next())we=jt(ae,yt,fe,we.value,zt),we!==null&&(t&&we.alternate!==null&&ae.delete(we.key===null?fe:we.key),pt=l(we,pt,fe),Se===null?re=we:Se.sibling=we,Se=we);return t&&ae.forEach(function(wp){return e(yt,wp)}),Ee&&Ka(yt,fe),re}function ze(yt,pt,Et,zt){if(typeof Et=="object"&&Et!==null&&Et.type===S&&Et.key===null&&(Et=Et.props.children),typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case E:t:{for(var re=Et.key;pt!==null;){if(pt.key===re){if(re=Et.type,re===S){if(pt.tag===7){n(yt,pt.sibling),zt=s(pt,Et.props.children),zt.return=yt,yt=zt;break t}}else if(pt.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===it&&rs(re)===pt.type){n(yt,pt.sibling),zt=s(pt,Et.props),kr(zt,Et),zt.return=yt,yt=zt;break t}n(yt,pt);break}else e(yt,pt);pt=pt.sibling}Et.type===S?(zt=es(Et.props.children,yt.mode,zt,Et.key),zt.return=yt,yt=zt):(zt=yo(Et.type,Et.key,Et.props,null,yt.mode,zt),kr(zt,Et),zt.return=yt,yt=zt)}return w(yt);case p:t:{for(re=Et.key;pt!==null;){if(pt.key===re)if(pt.tag===4&&pt.stateNode.containerInfo===Et.containerInfo&&pt.stateNode.implementation===Et.implementation){n(yt,pt.sibling),zt=s(pt,Et.children||[]),zt.return=yt,yt=zt;break t}else{n(yt,pt);break}else e(yt,pt);pt=pt.sibling}zt=wl(Et,yt.mode,zt),zt.return=yt,yt=zt}return w(yt);case it:return Et=rs(Et),ze(yt,pt,Et,zt)}if(kt(Et))return ne(yt,pt,Et,zt);if(It(Et)){if(re=It(Et),typeof re!="function")throw Error(r(150));return Et=re.call(Et),ce(yt,pt,Et,zt)}if(typeof Et.then=="function")return ze(yt,pt,So(Et),zt);if(Et.$$typeof===W)return ze(yt,pt,vo(yt,Et),zt);wo(yt,Et)}return typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint"?(Et=""+Et,pt!==null&&pt.tag===6?(n(yt,pt.sibling),zt=s(pt,Et),zt.return=yt,yt=zt):(n(yt,pt),zt=Sl(Et,yt.mode,zt),zt.return=yt,yt=zt),w(yt)):n(yt,pt)}return function(yt,pt,Et,zt){try{Cr=0;var re=ze(yt,pt,Et,zt);return Bs=null,re}catch(ae){if(ae===qs||ae===Ao)throw ae;var Se=Gn(29,ae,null,yt.mode);return Se.lanes=zt,Se.return=yt,Se}}}var ls=Au(!0),Eu=Au(!1),Ei=!1;function Fl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zl(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Si(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function wi(t,e,n){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(Ce&2)!==0){var s=a.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),a.pending=e,e=bi(t),Ra(t,null,n),e}return Pe(t,a,e,n),bi(t)}function jr(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,Te(t,n)}}function Il(t,e){var n=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var w={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};l===null?s=l=w:l=l.next=w,n=n.next}while(n!==null);l===null?s=l=e:l=l.next=e}else s=l=e;n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:a.shared,callbacks:a.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var ql=!1;function Mr(){if(ql){var t=Is;if(t!==null)throw t}}function Dr(t,e,n,a){ql=!1;var s=t.updateQueue;Ei=!1;var l=s.firstBaseUpdate,w=s.lastBaseUpdate,H=s.shared.pending;if(H!==null){s.shared.pending=null;var ot=H,St=ot.next;ot.next=null,w===null?l=St:w.next=St,w=ot;var Pt=t.alternate;Pt!==null&&(Pt=Pt.updateQueue,H=Pt.lastBaseUpdate,H!==w&&(H===null?Pt.firstBaseUpdate=St:H.next=St,Pt.lastBaseUpdate=ot))}if(l!==null){var Bt=s.baseState;w=0,Pt=St=ot=null,H=l;do{var Ct=H.lane&-536870913,jt=Ct!==H.lane;if(jt?(xe&Ct)===Ct:(a&Ct)===Ct){Ct!==0&&Ct===zs&&(ql=!0),Pt!==null&&(Pt=Pt.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});t:{var ne=t,ce=H;Ct=e;var ze=n;switch(ce.tag){case 1:if(ne=ce.payload,typeof ne=="function"){Bt=ne.call(ze,Bt,Ct);break t}Bt=ne;break t;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=ce.payload,Ct=typeof ne=="function"?ne.call(ze,Bt,Ct):ne,Ct==null)break t;Bt=h({},Bt,Ct);break t;case 2:Ei=!0}}Ct=H.callback,Ct!==null&&(t.flags|=64,jt&&(t.flags|=8192),jt=s.callbacks,jt===null?s.callbacks=[Ct]:jt.push(Ct))}else jt={lane:Ct,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Pt===null?(St=Pt=jt,ot=Bt):Pt=Pt.next=jt,w|=Ct;if(H=H.next,H===null){if(H=s.shared.pending,H===null)break;jt=H,H=jt.next,jt.next=null,s.lastBaseUpdate=jt,s.shared.pending=null}}while(!0);Pt===null&&(ot=Bt),s.baseState=ot,s.firstBaseUpdate=St,s.lastBaseUpdate=Pt,l===null&&(s.shared.lanes=0),ji|=w,t.lanes=w,t.memoizedState=Bt}}function Su(t,e){if(typeof t!="function")throw Error(r(191,t));t.call(e)}function wu(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Su(n[t],e)}var Us=x(null),To=x(0);function Tu(t,e){t=ii,U(To,t),U(Us,e),ii=t|e.baseLanes}function Bl(){U(To,ii),U(Us,Us.current)}function Ul(){ii=To.current,L(Us),L(To)}var Yn=x(null),ra=null;function Ti(t){var e=t.alternate;U(en,en.current&1),U(Yn,t),ra===null&&(e===null||Us.current!==null||e.memoizedState!==null)&&(ra=t)}function Hl(t){U(en,en.current),U(Yn,t),ra===null&&(ra=t)}function Ru(t){t.tag===22?(U(en,en.current),U(Yn,t),ra===null&&(ra=t)):Ri()}function Ri(){U(en,en.current),U(Yn,Yn.current)}function Kn(t){L(Yn),ra===t&&(ra=null),L(en)}var en=x(0);function Ro(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Wc(n)||Qc(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wa=0,he=null,Le=null,rn=null,Co=!1,Hs=!1,cs=!1,ko=0,Or=0,Gs=null,mf=0;function Ze(){throw Error(r(321))}function Gl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Tn(t[n],e[n]))return!1;return!0}function Yl(t,e,n,a,s,l){return Wa=l,he=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nt.H=t===null||t.memoizedState===null?ud:rc,cs=!1,l=n(a,s),cs=!1,Hs&&(l=ku(e,n,a,s)),Cu(t),l}function Cu(t){nt.H=Lr;var e=Le!==null&&Le.next!==null;if(Wa=0,rn=Le=he=null,Co=!1,Or=0,Gs=null,e)throw Error(r(300));t===null||on||(t=t.dependencies,t!==null&&xo(t)&&(on=!0))}function ku(t,e,n,a){he=t;var s=0;do{if(Hs&&(Gs=null),Or=0,Hs=!1,25<=s)throw Error(r(301));if(s+=1,rn=Le=null,t.updateQueue!=null){var l=t.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,l.memoCache!=null&&(l.memoCache.index=0)}nt.H=dd,l=e(n,a)}while(Hs);return l}function gf(){var t=nt.H,e=t.useState()[0];return e=typeof e.then=="function"?Nr(e):e,t=t.useState()[0],(Le!==null?Le.memoizedState:null)!==t&&(he.flags|=1024),e}function Kl(){var t=ko!==0;return ko=0,t}function Xl(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Vl(t){if(Co){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Co=!1}Wa=0,rn=Le=he=null,Hs=!1,Or=ko=0,Gs=null}function Dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?he.memoizedState=rn=t:rn=rn.next=t,rn}function nn(){if(Le===null){var t=he.alternate;t=t!==null?t.memoizedState:null}else t=Le.next;var e=rn===null?he.memoizedState:rn.next;if(e!==null)rn=e,Le=t;else{if(t===null)throw he.alternate===null?Error(r(467)):Error(r(310));Le=t,t={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},rn===null?he.memoizedState=rn=t:rn=rn.next=t}return rn}function jo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nr(t){var e=Or;return Or+=1,Gs===null&&(Gs=[]),t=xu(Gs,t,e),e=he,(rn===null?e.memoizedState:rn.next)===null&&(e=e.alternate,nt.H=e===null||e.memoizedState===null?ud:rc),t}function Mo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Nr(t);if(t.$$typeof===W)return xn(t)}throw Error(r(438,String(t)))}function Wl(t){var e=null,n=he.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var a=he.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(e={data:a.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=jo(),he.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),a=0;a<t;a++)n[a]=bt;return e.index++,n}function Qa(t,e){return typeof e=="function"?e(t):e}function Do(t){var e=nn();return Ql(e,Le,t)}function Ql(t,e,n){var a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var s=t.baseQueue,l=a.pending;if(l!==null){if(s!==null){var w=s.next;s.next=l.next,l.next=w}e.baseQueue=s=l,a.pending=null}if(l=t.baseState,s===null)t.memoizedState=l;else{e=s.next;var H=w=null,ot=null,St=e,Pt=!1;do{var Bt=St.lane&-536870913;if(Bt!==St.lane?(xe&Bt)===Bt:(Wa&Bt)===Bt){var Ct=St.revertLane;if(Ct===0)ot!==null&&(ot=ot.next={lane:0,revertLane:0,gesture:null,action:St.action,hasEagerState:St.hasEagerState,eagerState:St.eagerState,next:null}),Bt===zs&&(Pt=!0);else if((Wa&Ct)===Ct){St=St.next,Ct===zs&&(Pt=!0);continue}else Bt={lane:0,revertLane:St.revertLane,gesture:null,action:St.action,hasEagerState:St.hasEagerState,eagerState:St.eagerState,next:null},ot===null?(H=ot=Bt,w=l):ot=ot.next=Bt,he.lanes|=Ct,ji|=Ct;Bt=St.action,cs&&n(l,Bt),l=St.hasEagerState?St.eagerState:n(l,Bt)}else Ct={lane:Bt,revertLane:St.revertLane,gesture:St.gesture,action:St.action,hasEagerState:St.hasEagerState,eagerState:St.eagerState,next:null},ot===null?(H=ot=Ct,w=l):ot=ot.next=Ct,he.lanes|=Bt,ji|=Bt;St=St.next}while(St!==null&&St!==e);if(ot===null?w=l:ot.next=H,!Tn(l,t.memoizedState)&&(on=!0,Pt&&(n=Is,n!==null)))throw n;t.memoizedState=l,t.baseState=w,t.baseQueue=ot,a.lastRenderedState=l}return s===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function Zl(t){var e=nn(),n=e.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=t;var a=n.dispatch,s=n.pending,l=e.memoizedState;if(s!==null){n.pending=null;var w=s=s.next;do l=t(l,w.action),w=w.next;while(w!==s);Tn(l,e.memoizedState)||(on=!0),e.memoizedState=l,e.baseQueue===null&&(e.baseState=l),n.lastRenderedState=l}return[l,a]}function ju(t,e,n){var a=he,s=nn(),l=Ee;if(l){if(n===void 0)throw Error(r(407));n=n()}else n=e();var w=!Tn((Le||s).memoizedState,n);if(w&&(s.memoizedState=n,on=!0),s=s.queue,tc(Ou.bind(null,a,s,t),[t]),s.getSnapshot!==e||w||rn!==null&&rn.memoizedState.tag&1){if(a.flags|=2048,Ys(9,{destroy:void 0},Du.bind(null,a,s,n,e),null),qe===null)throw Error(r(349));l||(Wa&127)!==0||Mu(a,e,n)}return n}function Mu(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=he.updateQueue,e===null?(e=jo(),he.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Du(t,e,n,a){e.value=n,e.getSnapshot=a,Nu(e)&&Pu(t)}function Ou(t,e,n){return n(function(){Nu(e)&&Pu(t)})}function Nu(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Tn(t,n)}catch{return!0}}function Pu(t){var e=je(t,2);e!==null&&qn(e,t,2)}function Jl(t){var e=Dn();if(typeof t=="function"){var n=t;if(t=n(),cs){xt(!0);try{n()}finally{xt(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:t},e}function Lu(t,e,n,a){return t.baseState=n,Ql(t,Le,typeof a=="function"?a:Qa)}function yf(t,e,n,a,s){if(Po(t))throw Error(r(485));if(t=e.action,t!==null){var l={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){l.listeners.push(w)}};nt.T!==null?n(!0):l.isTransition=!1,a(l),n=e.pending,n===null?(l.next=e.pending=l,Fu(e,l)):(l.next=n.next,e.pending=n.next=l)}}function Fu(t,e){var n=e.action,a=e.payload,s=t.state;if(e.isTransition){var l=nt.T,w={};nt.T=w;try{var H=n(s,a),ot=nt.S;ot!==null&&ot(w,H),zu(t,e,H)}catch(St){$l(t,e,St)}finally{l!==null&&w.types!==null&&(l.types=w.types),nt.T=l}}else try{l=n(s,a),zu(t,e,l)}catch(St){$l(t,e,St)}}function zu(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Iu(t,e,a)},function(a){return $l(t,e,a)}):Iu(t,e,n)}function Iu(t,e,n){e.status="fulfilled",e.value=n,qu(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Fu(t,n)))}function $l(t,e,n){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do e.status="rejected",e.reason=n,qu(e),e=e.next;while(e!==a)}t.action=null}function qu(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Bu(t,e){return e}function Uu(t,e){if(Ee){var n=qe.formState;if(n!==null){t:{var a=he;if(Ee){if(Ye){e:{for(var s=Ye,l=sa;s.nodeType!==8;){if(!l){s=null;break e}if(s=oa(s.nextSibling),s===null){s=null;break e}}l=s.data,s=l==="F!"||l==="F"?s:null}if(s){Ye=oa(s.nextSibling),a=s.data==="F!";break t}}_i(a)}a=!1}a&&(e=n[0])}}return n=Dn(),n.memoizedState=n.baseState=e,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bu,lastRenderedState:e},n.queue=a,n=od.bind(null,he,a),a.dispatch=n,a=Jl(!1),l=sc.bind(null,he,!1,a.queue),a=Dn(),s={state:e,dispatch:null,action:t,pending:null},a.queue=s,n=yf.bind(null,he,s,l,n),s.dispatch=n,a.memoizedState=t,[e,n,!1]}function Hu(t){var e=nn();return Gu(e,Le,t)}function Gu(t,e,n){if(e=Ql(t,e,Bu)[0],t=Do(Qa)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var a=Nr(e)}catch(w){throw w===qs?Ao:w}else a=e;e=nn();var s=e.queue,l=s.dispatch;return n!==e.memoizedState&&(he.flags|=2048,Ys(9,{destroy:void 0},bf.bind(null,s,n),null)),[a,l,t]}function bf(t,e){t.action=e}function Yu(t){var e=nn(),n=Le;if(n!==null)return Gu(e,n,t);nn(),e=e.memoizedState,n=nn();var a=n.queue.dispatch;return n.memoizedState=t,[e,a,!1]}function Ys(t,e,n,a){return t={tag:t,create:n,deps:a,inst:e,next:null},e=he.updateQueue,e===null&&(e=jo(),he.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(a=n.next,n.next=t,t.next=a,e.lastEffect=t),t}function Ku(){return nn().memoizedState}function Oo(t,e,n,a){var s=Dn();he.flags|=t,s.memoizedState=Ys(1|e,{destroy:void 0},n,a===void 0?null:a)}function No(t,e,n,a){var s=nn();a=a===void 0?null:a;var l=s.memoizedState.inst;Le!==null&&a!==null&&Gl(a,Le.memoizedState.deps)?s.memoizedState=Ys(e,l,n,a):(he.flags|=t,s.memoizedState=Ys(1|e,l,n,a))}function Xu(t,e){Oo(8390656,8,t,e)}function tc(t,e){No(2048,8,t,e)}function xf(t){he.flags|=4;var e=he.updateQueue;if(e===null)e=jo(),he.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function Vu(t){var e=nn().memoizedState;return xf({ref:e,nextImpl:t}),function(){if((Ce&2)!==0)throw Error(r(440));return e.impl.apply(void 0,arguments)}}function Wu(t,e){return No(4,2,t,e)}function Qu(t,e){return No(4,4,t,e)}function Zu(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ju(t,e,n){n=n!=null?n.concat([t]):null,No(4,4,Zu.bind(null,e,t),n)}function ec(){}function $u(t,e){var n=nn();e=e===void 0?null:e;var a=n.memoizedState;return e!==null&&Gl(e,a[1])?a[0]:(n.memoizedState=[t,e],t)}function td(t,e){var n=nn();e=e===void 0?null:e;var a=n.memoizedState;if(e!==null&&Gl(e,a[1]))return a[0];if(a=t(),cs){xt(!0);try{t()}finally{xt(!1)}}return n.memoizedState=[a,e],a}function nc(t,e,n){return n===void 0||(Wa&1073741824)!==0&&(xe&261930)===0?t.memoizedState=e:(t.memoizedState=n,t=eh(),he.lanes|=t,ji|=t,n)}function ed(t,e,n,a){return Tn(n,e)?n:Us.current!==null?(t=nc(t,n,a),Tn(t,e)||(on=!0),t):(Wa&42)===0||(Wa&1073741824)!==0&&(xe&261930)===0?(on=!0,t.memoizedState=n):(t=eh(),he.lanes|=t,ji|=t,e)}function nd(t,e,n,a,s){var l=q.p;q.p=l!==0&&8>l?l:8;var w=nt.T,H={};nt.T=H,sc(t,!1,e,n);try{var ot=s(),St=nt.S;if(St!==null&&St(H,ot),ot!==null&&typeof ot=="object"&&typeof ot.then=="function"){var Pt=pf(ot,a);Pr(t,e,Pt,Wn(t))}else Pr(t,e,a,Wn(t))}catch(Bt){Pr(t,e,{then:function(){},status:"rejected",reason:Bt},Wn())}finally{q.p=l,w!==null&&H.types!==null&&(w.types=H.types),nt.T=w}}function vf(){}function ac(t,e,n,a){if(t.tag!==5)throw Error(r(476));var s=ad(t).queue;nd(t,s,e,M,n===null?vf:function(){return id(t),n(a)})}function ad(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:M},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function id(t){var e=ad(t);e.next===null&&(e=t.alternate.memoizedState),Pr(t,e.next.queue,{},Wn())}function ic(){return xn(Jr)}function sd(){return nn().memoizedState}function rd(){return nn().memoizedState}function _f(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Wn();t=Si(n);var a=wi(e,t,n);a!==null&&(qn(a,e,n),jr(a,e,n)),e={cache:Ol()},t.payload=e;return}e=e.return}}function Af(t,e,n){var a=Wn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Po(t)?ld(e,n):(n=Rn(t,e,n,a),n!==null&&(qn(n,t,a),cd(n,e,a)))}function od(t,e,n){var a=Wn();Pr(t,e,n,a)}function Pr(t,e,n,a){var s={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Po(t))ld(e,s);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=e.lastRenderedReducer,l!==null))try{var w=e.lastRenderedState,H=l(w,n);if(s.hasEagerState=!0,s.eagerState=H,Tn(H,w))return Pe(t,e,s,0),qe===null&&de(),!1}catch{}if(n=Rn(t,e,s,a),n!==null)return qn(n,t,a),cd(n,e,a),!0}return!1}function sc(t,e,n,a){if(a={lane:2,revertLane:Fc(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Po(t)){if(e)throw Error(r(479))}else e=Rn(t,n,a,2),e!==null&&qn(e,t,2)}function Po(t){var e=t.alternate;return t===he||e!==null&&e===he}function ld(t,e){Hs=Co=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function cd(t,e,n){if((n&4194048)!==0){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,Te(t,n)}}var Lr={readContext:xn,use:Mo,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};Lr.useEffectEvent=Ze;var ud={readContext:xn,use:Mo,useCallback:function(t,e){return Dn().memoizedState=[t,e===void 0?null:e],t},useContext:xn,useEffect:Xu,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Oo(4194308,4,Zu.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Oo(4194308,4,t,e)},useInsertionEffect:function(t,e){Oo(4,2,t,e)},useMemo:function(t,e){var n=Dn();e=e===void 0?null:e;var a=t();if(cs){xt(!0);try{t()}finally{xt(!1)}}return n.memoizedState=[a,e],a},useReducer:function(t,e,n){var a=Dn();if(n!==void 0){var s=n(e);if(cs){xt(!0);try{n(e)}finally{xt(!1)}}}else s=e;return a.memoizedState=a.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},a.queue=t,t=t.dispatch=Af.bind(null,he,t),[a.memoizedState,t]},useRef:function(t){var e=Dn();return t={current:t},e.memoizedState=t},useState:function(t){t=Jl(t);var e=t.queue,n=od.bind(null,he,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:ec,useDeferredValue:function(t,e){var n=Dn();return nc(n,t,e)},useTransition:function(){var t=Jl(!1);return t=nd.bind(null,he,t.queue,!0,!1),Dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var a=he,s=Dn();if(Ee){if(n===void 0)throw Error(r(407));n=n()}else{if(n=e(),qe===null)throw Error(r(349));(xe&127)!==0||Mu(a,e,n)}s.memoizedState=n;var l={value:n,getSnapshot:e};return s.queue=l,Xu(Ou.bind(null,a,l,t),[t]),a.flags|=2048,Ys(9,{destroy:void 0},Du.bind(null,a,l,n,e),null),n},useId:function(){var t=Dn(),e=qe.identifierPrefix;if(Ee){var n=ka,a=Ca;n=(a&~(1<<32-st(a)-1)).toString(32)+n,e="_"+e+"R_"+n,n=ko++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=mf++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:ic,useFormState:Uu,useActionState:Uu,useOptimistic:function(t){var e=Dn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=sc.bind(null,he,!0,n),n.dispatch=e,[t,e]},useMemoCache:Wl,useCacheRefresh:function(){return Dn().memoizedState=_f.bind(null,he)},useEffectEvent:function(t){var e=Dn(),n={impl:t};return e.memoizedState=n,function(){if((Ce&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},rc={readContext:xn,use:Mo,useCallback:$u,useContext:xn,useEffect:tc,useImperativeHandle:Ju,useInsertionEffect:Wu,useLayoutEffect:Qu,useMemo:td,useReducer:Do,useRef:Ku,useState:function(){return Do(Qa)},useDebugValue:ec,useDeferredValue:function(t,e){var n=nn();return ed(n,Le.memoizedState,t,e)},useTransition:function(){var t=Do(Qa)[0],e=nn().memoizedState;return[typeof t=="boolean"?t:Nr(t),e]},useSyncExternalStore:ju,useId:sd,useHostTransitionStatus:ic,useFormState:Hu,useActionState:Hu,useOptimistic:function(t,e){var n=nn();return Lu(n,Le,t,e)},useMemoCache:Wl,useCacheRefresh:rd};rc.useEffectEvent=Vu;var dd={readContext:xn,use:Mo,useCallback:$u,useContext:xn,useEffect:tc,useImperativeHandle:Ju,useInsertionEffect:Wu,useLayoutEffect:Qu,useMemo:td,useReducer:Zl,useRef:Ku,useState:function(){return Zl(Qa)},useDebugValue:ec,useDeferredValue:function(t,e){var n=nn();return Le===null?nc(n,t,e):ed(n,Le.memoizedState,t,e)},useTransition:function(){var t=Zl(Qa)[0],e=nn().memoizedState;return[typeof t=="boolean"?t:Nr(t),e]},useSyncExternalStore:ju,useId:sd,useHostTransitionStatus:ic,useFormState:Yu,useActionState:Yu,useOptimistic:function(t,e){var n=nn();return Le!==null?Lu(n,Le,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Wl,useCacheRefresh:rd};dd.useEffectEvent=Vu;function oc(t,e,n,a){e=t.memoizedState,n=n(a,e),n=n==null?e:h({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var lc={enqueueSetState:function(t,e,n){t=t._reactInternals;var a=Wn(),s=Si(a);s.payload=e,n!=null&&(s.callback=n),e=wi(t,s,a),e!==null&&(qn(e,t,a),jr(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var a=Wn(),s=Si(a);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=wi(t,s,a),e!==null&&(qn(e,t,a),jr(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wn(),a=Si(n);a.tag=2,e!=null&&(a.callback=e),e=wi(t,a,n),e!==null&&(qn(e,t,n),jr(e,t,n))}};function hd(t,e,n,a,s,l,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,l,w):e.prototype&&e.prototype.isPureReactComponent?!i(n,a)||!i(s,l):!0}function fd(t,e,n,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,a),e.state!==t&&lc.enqueueReplaceState(e,e.state,null)}function us(t,e){var n=e;if("ref"in e){n={};for(var a in e)a!=="ref"&&(n[a]=e[a])}if(t=t.defaultProps){n===e&&(n=h({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}function pd(t){ee(t)}function md(t){console.error(t)}function gd(t){ee(t)}function Lo(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(a){setTimeout(function(){throw a})}}function yd(t,e,n){try{var a=t.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function cc(t,e,n){return n=Si(n),n.tag=3,n.payload={element:null},n.callback=function(){Lo(t,e)},n}function bd(t){return t=Si(t),t.tag=3,t}function xd(t,e,n,a){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var l=a.value;t.payload=function(){return s(l)},t.callback=function(){yd(e,n,a)}}var w=n.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(t.callback=function(){yd(e,n,a),typeof s!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var H=a.stack;this.componentDidCatch(a.value,{componentStack:H!==null?H:""})})}function Ef(t,e,n,a,s){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(e=n.alternate,e!==null&&Fs(e,n,s,!0),n=Yn.current,n!==null){switch(n.tag){case 31:case 13:return ra===null?Vo():n.alternate===null&&Je===0&&(Je=3),n.flags&=-257,n.flags|=65536,n.lanes=s,a===Eo?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([a]):e.add(a),Nc(t,a,s)),!1;case 22:return n.flags|=65536,a===Eo?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([a]):n.add(a)),Nc(t,a,s)),!1}throw Error(r(435,n.tag))}return Nc(t,a,s),Vo(),!1}if(Ee)return e=Yn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=s,a!==Cl&&(t=Error(r(422),{cause:a}),wr(na(t,n)))):(a!==Cl&&(e=Error(r(423),{cause:a}),wr(na(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,a=na(a,n),s=cc(t.stateNode,a,s),Il(t,s),Je!==4&&(Je=2)),!1;var l=Error(r(520),{cause:a});if(l=na(l,n),Gr===null?Gr=[l]:Gr.push(l),Je!==4&&(Je=2),e===null)return!0;a=na(a,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=cc(n.stateNode,a,t),Il(n,t),!1;case 1:if(e=n.type,l=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(Mi===null||!Mi.has(l))))return n.flags|=65536,s&=-s,n.lanes|=s,s=bd(s),xd(s,t,n,a),Il(n,s),!1}n=n.return}while(n!==null);return!1}var uc=Error(r(461)),on=!1;function vn(t,e,n,a){e.child=t===null?Eu(e,null,n,a):ls(e,t.child,n,a)}function vd(t,e,n,a,s){n=n.render;var l=e.ref;if("ref"in a){var w={};for(var H in a)H!=="ref"&&(w[H]=a[H])}else w=a;return is(e),a=Yl(t,e,n,w,l,s),H=Kl(),t!==null&&!on?(Xl(t,e,s),Za(t,e,s)):(Ee&&H&&Tl(e),e.flags|=1,vn(t,e,a,s),e.child)}function _d(t,e,n,a,s){if(t===null){var l=n.type;return typeof l=="function"&&!El(l)&&l.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=l,Ad(t,e,l,a,s)):(t=yo(n.type,null,a,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(l=t.child,!bc(t,s)){var w=l.memoizedProps;if(n=n.compare,n=n!==null?n:i,n(w,a)&&t.ref===e.ref)return Za(t,e,s)}return e.flags|=1,t=Ya(l,a),t.ref=e.ref,t.return=e,e.child=t}function Ad(t,e,n,a,s){if(t!==null){var l=t.memoizedProps;if(i(l,a)&&t.ref===e.ref)if(on=!1,e.pendingProps=a=l,bc(t,s))(t.flags&131072)!==0&&(on=!0);else return e.lanes=t.lanes,Za(t,e,s)}return dc(t,e,n,a,s)}function Ed(t,e,n,a){var s=a.children,l=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((e.flags&128)!==0){if(l=l!==null?l.baseLanes|n:n,t!==null){for(a=e.child=t.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~l}else a=0,e.child=null;return Sd(t,e,l,n,a)}if((n&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&_o(e,l!==null?l.cachePool:null),l!==null?Tu(e,l):Bl(),Ru(e);else return a=e.lanes=536870912,Sd(t,e,l!==null?l.baseLanes|n:n,n,a)}else l!==null?(_o(e,l.cachePool),Tu(e,l),Ri(),e.memoizedState=null):(t!==null&&_o(e,null),Bl(),Ri());return vn(t,e,s,n),e.child}function Fr(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Sd(t,e,n,a,s){var l=Pl();return l=l===null?null:{parent:sn._currentValue,pool:l},e.memoizedState={baseLanes:n,cachePool:l},t!==null&&_o(e,null),Bl(),Ru(e),t!==null&&Fs(t,e,a,!0),e.childLanes=s,null}function Fo(t,e){return e=Io({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function wd(t,e,n){return ls(e,t.child,null,n),t=Fo(e,e.pendingProps),t.flags|=2,Kn(e),e.memoizedState=null,t}function Sf(t,e,n){var a=e.pendingProps,s=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Ee){if(a.mode==="hidden")return t=Fo(e,a),e.lanes=536870912,Fr(null,t);if(Hl(e),(t=Ye)?(t=Fh(t,sa),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:xi!==null?{id:Ca,overflow:ka}:null,retryLane:536870912,hydrationErrors:null},n=lu(t),n.return=e,e.child=n,bn=e,Ye=null)):t=null,t===null)throw _i(e);return e.lanes=536870912,null}return Fo(e,a)}var l=t.memoizedState;if(l!==null){var w=l.dehydrated;if(Hl(e),s)if(e.flags&256)e.flags&=-257,e=wd(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(r(558));else if(on||Fs(t,e,n,!1),s=(n&t.childLanes)!==0,on||s){if(a=qe,a!==null&&(w=Ie(a,n),w!==0&&w!==l.retryLane))throw l.retryLane=w,je(t,w),qn(a,t,w),uc;Vo(),e=wd(t,e,n)}else t=l.treeContext,Ye=oa(w.nextSibling),bn=e,Ee=!0,vi=null,sa=!1,t!==null&&du(e,t),e=Fo(e,a),e.flags|=4096;return e}return t=Ya(t.child,{mode:a.mode,children:a.children}),t.ref=e.ref,e.child=t,t.return=e,t}function zo(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function dc(t,e,n,a,s){return is(e),n=Yl(t,e,n,a,void 0,s),a=Kl(),t!==null&&!on?(Xl(t,e,s),Za(t,e,s)):(Ee&&a&&Tl(e),e.flags|=1,vn(t,e,n,s),e.child)}function Td(t,e,n,a,s,l){return is(e),e.updateQueue=null,n=ku(e,a,n,s),Cu(t),a=Kl(),t!==null&&!on?(Xl(t,e,l),Za(t,e,l)):(Ee&&a&&Tl(e),e.flags|=1,vn(t,e,n,l),e.child)}function Rd(t,e,n,a,s){if(is(e),e.stateNode===null){var l=Os,w=n.contextType;typeof w=="object"&&w!==null&&(l=xn(w)),l=new n(a,l),e.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=lc,e.stateNode=l,l._reactInternals=e,l=e.stateNode,l.props=a,l.state=e.memoizedState,l.refs={},Fl(e),w=n.contextType,l.context=typeof w=="object"&&w!==null?xn(w):Os,l.state=e.memoizedState,w=n.getDerivedStateFromProps,typeof w=="function"&&(oc(e,n,w,a),l.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(w=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),w!==l.state&&lc.enqueueReplaceState(l,l.state,null),Dr(e,a,l,s),Mr(),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308),a=!0}else if(t===null){l=e.stateNode;var H=e.memoizedProps,ot=us(n,H);l.props=ot;var St=l.context,Pt=n.contextType;w=Os,typeof Pt=="object"&&Pt!==null&&(w=xn(Pt));var Bt=n.getDerivedStateFromProps;Pt=typeof Bt=="function"||typeof l.getSnapshotBeforeUpdate=="function",H=e.pendingProps!==H,Pt||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(H||St!==w)&&fd(e,l,a,w),Ei=!1;var Ct=e.memoizedState;l.state=Ct,Dr(e,a,l,s),Mr(),St=e.memoizedState,H||Ct!==St||Ei?(typeof Bt=="function"&&(oc(e,n,Bt,a),St=e.memoizedState),(ot=Ei||hd(e,n,ot,a,Ct,St,w))?(Pt||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=St),l.props=a,l.state=St,l.context=w,a=ot):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{l=e.stateNode,zl(t,e),w=e.memoizedProps,Pt=us(n,w),l.props=Pt,Bt=e.pendingProps,Ct=l.context,St=n.contextType,ot=Os,typeof St=="object"&&St!==null&&(ot=xn(St)),H=n.getDerivedStateFromProps,(St=typeof H=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(w!==Bt||Ct!==ot)&&fd(e,l,a,ot),Ei=!1,Ct=e.memoizedState,l.state=Ct,Dr(e,a,l,s),Mr();var jt=e.memoizedState;w!==Bt||Ct!==jt||Ei||t!==null&&t.dependencies!==null&&xo(t.dependencies)?(typeof H=="function"&&(oc(e,n,H,a),jt=e.memoizedState),(Pt=Ei||hd(e,n,Pt,a,Ct,jt,ot)||t!==null&&t.dependencies!==null&&xo(t.dependencies))?(St||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(a,jt,ot),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(a,jt,ot)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||w===t.memoizedProps&&Ct===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&Ct===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=jt),l.props=a,l.state=jt,l.context=ot,a=Pt):(typeof l.componentDidUpdate!="function"||w===t.memoizedProps&&Ct===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&Ct===t.memoizedState||(e.flags|=1024),a=!1)}return l=a,zo(t,e),a=(e.flags&128)!==0,l||a?(l=e.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:l.render(),e.flags|=1,t!==null&&a?(e.child=ls(e,t.child,null,s),e.child=ls(e,null,n,s)):vn(t,e,n,s),e.memoizedState=l.state,t=e.child):t=Za(t,e,s),t}function Cd(t,e,n,a){return ns(),e.flags|=256,vn(t,e,n,a),e.child}var hc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fc(t){return{baseLanes:t,cachePool:yu()}}function pc(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Vn),t}function kd(t,e,n){var a=e.pendingProps,s=!1,l=(e.flags&128)!==0,w;if((w=l)||(w=t!==null&&t.memoizedState===null?!1:(en.current&2)!==0),w&&(s=!0,e.flags&=-129),w=(e.flags&32)!==0,e.flags&=-33,t===null){if(Ee){if(s?Ti(e):Ri(),(t=Ye)?(t=Fh(t,sa),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:xi!==null?{id:Ca,overflow:ka}:null,retryLane:536870912,hydrationErrors:null},n=lu(t),n.return=e,e.child=n,bn=e,Ye=null)):t=null,t===null)throw _i(e);return Qc(t)?e.lanes=32:e.lanes=536870912,null}var H=a.children;return a=a.fallback,s?(Ri(),s=e.mode,H=Io({mode:"hidden",children:H},s),a=es(a,s,n,null),H.return=e,a.return=e,H.sibling=a,e.child=H,a=e.child,a.memoizedState=fc(n),a.childLanes=pc(t,w,n),e.memoizedState=hc,Fr(null,a)):(Ti(e),mc(e,H))}var ot=t.memoizedState;if(ot!==null&&(H=ot.dehydrated,H!==null)){if(l)e.flags&256?(Ti(e),e.flags&=-257,e=gc(t,e,n)):e.memoizedState!==null?(Ri(),e.child=t.child,e.flags|=128,e=null):(Ri(),H=a.fallback,s=e.mode,a=Io({mode:"visible",children:a.children},s),H=es(H,s,n,null),H.flags|=2,a.return=e,H.return=e,a.sibling=H,e.child=a,ls(e,t.child,null,n),a=e.child,a.memoizedState=fc(n),a.childLanes=pc(t,w,n),e.memoizedState=hc,e=Fr(null,a));else if(Ti(e),Qc(H)){if(w=H.nextSibling&&H.nextSibling.dataset,w)var St=w.dgst;w=St,a=Error(r(419)),a.stack="",a.digest=w,wr({value:a,source:null,stack:null}),e=gc(t,e,n)}else if(on||Fs(t,e,n,!1),w=(n&t.childLanes)!==0,on||w){if(w=qe,w!==null&&(a=Ie(w,n),a!==0&&a!==ot.retryLane))throw ot.retryLane=a,je(t,a),qn(w,t,a),uc;Wc(H)||Vo(),e=gc(t,e,n)}else Wc(H)?(e.flags|=192,e.child=t.child,e=null):(t=ot.treeContext,Ye=oa(H.nextSibling),bn=e,Ee=!0,vi=null,sa=!1,t!==null&&du(e,t),e=mc(e,a.children),e.flags|=4096);return e}return s?(Ri(),H=a.fallback,s=e.mode,ot=t.child,St=ot.sibling,a=Ya(ot,{mode:"hidden",children:a.children}),a.subtreeFlags=ot.subtreeFlags&65011712,St!==null?H=Ya(St,H):(H=es(H,s,n,null),H.flags|=2),H.return=e,a.return=e,a.sibling=H,e.child=a,Fr(null,a),a=e.child,H=t.child.memoizedState,H===null?H=fc(n):(s=H.cachePool,s!==null?(ot=sn._currentValue,s=s.parent!==ot?{parent:ot,pool:ot}:s):s=yu(),H={baseLanes:H.baseLanes|n,cachePool:s}),a.memoizedState=H,a.childLanes=pc(t,w,n),e.memoizedState=hc,Fr(t.child,a)):(Ti(e),n=t.child,t=n.sibling,n=Ya(n,{mode:"visible",children:a.children}),n.return=e,n.sibling=null,t!==null&&(w=e.deletions,w===null?(e.deletions=[t],e.flags|=16):w.push(t)),e.child=n,e.memoizedState=null,n)}function mc(t,e){return e=Io({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Io(t,e){return t=Gn(22,t,null,e),t.lanes=0,t}function gc(t,e,n){return ls(e,t.child,null,n),t=mc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jd(t,e,n){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),Ml(t.return,e,n)}function yc(t,e,n,a,s,l){var w=t.memoizedState;w===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s,treeForkCount:l}:(w.isBackwards=e,w.rendering=null,w.renderingStartTime=0,w.last=a,w.tail=n,w.tailMode=s,w.treeForkCount=l)}function Md(t,e,n){var a=e.pendingProps,s=a.revealOrder,l=a.tail;a=a.children;var w=en.current,H=(w&2)!==0;if(H?(w=w&1|2,e.flags|=128):w&=1,U(en,w),vn(t,e,a,n),a=Ee?Sr:0,!H&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jd(t,n,e);else if(t.tag===19)jd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ro(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),yc(e,!1,s,n,l,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ro(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}yc(e,!0,n,null,l,a);break;case"together":yc(e,!1,null,null,void 0,a);break;default:e.memoizedState=null}return e.child}function Za(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ji|=e.lanes,(n&e.childLanes)===0)if(t!==null){if(Fs(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(r(153));if(e.child!==null){for(t=e.child,n=Ya(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ya(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bc(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&xo(t)))}function wf(t,e,n){switch(e.tag){case 3:I(e,e.stateNode.containerInfo),Ai(e,sn,t.memoizedState.cache),ns();break;case 27:case 5:K(e);break;case 4:I(e,e.stateNode.containerInfo);break;case 10:Ai(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Hl(e),null;break;case 13:var a=e.memoizedState;if(a!==null)return a.dehydrated!==null?(Ti(e),e.flags|=128,null):(n&e.child.childLanes)!==0?kd(t,e,n):(Ti(e),t=Za(t,e,n),t!==null?t.sibling:null);Ti(e);break;case 19:var s=(t.flags&128)!==0;if(a=(n&e.childLanes)!==0,a||(Fs(t,e,n,!1),a=(n&e.childLanes)!==0),s){if(a)return Md(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),U(en,en.current),a)break;return null;case 22:return e.lanes=0,Ed(t,e,n,e.pendingProps);case 24:Ai(e,sn,t.memoizedState.cache)}return Za(t,e,n)}function Dd(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)on=!0;else{if(!bc(t,n)&&(e.flags&128)===0)return on=!1,wf(t,e,n);on=(t.flags&131072)!==0}else on=!1,Ee&&(e.flags&1048576)!==0&&uu(e,Sr,e.index);switch(e.lanes=0,e.tag){case 16:t:{var a=e.pendingProps;if(t=rs(e.elementType),e.type=t,typeof t=="function")El(t)?(a=us(t,a),e.tag=1,e=Rd(null,e,t,a,n)):(e.tag=0,e=dc(null,e,t,a,n));else{if(t!=null){var s=t.$$typeof;if(s===G){e.tag=11,e=vd(null,e,t,a,n);break t}else if(s===Q){e.tag=14,e=_d(null,e,t,a,n);break t}}throw e=Mt(t)||t,Error(r(306,e,""))}}return e;case 0:return dc(t,e,e.type,e.pendingProps,n);case 1:return a=e.type,s=us(a,e.pendingProps),Rd(t,e,a,s,n);case 3:t:{if(I(e,e.stateNode.containerInfo),t===null)throw Error(r(387));a=e.pendingProps;var l=e.memoizedState;s=l.element,zl(t,e),Dr(e,a,null,n);var w=e.memoizedState;if(a=w.cache,Ai(e,sn,a),a!==l.cache&&Dl(e,[sn],n,!0),Mr(),a=w.element,l.isDehydrated)if(l={element:a,isDehydrated:!1,cache:w.cache},e.updateQueue.baseState=l,e.memoizedState=l,e.flags&256){e=Cd(t,e,a,n);break t}else if(a!==s){s=na(Error(r(424)),e),wr(s),e=Cd(t,e,a,n);break t}else for(t=e.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Ye=oa(t.firstChild),bn=e,Ee=!0,vi=null,sa=!0,n=Eu(e,null,a,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ns(),a===s){e=Za(t,e,n);break t}vn(t,e,a,n)}e=e.child}return e;case 26:return zo(t,e),t===null?(n=Hh(e.type,null,e.pendingProps,null))?e.memoizedState=n:Ee||(n=e.type,t=e.pendingProps,a=el(b.current).createElement(n),a[Ue]=e,a[$e]=t,_n(a,n,t),tn(a),e.stateNode=a):e.memoizedState=Hh(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return K(e),t===null&&Ee&&(a=e.stateNode=qh(e.type,e.pendingProps,b.current),bn=e,sa=!0,s=Ye,Pi(e.type)?(Zc=s,Ye=oa(a.firstChild)):Ye=s),vn(t,e,e.pendingProps.children,n),zo(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Ee&&((s=a=Ye)&&(a=ep(a,e.type,e.pendingProps,sa),a!==null?(e.stateNode=a,bn=e,Ye=oa(a.firstChild),sa=!1,s=!0):s=!1),s||_i(e)),K(e),s=e.type,l=e.pendingProps,w=t!==null?t.memoizedProps:null,a=l.children,Kc(s,l)?a=null:w!==null&&Kc(s,w)&&(e.flags|=32),e.memoizedState!==null&&(s=Yl(t,e,gf,null,null,n),Jr._currentValue=s),zo(t,e),vn(t,e,a,n),e.child;case 6:return t===null&&Ee&&((t=n=Ye)&&(n=np(n,e.pendingProps,sa),n!==null?(e.stateNode=n,bn=e,Ye=null,t=!0):t=!1),t||_i(e)),null;case 13:return kd(t,e,n);case 4:return I(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=ls(e,null,a,n):vn(t,e,a,n),e.child;case 11:return vd(t,e,e.type,e.pendingProps,n);case 7:return vn(t,e,e.pendingProps,n),e.child;case 8:return vn(t,e,e.pendingProps.children,n),e.child;case 12:return vn(t,e,e.pendingProps.children,n),e.child;case 10:return a=e.pendingProps,Ai(e,e.type,a.value),vn(t,e,a.children,n),e.child;case 9:return s=e.type._context,a=e.pendingProps.children,is(e),s=xn(s),a=a(s),e.flags|=1,vn(t,e,a,n),e.child;case 14:return _d(t,e,e.type,e.pendingProps,n);case 15:return Ad(t,e,e.type,e.pendingProps,n);case 19:return Md(t,e,n);case 31:return Sf(t,e,n);case 22:return Ed(t,e,n,e.pendingProps);case 24:return is(e),a=xn(sn),t===null?(s=Pl(),s===null&&(s=qe,l=Ol(),s.pooledCache=l,l.refCount++,l!==null&&(s.pooledCacheLanes|=n),s=l),e.memoizedState={parent:a,cache:s},Fl(e),Ai(e,sn,s)):((t.lanes&n)!==0&&(zl(t,e),Dr(e,null,null,n),Mr()),s=t.memoizedState,l=e.memoizedState,s.parent!==a?(s={parent:a,cache:a},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),Ai(e,sn,a)):(a=l.cache,Ai(e,sn,a),a!==s.cache&&Dl(e,[sn],n,!0))),vn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(r(156,e.tag))}function Ja(t){t.flags|=4}function xc(t,e,n,a,s){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(s&335544128)===s)if(t.stateNode.complete)t.flags|=8192;else if(sh())t.flags|=8192;else throw os=Eo,Ll}else t.flags&=-16777217}function Od(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Vh(e))if(sh())t.flags|=8192;else throw os=Eo,Ll}function qo(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Da():536870912,t.lanes|=e,Ws|=e)}function zr(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function Ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,a=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=a,t.childLanes=n,e}function Tf(t,e,n){var a=e.pendingProps;switch(Rl(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(e),null;case 1:return Ke(e),null;case 3:return n=e.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),Va(sn),Z(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ls(e)?Ja(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,kl())),Ke(e),null;case 26:var s=e.type,l=e.memoizedState;return t===null?(Ja(e),l!==null?(Ke(e),Od(e,l)):(Ke(e),xc(e,s,null,a,n))):l?l!==t.memoizedState?(Ja(e),Ke(e),Od(e,l)):(Ke(e),e.flags&=-16777217):(t=t.memoizedProps,t!==a&&Ja(e),Ke(e),xc(e,s,t,a,n)),null;case 27:if(at(e),n=b.current,s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Ja(e);else{if(!a){if(e.stateNode===null)throw Error(r(166));return Ke(e),null}t=$.current,Ls(e)?hu(e):(t=qh(s,a,n),e.stateNode=t,Ja(e))}return Ke(e),null;case 5:if(at(e),s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Ja(e);else{if(!a){if(e.stateNode===null)throw Error(r(166));return Ke(e),null}if(l=$.current,Ls(e))hu(e);else{var w=el(b.current);switch(l){case 1:l=w.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:l=w.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":l=w.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":l=w.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":l=w.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof a.is=="string"?w.createElement("select",{is:a.is}):w.createElement("select"),a.multiple?l.multiple=!0:a.size&&(l.size=a.size);break;default:l=typeof a.is=="string"?w.createElement(s,{is:a.is}):w.createElement(s)}}l[Ue]=e,l[$e]=a;t:for(w=e.child;w!==null;){if(w.tag===5||w.tag===6)l.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===e)break t;for(;w.sibling===null;){if(w.return===null||w.return===e)break t;w=w.return}w.sibling.return=w.return,w=w.sibling}e.stateNode=l;t:switch(_n(l,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&Ja(e)}}return Ke(e),xc(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==a&&Ja(e);else{if(typeof a!="string"&&e.stateNode===null)throw Error(r(166));if(t=b.current,Ls(e)){if(t=e.stateNode,n=e.memoizedProps,a=null,s=bn,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}t[Ue]=e,t=!!(t.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||kh(t.nodeValue,n)),t||_i(e,!0)}else t=el(t).createTextNode(a),t[Ue]=e,e.stateNode=t}return Ke(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(a=Ls(e),n!==null){if(t===null){if(!a)throw Error(r(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Ue]=e}else ns(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Ke(e),t=!1}else n=kl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Kn(e),e):(Kn(e),null);if((e.flags&128)!==0)throw Error(r(558))}return Ke(e),null;case 13:if(a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=Ls(e),a!==null&&a.dehydrated!==null){if(t===null){if(!s)throw Error(r(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));s[Ue]=e}else ns(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Ke(e),s=!1}else s=kl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(Kn(e),e):(Kn(e),null)}return Kn(e),(e.flags&128)!==0?(e.lanes=n,e):(n=a!==null,t=t!==null&&t.memoizedState!==null,n&&(a=e.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool),l=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==s&&(a.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),qo(e,e.updateQueue),Ke(e),null);case 4:return Z(),t===null&&Bc(e.stateNode.containerInfo),Ke(e),null;case 10:return Va(e.type),Ke(e),null;case 19:if(L(en),a=e.memoizedState,a===null)return Ke(e),null;if(s=(e.flags&128)!==0,l=a.rendering,l===null)if(s)zr(a,!1);else{if(Je!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(l=Ro(t),l!==null){for(e.flags|=128,zr(a,!1),t=l.updateQueue,e.updateQueue=t,qo(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)ou(n,t),n=n.sibling;return U(en,en.current&1|2),Ee&&Ka(e,a.treeForkCount),e.child}t=t.sibling}a.tail!==null&&oe()>Yo&&(e.flags|=128,s=!0,zr(a,!1),e.lanes=4194304)}else{if(!s)if(t=Ro(l),t!==null){if(e.flags|=128,s=!0,t=t.updateQueue,e.updateQueue=t,qo(e,t),zr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!Ee)return Ke(e),null}else 2*oe()-a.renderingStartTime>Yo&&n!==536870912&&(e.flags|=128,s=!0,zr(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(t=a.last,t!==null?t.sibling=l:e.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=oe(),t.sibling=null,n=en.current,U(en,s?n&1|2:n&1),Ee&&Ka(e,a.treeForkCount),t):(Ke(e),null);case 22:case 23:return Kn(e),Ul(),a=e.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(e.flags|=8192):a&&(e.flags|=8192),a?(n&536870912)!==0&&(e.flags&128)===0&&(Ke(e),e.subtreeFlags&6&&(e.flags|=8192)):Ke(e),n=e.updateQueue,n!==null&&qo(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),a=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),a!==n&&(e.flags|=2048),t!==null&&L(ss),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Va(sn),Ke(e),null;case 25:return null;case 30:return null}throw Error(r(156,e.tag))}function Rf(t,e){switch(Rl(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Va(sn),Z(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return at(e),null;case 31:if(e.memoizedState!==null){if(Kn(e),e.alternate===null)throw Error(r(340));ns()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Kn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(r(340));ns()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return L(en),null;case 4:return Z(),null;case 10:return Va(e.type),null;case 22:case 23:return Kn(e),Ul(),t!==null&&L(ss),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Va(sn),null;case 25:return null;default:return null}}function Nd(t,e){switch(Rl(e),e.tag){case 3:Va(sn),Z();break;case 26:case 27:case 5:at(e);break;case 4:Z();break;case 31:e.memoizedState!==null&&Kn(e);break;case 13:Kn(e);break;case 19:L(en);break;case 10:Va(e.type);break;case 22:case 23:Kn(e),Ul(),t!==null&&L(ss);break;case 24:Va(sn)}}function Ir(t,e){try{var n=e.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var s=a.next;n=s;do{if((n.tag&t)===t){a=void 0;var l=n.create,w=n.inst;a=l(),w.destroy=a}n=n.next}while(n!==s)}}catch(H){Oe(e,e.return,H)}}function Ci(t,e,n){try{var a=e.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var l=s.next;a=l;do{if((a.tag&t)===t){var w=a.inst,H=w.destroy;if(H!==void 0){w.destroy=void 0,s=e;var ot=n,St=H;try{St()}catch(Pt){Oe(s,ot,Pt)}}}a=a.next}while(a!==l)}}catch(Pt){Oe(e,e.return,Pt)}}function Pd(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{wu(e,n)}catch(a){Oe(t,t.return,a)}}}function Ld(t,e,n){n.props=us(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(a){Oe(t,e,a)}}function qr(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof n=="function"?t.refCleanup=n(a):n.current=a}}catch(s){Oe(t,e,s)}}function ja(t,e){var n=t.ref,a=t.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(s){Oe(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){Oe(t,e,s)}else n.current=null}function Fd(t){var e=t.type,n=t.memoizedProps,a=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break t;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(s){Oe(t,t.return,s)}}function vc(t,e,n){try{var a=t.stateNode;Wf(a,t.type,n,e),a[$e]=e}catch(s){Oe(t,t.return,s)}}function zd(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Pi(t.type)||t.tag===4}function _c(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||zd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Pi(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ac(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Pn));else if(a!==4&&(a===27&&Pi(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Ac(t,e,n),t=t.sibling;t!==null;)Ac(t,e,n),t=t.sibling}function Bo(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(a!==4&&(a===27&&Pi(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Bo(t,e,n),t=t.sibling;t!==null;)Bo(t,e,n),t=t.sibling}function Id(t){var e=t.stateNode,n=t.memoizedProps;try{for(var a=t.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);_n(e,a,n),e[Ue]=t,e[$e]=n}catch(l){Oe(t,t.return,l)}}var $a=!1,ln=!1,Ec=!1,qd=typeof WeakSet=="function"?WeakSet:Set,mn=null;function Cf(t,e){if(t=t.containerInfo,Gc=ll,t=k(t),z(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{n=(n=t.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var s=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break t}var w=0,H=-1,ot=-1,St=0,Pt=0,Bt=t,Ct=null;e:for(;;){for(var jt;Bt!==n||s!==0&&Bt.nodeType!==3||(H=w+s),Bt!==l||a!==0&&Bt.nodeType!==3||(ot=w+a),Bt.nodeType===3&&(w+=Bt.nodeValue.length),(jt=Bt.firstChild)!==null;)Ct=Bt,Bt=jt;for(;;){if(Bt===t)break e;if(Ct===n&&++St===s&&(H=w),Ct===l&&++Pt===a&&(ot=w),(jt=Bt.nextSibling)!==null)break;Bt=Ct,Ct=Bt.parentNode}Bt=jt}n=H===-1||ot===-1?null:{start:H,end:ot}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yc={focusedElem:t,selectionRange:n},ll=!1,mn=e;mn!==null;)if(e=mn,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,mn=t;else for(;mn!==null;){switch(e=mn,l=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)s=t[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&l!==null){t=void 0,n=e,s=l.memoizedProps,l=l.memoizedState,a=n.stateNode;try{var ne=us(n.type,s);t=a.getSnapshotBeforeUpdate(ne,l),a.__reactInternalSnapshotBeforeUpdate=t}catch(ce){Oe(n,n.return,ce)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Vc(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=e.sibling,t!==null){t.return=e.return,mn=t;break}mn=e.return}}function Bd(t,e,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:ei(t,n),a&4&&Ir(5,n);break;case 1:if(ei(t,n),a&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(w){Oe(n,n.return,w)}else{var s=us(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(w){Oe(n,n.return,w)}}a&64&&Pd(n),a&512&&qr(n,n.return);break;case 3:if(ei(t,n),a&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{wu(t,e)}catch(w){Oe(n,n.return,w)}}break;case 27:e===null&&a&4&&Id(n);case 26:case 5:ei(t,n),e===null&&a&4&&Fd(n),a&512&&qr(n,n.return);break;case 12:ei(t,n);break;case 31:ei(t,n),a&4&&Gd(t,n);break;case 13:ei(t,n),a&4&&Yd(t,n),a&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=Ff.bind(null,n),ap(t,n))));break;case 22:if(a=n.memoizedState!==null||$a,!a){e=e!==null&&e.memoizedState!==null||ln,s=$a;var l=ln;$a=a,(ln=e)&&!l?ni(t,n,(n.subtreeFlags&8772)!==0):ei(t,n),$a=s,ln=l}break;case 30:break;default:ei(t,n)}}function Ud(t){var e=t.alternate;e!==null&&(t.alternate=null,Ud(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&fs(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ve=null,Ln=!1;function ti(t,e,n){for(n=n.child;n!==null;)Hd(t,e,n),n=n.sibling}function Hd(t,e,n){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Qn,n)}catch{}switch(n.tag){case 26:ln||ja(n,e),ti(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ln||ja(n,e);var a=Ve,s=Ln;Pi(n.type)&&(Ve=n.stateNode,Ln=!1),ti(t,e,n),Wr(n.stateNode),Ve=a,Ln=s;break;case 5:ln||ja(n,e);case 6:if(a=Ve,s=Ln,Ve=null,ti(t,e,n),Ve=a,Ln=s,Ve!==null)if(Ln)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(n.stateNode)}catch(l){Oe(n,e,l)}else try{Ve.removeChild(n.stateNode)}catch(l){Oe(n,e,l)}break;case 18:Ve!==null&&(Ln?(t=Ve,Ph(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),ar(t)):Ph(Ve,n.stateNode));break;case 4:a=Ve,s=Ln,Ve=n.stateNode.containerInfo,Ln=!0,ti(t,e,n),Ve=a,Ln=s;break;case 0:case 11:case 14:case 15:Ci(2,n,e),ln||Ci(4,n,e),ti(t,e,n);break;case 1:ln||(ja(n,e),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Ld(n,e,a)),ti(t,e,n);break;case 21:ti(t,e,n);break;case 22:ln=(a=ln)||n.memoizedState!==null,ti(t,e,n),ln=a;break;default:ti(t,e,n)}}function Gd(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ar(t)}catch(n){Oe(e,e.return,n)}}}function Yd(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ar(t)}catch(n){Oe(e,e.return,n)}}function kf(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new qd),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new qd),e;default:throw Error(r(435,t.tag))}}function Uo(t,e){var n=kf(t);e.forEach(function(a){if(!n.has(a)){n.add(a);var s=zf.bind(null,t,a);a.then(s,s)}})}function Fn(t,e){var n=e.deletions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a],l=t,w=e,H=w;t:for(;H!==null;){switch(H.tag){case 27:if(Pi(H.type)){Ve=H.stateNode,Ln=!1;break t}break;case 5:Ve=H.stateNode,Ln=!1;break t;case 3:case 4:Ve=H.stateNode.containerInfo,Ln=!0;break t}H=H.return}if(Ve===null)throw Error(r(160));Hd(l,w,s),Ve=null,Ln=!1,l=s.alternate,l!==null&&(l.return=null),s.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Kd(e,t),e=e.sibling}var ma=null;function Kd(t,e){var n=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Fn(e,t),zn(t),a&4&&(Ci(3,t,t.return),Ir(3,t),Ci(5,t,t.return));break;case 1:Fn(e,t),zn(t),a&512&&(ln||n===null||ja(n,n.return)),a&64&&$a&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var s=ma;if(Fn(e,t),zn(t),a&512&&(ln||n===null||ja(n,n.return)),a&4){var l=n!==null?n.memoizedState:null;if(a=t.memoizedState,n===null)if(a===null)if(t.stateNode===null){t:{a=t.type,n=t.memoizedProps,s=s.ownerDocument||s;e:switch(a){case"title":l=s.getElementsByTagName("title")[0],(!l||l[Bn]||l[Ue]||l.namespaceURI==="http://www.w3.org/2000/svg"||l.hasAttribute("itemprop"))&&(l=s.createElement(a),s.head.insertBefore(l,s.querySelector("head > title"))),_n(l,a,n),l[Ue]=t,tn(l),a=l;break t;case"link":var w=Kh("link","href",s).get(a+(n.href||""));if(w){for(var H=0;H<w.length;H++)if(l=w[H],l.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&l.getAttribute("rel")===(n.rel==null?null:n.rel)&&l.getAttribute("title")===(n.title==null?null:n.title)&&l.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){w.splice(H,1);break e}}l=s.createElement(a),_n(l,a,n),s.head.appendChild(l);break;case"meta":if(w=Kh("meta","content",s).get(a+(n.content||""))){for(H=0;H<w.length;H++)if(l=w[H],l.getAttribute("content")===(n.content==null?null:""+n.content)&&l.getAttribute("name")===(n.name==null?null:n.name)&&l.getAttribute("property")===(n.property==null?null:n.property)&&l.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&l.getAttribute("charset")===(n.charSet==null?null:n.charSet)){w.splice(H,1);break e}}l=s.createElement(a),_n(l,a,n),s.head.appendChild(l);break;default:throw Error(r(468,a))}l[Ue]=t,tn(l),a=l}t.stateNode=a}else Xh(s,t.type,t.stateNode);else t.stateNode=Yh(s,a,t.memoizedProps);else l!==a?(l===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):l.count--,a===null?Xh(s,t.type,t.stateNode):Yh(s,a,t.memoizedProps)):a===null&&t.stateNode!==null&&vc(t,t.memoizedProps,n.memoizedProps)}break;case 27:Fn(e,t),zn(t),a&512&&(ln||n===null||ja(n,n.return)),n!==null&&a&4&&vc(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Fn(e,t),zn(t),a&512&&(ln||n===null||ja(n,n.return)),t.flags&32){s=t.stateNode;try{Pa(s,"")}catch(ne){Oe(t,t.return,ne)}}a&4&&t.stateNode!=null&&(s=t.memoizedProps,vc(t,s,n!==null?n.memoizedProps:s)),a&1024&&(Ec=!0);break;case 6:if(Fn(e,t),zn(t),a&4){if(t.stateNode===null)throw Error(r(162));a=t.memoizedProps,n=t.stateNode;try{n.nodeValue=a}catch(ne){Oe(t,t.return,ne)}}break;case 3:if(il=null,s=ma,ma=nl(e.containerInfo),Fn(e,t),ma=s,zn(t),a&4&&n!==null&&n.memoizedState.isDehydrated)try{ar(e.containerInfo)}catch(ne){Oe(t,t.return,ne)}Ec&&(Ec=!1,Xd(t));break;case 4:a=ma,ma=nl(t.stateNode.containerInfo),Fn(e,t),zn(t),ma=a;break;case 12:Fn(e,t),zn(t);break;case 31:Fn(e,t),zn(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Uo(t,a)));break;case 13:Fn(e,t),zn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Go=oe()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Uo(t,a)));break;case 22:s=t.memoizedState!==null;var ot=n!==null&&n.memoizedState!==null,St=$a,Pt=ln;if($a=St||s,ln=Pt||ot,Fn(e,t),ln=Pt,$a=St,zn(t),a&8192)t:for(e=t.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(n===null||ot||$a||ln||ds(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){ot=n=e;try{if(l=ot.stateNode,s)w=l.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{H=ot.stateNode;var Bt=ot.memoizedProps.style,Ct=Bt!=null&&Bt.hasOwnProperty("display")?Bt.display:null;H.style.display=Ct==null||typeof Ct=="boolean"?"":(""+Ct).trim()}}catch(ne){Oe(ot,ot.return,ne)}}}else if(e.tag===6){if(n===null){ot=e;try{ot.stateNode.nodeValue=s?"":ot.memoizedProps}catch(ne){Oe(ot,ot.return,ne)}}}else if(e.tag===18){if(n===null){ot=e;try{var jt=ot.stateNode;s?Lh(jt,!0):Lh(ot.stateNode,!1)}catch(ne){Oe(ot,ot.return,ne)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}a&4&&(a=t.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Uo(t,n))));break;case 19:Fn(e,t),zn(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Uo(t,a)));break;case 30:break;case 21:break;default:Fn(e,t),zn(t)}}function zn(t){var e=t.flags;if(e&2){try{for(var n,a=t.return;a!==null;){if(zd(a)){n=a;break}a=a.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var s=n.stateNode,l=_c(t);Bo(t,l,s);break;case 5:var w=n.stateNode;n.flags&32&&(Pa(w,""),n.flags&=-33);var H=_c(t);Bo(t,H,w);break;case 3:case 4:var ot=n.stateNode.containerInfo,St=_c(t);Ac(t,St,ot);break;default:throw Error(r(161))}}catch(Pt){Oe(t,t.return,Pt)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Xd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Xd(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ei(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Bd(t,e.alternate,e),e=e.sibling}function ds(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ci(4,e,e.return),ds(e);break;case 1:ja(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Ld(e,e.return,n),ds(e);break;case 27:Wr(e.stateNode);case 26:case 5:ja(e,e.return),ds(e);break;case 22:e.memoizedState===null&&ds(e);break;case 30:ds(e);break;default:ds(e)}t=t.sibling}}function ni(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var a=e.alternate,s=t,l=e,w=l.flags;switch(l.tag){case 0:case 11:case 15:ni(s,l,n),Ir(4,l);break;case 1:if(ni(s,l,n),a=l,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(St){Oe(a,a.return,St)}if(a=l,s=a.updateQueue,s!==null){var H=a.stateNode;try{var ot=s.shared.hiddenCallbacks;if(ot!==null)for(s.shared.hiddenCallbacks=null,s=0;s<ot.length;s++)Su(ot[s],H)}catch(St){Oe(a,a.return,St)}}n&&w&64&&Pd(l),qr(l,l.return);break;case 27:Id(l);case 26:case 5:ni(s,l,n),n&&a===null&&w&4&&Fd(l),qr(l,l.return);break;case 12:ni(s,l,n);break;case 31:ni(s,l,n),n&&w&4&&Gd(s,l);break;case 13:ni(s,l,n),n&&w&4&&Yd(s,l);break;case 22:l.memoizedState===null&&ni(s,l,n),qr(l,l.return);break;case 30:break;default:ni(s,l,n)}e=e.sibling}}function Sc(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Tr(n))}function wc(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Tr(t))}function ga(t,e,n,a){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vd(t,e,n,a),e=e.sibling}function Vd(t,e,n,a){var s=e.flags;switch(e.tag){case 0:case 11:case 15:ga(t,e,n,a),s&2048&&Ir(9,e);break;case 1:ga(t,e,n,a);break;case 3:ga(t,e,n,a),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Tr(t)));break;case 12:if(s&2048){ga(t,e,n,a),t=e.stateNode;try{var l=e.memoizedProps,w=l.id,H=l.onPostCommit;typeof H=="function"&&H(w,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(ot){Oe(e,e.return,ot)}}else ga(t,e,n,a);break;case 31:ga(t,e,n,a);break;case 13:ga(t,e,n,a);break;case 23:break;case 22:l=e.stateNode,w=e.alternate,e.memoizedState!==null?l._visibility&2?ga(t,e,n,a):Br(t,e):l._visibility&2?ga(t,e,n,a):(l._visibility|=2,Ks(t,e,n,a,(e.subtreeFlags&10256)!==0||!1)),s&2048&&Sc(w,e);break;case 24:ga(t,e,n,a),s&2048&&wc(e.alternate,e);break;default:ga(t,e,n,a)}}function Ks(t,e,n,a,s){for(s=s&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var l=t,w=e,H=n,ot=a,St=w.flags;switch(w.tag){case 0:case 11:case 15:Ks(l,w,H,ot,s),Ir(8,w);break;case 23:break;case 22:var Pt=w.stateNode;w.memoizedState!==null?Pt._visibility&2?Ks(l,w,H,ot,s):Br(l,w):(Pt._visibility|=2,Ks(l,w,H,ot,s)),s&&St&2048&&Sc(w.alternate,w);break;case 24:Ks(l,w,H,ot,s),s&&St&2048&&wc(w.alternate,w);break;default:Ks(l,w,H,ot,s)}e=e.sibling}}function Br(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,a=e,s=a.flags;switch(a.tag){case 22:Br(n,a),s&2048&&Sc(a.alternate,a);break;case 24:Br(n,a),s&2048&&wc(a.alternate,a);break;default:Br(n,a)}e=e.sibling}}var Ur=8192;function Xs(t,e,n){if(t.subtreeFlags&Ur)for(t=t.child;t!==null;)Wd(t,e,n),t=t.sibling}function Wd(t,e,n){switch(t.tag){case 26:Xs(t,e,n),t.flags&Ur&&t.memoizedState!==null&&mp(n,ma,t.memoizedState,t.memoizedProps);break;case 5:Xs(t,e,n);break;case 3:case 4:var a=ma;ma=nl(t.stateNode.containerInfo),Xs(t,e,n),ma=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=Ur,Ur=16777216,Xs(t,e,n),Ur=a):Xs(t,e,n));break;default:Xs(t,e,n)}}function Qd(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Hr(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];mn=a,Jd(a,t)}Qd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zd(t),t=t.sibling}function Zd(t){switch(t.tag){case 0:case 11:case 15:Hr(t),t.flags&2048&&Ci(9,t,t.return);break;case 3:Hr(t);break;case 12:Hr(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Ho(t)):Hr(t);break;default:Hr(t)}}function Ho(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];mn=a,Jd(a,t)}Qd(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ci(8,e,e.return),Ho(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Ho(e));break;default:Ho(e)}t=t.sibling}}function Jd(t,e){for(;mn!==null;){var n=mn;switch(n.tag){case 0:case 11:case 15:Ci(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Tr(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,mn=a;else t:for(n=t;mn!==null;){a=mn;var s=a.sibling,l=a.return;if(Ud(a),a===n){mn=null;break t}if(s!==null){s.return=l,mn=s;break t}mn=l}}}var jf={getCacheForType:function(t){var e=xn(sn),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return xn(sn).controller.signal}},Mf=typeof WeakMap=="function"?WeakMap:Map,Ce=0,qe=null,ye=null,xe=0,De=0,Xn=null,ki=!1,Vs=!1,Tc=!1,ii=0,Je=0,ji=0,hs=0,Rc=0,Vn=0,Ws=0,Gr=null,In=null,Cc=!1,Go=0,$d=0,Yo=1/0,Ko=null,Mi=null,dn=0,Di=null,Qs=null,si=0,kc=0,jc=null,th=null,Yr=0,Mc=null;function Wn(){return(Ce&2)!==0&&xe!==0?xe&-xe:nt.T!==null?Fc():da()}function eh(){if(Vn===0)if((xe&536870912)===0||Ee){var t=kn;kn<<=1,(kn&3932160)===0&&(kn=262144),Vn=t}else Vn=536870912;return t=Yn.current,t!==null&&(t.flags|=32),Vn}function qn(t,e,n){(t===qe&&(De===2||De===9)||t.cancelPendingCommit!==null)&&(Zs(t,0),Oi(t,xe,Vn,!1)),gn(t,n),((Ce&2)===0||t!==qe)&&(t===qe&&((Ce&2)===0&&(hs|=n),Je===4&&Oi(t,xe,Vn,!1)),Ma(t))}function nh(t,e,n){if((Ce&6)!==0)throw Error(r(327));var a=!n&&(e&127)===0&&(e&t.expiredLanes)===0||En(t,e),s=a?Nf(t,e):Oc(t,e,!0),l=a;do{if(s===0){Vs&&!a&&Oi(t,e,0,!1);break}else{if(n=t.current.alternate,l&&!Df(n)){s=Oc(t,e,!1),l=!1;continue}if(s===2){if(l=e,t.errorRecoveryDisabledLanes&l)var w=0;else w=t.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){e=w;t:{var H=t;s=Gr;var ot=H.current.memoizedState.isDehydrated;if(ot&&(Zs(H,w).flags|=256),w=Oc(H,w,!1),w!==2){if(Tc&&!ot){H.errorRecoveryDisabledLanes|=l,hs|=l,s=4;break t}l=In,In=s,l!==null&&(In===null?In=l:In.push.apply(In,l))}s=w}if(l=!1,s!==2)continue}}if(s===1){Zs(t,0),Oi(t,e,0,!0);break}t:{switch(a=t,l=s,l){case 0:case 1:throw Error(r(345));case 4:if((e&4194048)!==e)break;case 6:Oi(a,e,Vn,!ki);break t;case 2:In=null;break;case 3:case 5:break;default:throw Error(r(329))}if((e&62914560)===e&&(s=Go+300-oe(),10<s)){if(Oi(a,e,Vn,!ki),Qe(a,0,!0)!==0)break t;si=e,a.timeoutHandle=Oh(ah.bind(null,a,n,In,Ko,Cc,e,Vn,hs,Ws,ki,l,"Throttled",-0,0),s);break t}ah(a,n,In,Ko,Cc,e,Vn,hs,Ws,ki,l,null,-0,0)}}break}while(!0);Ma(t)}function ah(t,e,n,a,s,l,w,H,ot,St,Pt,Bt,Ct,jt){if(t.timeoutHandle=-1,Bt=e.subtreeFlags,Bt&8192||(Bt&16785408)===16785408){Bt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pn},Wd(e,l,Bt);var ne=(l&62914560)===l?Go-oe():(l&4194048)===l?$d-oe():0;if(ne=gp(Bt,ne),ne!==null){si=l,t.cancelPendingCommit=ne(dh.bind(null,t,e,l,n,a,s,w,H,ot,Pt,Bt,null,Ct,jt)),Oi(t,l,w,!St);return}}dh(t,e,l,n,a,s,w,H,ot)}function Df(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var s=n[a],l=s.getSnapshot;s=s.value;try{if(!Tn(l(),s))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Oi(t,e,n,a){e&=~Rc,e&=~hs,t.suspendedLanes|=e,t.pingedLanes&=~e,a&&(t.warmLanes|=e),a=t.expirationTimes;for(var s=e;0<s;){var l=31-st(s),w=1<<l;a[l]=-1,s&=~w}n!==0&&ua(t,n,e)}function Xo(){return(Ce&6)===0?(Kr(0),!1):!0}function Dc(){if(ye!==null){if(De===0)var t=ye.return;else t=ye,Xa=as=null,Vl(t),Bs=null,Cr=0,t=ye;for(;t!==null;)Nd(t.alternate,t),t=t.return;ye=null}}function Zs(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,Jf(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),si=0,Dc(),qe=t,ye=n=Ya(t.current,null),xe=e,De=0,Xn=null,ki=!1,Vs=En(t,e),Tc=!1,Ws=Vn=Rc=hs=ji=Je=0,In=Gr=null,Cc=!1,(e&8)!==0&&(e|=e&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=e;0<a;){var s=31-st(a),l=1<<s;e|=t[s],a&=~l}return ii=e,de(),n}function ih(t,e){he=null,nt.H=Lr,e===qs||e===Ao?(e=vu(),De=3):e===Ll?(e=vu(),De=4):De=e===uc?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Xn=e,ye===null&&(Je=1,Lo(t,na(e,t.current)))}function sh(){var t=Yn.current;return t===null?!0:(xe&4194048)===xe?ra===null:(xe&62914560)===xe||(xe&536870912)!==0?t===ra:!1}function rh(){var t=nt.H;return nt.H=Lr,t===null?Lr:t}function oh(){var t=nt.A;return nt.A=jf,t}function Vo(){Je=4,ki||(xe&4194048)!==xe&&Yn.current!==null||(Vs=!0),(ji&134217727)===0&&(hs&134217727)===0||qe===null||Oi(qe,xe,Vn,!1)}function Oc(t,e,n){var a=Ce;Ce|=2;var s=rh(),l=oh();(qe!==t||xe!==e)&&(Ko=null,Zs(t,e)),e=!1;var w=Je;t:do try{if(De!==0&&ye!==null){var H=ye,ot=Xn;switch(De){case 8:Dc(),w=6;break t;case 3:case 2:case 9:case 6:Yn.current===null&&(e=!0);var St=De;if(De=0,Xn=null,Js(t,H,ot,St),n&&Vs){w=0;break t}break;default:St=De,De=0,Xn=null,Js(t,H,ot,St)}}Of(),w=Je;break}catch(Pt){ih(t,Pt)}while(!0);return e&&t.shellSuspendCounter++,Xa=as=null,Ce=a,nt.H=s,nt.A=l,ye===null&&(qe=null,xe=0,de()),w}function Of(){for(;ye!==null;)lh(ye)}function Nf(t,e){var n=Ce;Ce|=2;var a=rh(),s=oh();qe!==t||xe!==e?(Ko=null,Yo=oe()+500,Zs(t,e)):Vs=En(t,e);t:do try{if(De!==0&&ye!==null){e=ye;var l=Xn;e:switch(De){case 1:De=0,Xn=null,Js(t,e,l,1);break;case 2:case 9:if(bu(l)){De=0,Xn=null,ch(e);break}e=function(){De!==2&&De!==9||qe!==t||(De=7),Ma(t)},l.then(e,e);break t;case 3:De=7;break t;case 4:De=5;break t;case 7:bu(l)?(De=0,Xn=null,ch(e)):(De=0,Xn=null,Js(t,e,l,7));break;case 5:var w=null;switch(ye.tag){case 26:w=ye.memoizedState;case 5:case 27:var H=ye;if(w?Vh(w):H.stateNode.complete){De=0,Xn=null;var ot=H.sibling;if(ot!==null)ye=ot;else{var St=H.return;St!==null?(ye=St,Wo(St)):ye=null}break e}}De=0,Xn=null,Js(t,e,l,5);break;case 6:De=0,Xn=null,Js(t,e,l,6);break;case 8:Dc(),Je=6;break t;default:throw Error(r(462))}}Pf();break}catch(Pt){ih(t,Pt)}while(!0);return Xa=as=null,nt.H=a,nt.A=s,Ce=n,ye!==null?0:(qe=null,xe=0,de(),Je)}function Pf(){for(;ye!==null&&!ie();)lh(ye)}function lh(t){var e=Dd(t.alternate,t,ii);t.memoizedProps=t.pendingProps,e===null?Wo(t):ye=e}function ch(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Td(n,e,e.pendingProps,e.type,void 0,xe);break;case 11:e=Td(n,e,e.pendingProps,e.type.render,e.ref,xe);break;case 5:Vl(e);default:Nd(n,e),e=ye=ou(e,ii),e=Dd(n,e,ii)}t.memoizedProps=t.pendingProps,e===null?Wo(t):ye=e}function Js(t,e,n,a){Xa=as=null,Vl(e),Bs=null,Cr=0;var s=e.return;try{if(Ef(t,s,e,n,xe)){Je=1,Lo(t,na(n,t.current)),ye=null;return}}catch(l){if(s!==null)throw ye=s,l;Je=1,Lo(t,na(n,t.current)),ye=null;return}e.flags&32768?(Ee||a===1?t=!0:Vs||(xe&536870912)!==0?t=!1:(ki=t=!0,(a===2||a===9||a===3||a===6)&&(a=Yn.current,a!==null&&a.tag===13&&(a.flags|=16384))),uh(e,t)):Wo(e)}function Wo(t){var e=t;do{if((e.flags&32768)!==0){uh(e,ki);return}t=e.return;var n=Tf(e.alternate,e,ii);if(n!==null){ye=n;return}if(e=e.sibling,e!==null){ye=e;return}ye=e=t}while(e!==null);Je===0&&(Je=5)}function uh(t,e){do{var n=Rf(t.alternate,t);if(n!==null){n.flags&=32767,ye=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ye=t;return}ye=t=n}while(t!==null);Je=6,ye=null}function dh(t,e,n,a,s,l,w,H,ot){t.cancelPendingCommit=null;do Qo();while(dn!==0);if((Ce&6)!==0)throw Error(r(327));if(e!==null){if(e===t.current)throw Error(r(177));if(l=e.lanes|e.childLanes,l|=se,ba(t,n,l,w,H,ot),t===qe&&(ye=qe=null,xe=0),Qs=e,Di=t,si=n,kc=l,jc=s,th=a,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,If(Cn,function(){return gh(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||a){a=nt.T,nt.T=null,s=q.p,q.p=2,w=Ce,Ce|=4;try{Cf(t,e,n)}finally{Ce=w,q.p=s,nt.T=a}}dn=1,hh(),fh(),ph()}}function hh(){if(dn===1){dn=0;var t=Di,e=Qs,n=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||n){n=nt.T,nt.T=null;var a=q.p;q.p=2;var s=Ce;Ce|=4;try{Kd(e,t);var l=Yc,w=k(t.containerInfo),H=l.focusedElem,ot=l.selectionRange;if(w!==H&&H&&H.ownerDocument&&A(H.ownerDocument.documentElement,H)){if(ot!==null&&z(H)){var St=ot.start,Pt=ot.end;if(Pt===void 0&&(Pt=St),"selectionStart"in H)H.selectionStart=St,H.selectionEnd=Math.min(Pt,H.value.length);else{var Bt=H.ownerDocument||document,Ct=Bt&&Bt.defaultView||window;if(Ct.getSelection){var jt=Ct.getSelection(),ne=H.textContent.length,ce=Math.min(ot.start,ne),ze=ot.end===void 0?ce:Math.min(ot.end,ne);!jt.extend&&ce>ze&&(w=ze,ze=ce,ce=w);var yt=m(H,ce),pt=m(H,ze);if(yt&&pt&&(jt.rangeCount!==1||jt.anchorNode!==yt.node||jt.anchorOffset!==yt.offset||jt.focusNode!==pt.node||jt.focusOffset!==pt.offset)){var Et=Bt.createRange();Et.setStart(yt.node,yt.offset),jt.removeAllRanges(),ce>ze?(jt.addRange(Et),jt.extend(pt.node,pt.offset)):(Et.setEnd(pt.node,pt.offset),jt.addRange(Et))}}}}for(Bt=[],jt=H;jt=jt.parentNode;)jt.nodeType===1&&Bt.push({element:jt,left:jt.scrollLeft,top:jt.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<Bt.length;H++){var zt=Bt[H];zt.element.scrollLeft=zt.left,zt.element.scrollTop=zt.top}}ll=!!Gc,Yc=Gc=null}finally{Ce=s,q.p=a,nt.T=n}}t.current=e,dn=2}}function fh(){if(dn===2){dn=0;var t=Di,e=Qs,n=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||n){n=nt.T,nt.T=null;var a=q.p;q.p=2;var s=Ce;Ce|=4;try{Bd(t,e.alternate,e)}finally{Ce=s,q.p=a,nt.T=n}}dn=3}}function ph(){if(dn===4||dn===3){dn=0,le();var t=Di,e=Qs,n=si,a=th;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?dn=5:(dn=0,Qs=Di=null,mh(t,t.pendingLanes));var s=t.pendingLanes;if(s===0&&(Mi=null),Nn(n),e=e.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Qn,e,void 0,(e.current.flags&128)===128)}catch{}if(a!==null){e=nt.T,s=q.p,q.p=2,nt.T=null;try{for(var l=t.onRecoverableError,w=0;w<a.length;w++){var H=a[w];l(H.value,{componentStack:H.stack})}}finally{nt.T=e,q.p=s}}(si&3)!==0&&Qo(),Ma(t),s=t.pendingLanes,(n&261930)!==0&&(s&42)!==0?t===Mc?Yr++:(Yr=0,Mc=t):Yr=0,Kr(0)}}function mh(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Tr(e)))}function Qo(){return hh(),fh(),ph(),gh()}function gh(){if(dn!==5)return!1;var t=Di,e=kc;kc=0;var n=Nn(si),a=nt.T,s=q.p;try{q.p=32>n?32:n,nt.T=null,n=jc,jc=null;var l=Di,w=si;if(dn=0,Qs=Di=null,si=0,(Ce&6)!==0)throw Error(r(331));var H=Ce;if(Ce|=4,Zd(l.current),Vd(l,l.current,w,n),Ce=H,Kr(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Qn,l)}catch{}return!0}finally{q.p=s,nt.T=a,mh(t,e)}}function yh(t,e,n){e=na(n,e),e=cc(t.stateNode,e,2),t=wi(t,e,2),t!==null&&(gn(t,2),Ma(t))}function Oe(t,e,n){if(t.tag===3)yh(t,t,n);else for(;e!==null;){if(e.tag===3){yh(e,t,n);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Mi===null||!Mi.has(a))){t=na(n,t),n=bd(2),a=wi(e,n,2),a!==null&&(xd(n,a,e,t),gn(a,2),Ma(a));break}}e=e.return}}function Nc(t,e,n){var a=t.pingCache;if(a===null){a=t.pingCache=new Mf;var s=new Set;a.set(e,s)}else s=a.get(e),s===void 0&&(s=new Set,a.set(e,s));s.has(n)||(Tc=!0,s.add(n),t=Lf.bind(null,t,e,n),e.then(t,t))}function Lf(t,e,n){var a=t.pingCache;a!==null&&a.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,qe===t&&(xe&n)===n&&(Je===4||Je===3&&(xe&62914560)===xe&&300>oe()-Go?(Ce&2)===0&&Zs(t,0):Rc|=n,Ws===xe&&(Ws=0)),Ma(t)}function bh(t,e){e===0&&(e=Da()),t=je(t,e),t!==null&&(gn(t,e),Ma(t))}function Ff(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bh(t,n)}function zf(t,e){var n=0;switch(t.tag){case 31:case 13:var a=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(e),bh(t,n)}function If(t,e){return Qt(t,e)}var Zo=null,$s=null,Pc=!1,Jo=!1,Lc=!1,Ni=0;function Ma(t){t!==$s&&t.next===null&&($s===null?Zo=$s=t:$s=$s.next=t),Jo=!0,Pc||(Pc=!0,Bf())}function Kr(t,e){if(!Lc&&Jo){Lc=!0;do for(var n=!1,a=Zo;a!==null;){if(t!==0){var s=a.pendingLanes;if(s===0)var l=0;else{var w=a.suspendedLanes,H=a.pingedLanes;l=(1<<31-st(42|t)+1)-1,l&=s&~(w&~H),l=l&201326741?l&201326741|1:l?l|2:0}l!==0&&(n=!0,Ah(a,l))}else l=xe,l=Qe(a,a===qe?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(l&3)===0||En(a,l)||(n=!0,Ah(a,l));a=a.next}while(n);Lc=!1}}function qf(){xh()}function xh(){Jo=Pc=!1;var t=0;Ni!==0&&Zf()&&(t=Ni);for(var e=oe(),n=null,a=Zo;a!==null;){var s=a.next,l=vh(a,e);l===0?(a.next=null,n===null?Zo=s:n.next=s,s===null&&($s=n)):(n=a,(t!==0||(l&3)!==0)&&(Jo=!0)),a=s}dn!==0&&dn!==5||Kr(t),Ni!==0&&(Ni=0)}function vh(t,e){for(var n=t.suspendedLanes,a=t.pingedLanes,s=t.expirationTimes,l=t.pendingLanes&-62914561;0<l;){var w=31-st(l),H=1<<w,ot=s[w];ot===-1?((H&n)===0||(H&a)!==0)&&(s[w]=Zn(H,e)):ot<=e&&(t.expiredLanes|=H),l&=~H}if(e=qe,n=xe,n=Qe(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,n===0||t===e&&(De===2||De===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&$t(a),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||En(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(a!==null&&$t(a),Nn(n)){case 2:case 8:n=Be;break;case 32:n=Cn;break;case 268435456:n=An;break;default:n=Cn}return a=_h.bind(null,t),n=Qt(n,a),t.callbackPriority=e,t.callbackNode=n,e}return a!==null&&a!==null&&$t(a),t.callbackPriority=2,t.callbackNode=null,2}function _h(t,e){if(dn!==0&&dn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Qo()&&t.callbackNode!==n)return null;var a=xe;return a=Qe(t,t===qe?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(nh(t,a,e),vh(t,oe()),t.callbackNode!=null&&t.callbackNode===n?_h.bind(null,t):null)}function Ah(t,e){if(Qo())return null;nh(t,e,!0)}function Bf(){$f(function(){(Ce&6)!==0?Qt(ke,qf):xh()})}function Fc(){if(Ni===0){var t=zs;t===0&&(t=Kt,Kt<<=1,(Kt&261888)===0&&(Kt=256)),Ni=t}return Ni}function Eh(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:pa(""+t)}function Sh(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function Uf(t,e,n,a,s){if(e==="submit"&&n&&n.stateNode===s){var l=Eh((s[$e]||null).action),w=a.submitter;w&&(e=(e=w[$e]||null)?Eh(e.formAction):w.getAttribute("formAction"),e!==null&&(l=e,w=null));var H=new bs("action","action",null,a,s);t.push({event:H,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Ni!==0){var ot=w?Sh(s,w):new FormData(s);ac(n,{pending:!0,data:ot,method:s.method,action:l},null,ot)}}else typeof l=="function"&&(H.preventDefault(),ot=w?Sh(s,w):new FormData(s),ac(n,{pending:!0,data:ot,method:s.method,action:l},l,ot))},currentTarget:s}]})}}for(var zc=0;zc<Zt.length;zc++){var Ic=Zt[zc],Hf=Ic.toLowerCase(),Gf=Ic[0].toUpperCase()+Ic.slice(1);Yt(Hf,"on"+Gf)}Yt(Tt,"onAnimationEnd"),Yt(_t,"onAnimationIteration"),Yt(Nt,"onAnimationStart"),Yt("dblclick","onDoubleClick"),Yt("focusin","onFocus"),Yt("focusout","onBlur"),Yt(Ht,"onTransitionRun"),Yt(Vt,"onTransitionStart"),Yt(Wt,"onTransitionCancel"),Yt(Gt,"onTransitionEnd"),Aa("onMouseEnter",["mouseout","mouseover"]),Aa("onMouseLeave",["mouseout","mouseover"]),Aa("onPointerEnter",["pointerout","pointerover"]),Aa("onPointerLeave",["pointerout","pointerover"]),ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ha("onBeforeInput",["compositionend","keypress","textInput","paste"]),ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yf=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xr));function wh(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var a=t[n],s=a.event;a=a.listeners;t:{var l=void 0;if(e)for(var w=a.length-1;0<=w;w--){var H=a[w],ot=H.instance,St=H.currentTarget;if(H=H.listener,ot!==l&&s.isPropagationStopped())break t;l=H,s.currentTarget=St;try{l(s)}catch(Pt){ee(Pt)}s.currentTarget=null,l=ot}else for(w=0;w<a.length;w++){if(H=a[w],ot=H.instance,St=H.currentTarget,H=H.listener,ot!==l&&s.isPropagationStopped())break t;l=H,s.currentTarget=St;try{l(s)}catch(Pt){ee(Pt)}s.currentTarget=null,l=ot}}}}function be(t,e){var n=e[oi];n===void 0&&(n=e[oi]=new Set);var a=t+"__bubble";n.has(a)||(Th(e,t,2,!1),n.add(a))}function qc(t,e,n){var a=0;e&&(a|=4),Th(n,t,a,e)}var $o="_reactListening"+Math.random().toString(36).slice(2);function Bc(t){if(!t[$o]){t[$o]=!0,Oa.forEach(function(n){n!=="selectionchange"&&(Yf.has(n)||qc(n,!1,t),qc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$o]||(e[$o]=!0,qc("selectionchange",!1,e))}}function Th(t,e,n,a){switch(ef(e)){case 2:var s=xp;break;case 8:s=vp;break;default:s=nu}n=s.bind(null,e,n,t),s=void 0,!ur||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),a?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Uc(t,e,n,a,s){var l=a;if((e&1)===0&&(e&2)===0&&a!==null)t:for(;;){if(a===null)return;var w=a.tag;if(w===3||w===4){var H=a.stateNode.containerInfo;if(H===s)break;if(w===4)for(w=a.return;w!==null;){var ot=w.tag;if((ot===3||ot===4)&&w.stateNode.containerInfo===s)return;w=w.return}for(;H!==null;){if(w=_a(H),w===null)return;if(ot=w.tag,ot===5||ot===6||ot===26||ot===27){a=l=w;continue t}H=H.parentNode}}a=a.return}ci(function(){var St=l,Pt=gs(n),Bt=[];t:{var Ct=te.get(t);if(Ct!==void 0){var jt=bs,ne=t;switch(t){case"keypress":if(hi(n)===0)break t;case"keydown":case"keyup":jt=ws;break;case"focusin":ne="focus",jt=fi;break;case"focusout":ne="blur",jt=fi;break;case"beforeblur":case"afterblur":jt=fi;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":jt=_s;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":jt=so;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":jt=yr;break;case Tt:case _t:case Nt:jt=ro;break;case Gt:jt=br;break;case"scroll":case"scrollend":jt=xs;break;case"wheel":jt=Rs;break;case"copy":case"cut":case"paste":jt=pi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":jt=gr;break;case"toggle":case"beforetoggle":jt=co}var ce=(e&4)!==0,ze=!ce&&(t==="scroll"||t==="scrollend"),yt=ce?Ct!==null?Ct+"Capture":null:Ct;ce=[];for(var pt=St,Et;pt!==null;){var zt=pt;if(Et=zt.stateNode,zt=zt.tag,zt!==5&&zt!==26&&zt!==27||Et===null||yt===null||(zt=za(pt,yt),zt!=null&&ce.push(Vr(pt,zt,Et))),ze)break;pt=pt.return}0<ce.length&&(Ct=new jt(Ct,ne,null,n,Pt),Bt.push({event:Ct,listeners:ce}))}}if((e&7)===0){t:{if(Ct=t==="mouseover"||t==="pointerover",jt=t==="mouseout"||t==="pointerout",Ct&&n!==$n&&(ne=n.relatedTarget||n.fromElement)&&(_a(ne)||ne[jn]))break t;if((jt||Ct)&&(Ct=Pt.window===Pt?Pt:(Ct=Pt.ownerDocument)?Ct.defaultView||Ct.parentWindow:window,jt?(ne=n.relatedTarget||n.toElement,jt=St,ne=ne?_a(ne):null,ne!==null&&(ze=N(ne),ce=ne.tag,ne!==ze||ce!==5&&ce!==27&&ce!==6)&&(ne=null)):(jt=null,ne=St),jt!==ne)){if(ce=_s,zt="onMouseLeave",yt="onMouseEnter",pt="mouse",(t==="pointerout"||t==="pointerover")&&(ce=gr,zt="onPointerLeave",yt="onPointerEnter",pt="pointer"),ze=jt==null?Ct:Un(jt),Et=ne==null?Ct:Un(ne),Ct=new ce(zt,pt+"leave",jt,n,Pt),Ct.target=ze,Ct.relatedTarget=Et,zt=null,_a(Pt)===St&&(ce=new ce(yt,pt+"enter",ne,n,Pt),ce.target=Et,ce.relatedTarget=ze,zt=ce),ze=zt,jt&&ne)e:{for(ce=Kf,yt=jt,pt=ne,Et=0,zt=yt;zt;zt=ce(zt))Et++;zt=0;for(var re=pt;re;re=ce(re))zt++;for(;0<Et-zt;)yt=ce(yt),Et--;for(;0<zt-Et;)pt=ce(pt),zt--;for(;Et--;){if(yt===pt||pt!==null&&yt===pt.alternate){ce=yt;break e}yt=ce(yt),pt=ce(pt)}ce=null}else ce=null;jt!==null&&Rh(Bt,Ct,jt,ce,!1),ne!==null&&ze!==null&&Rh(Bt,ze,ne,ce,!0)}}t:{if(Ct=St?Un(St):window,jt=Ct.nodeName&&Ct.nodeName.toLowerCase(),jt==="select"||jt==="input"&&Ct.type==="file")var Se=ts;else if(js(Ct))if(ea)Se=yi;else{Se=Ga;var ae=go}else jt=Ct.nodeName,!jt||jt.toLowerCase()!=="input"||Ct.type!=="checkbox"&&Ct.type!=="radio"?St&&cr(St.elementType)&&(Se=ts):Se=Er;if(Se&&(Se=Se(t,St))){Ar(Bt,Se,n,Pt);break t}ae&&ae(t,Ct,St),t==="focusout"&&St&&Ct.type==="number"&&St.memoizedProps.value!=null&&Ki(Ct,"number",Ct.value)}switch(ae=St?Un(St):window,t){case"focusin":(js(ae)||ae.contentEditable==="true")&&(tt=ae,ct=St,vt=null);break;case"focusout":vt=ct=tt=null;break;case"mousedown":ut=!0;break;case"contextmenu":case"mouseup":case"dragend":ut=!1,lt(Bt,n,Pt);break;case"selectionchange":if(J)break;case"keydown":case"keyup":lt(Bt,n,Pt)}var fe;if(Ji)t:{switch(t){case"compositionstart":var ve="onCompositionStart";break t;case"compositionend":ve="onCompositionEnd";break t;case"compositionupdate":ve="onCompositionUpdate";break t}ve=void 0}else Ua?_r(t,n)&&(ve="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(ve="onCompositionStart");ve&&(Cs&&n.locale!=="ko"&&(Ua||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Ua&&(fe=di()):(ta=Pt,ys="value"in ta?ta.value:ta.textContent,Ua=!0)),ae=tl(St,ve),0<ae.length&&(ve=new Ss(ve,t,null,n,Pt),Bt.push({event:ve,listeners:ae}),fe?ve.data=fe:(fe=ho(n),fe!==null&&(ve.data=fe)))),(fe=vl?fo(t,n):_l(t,n))&&(ve=tl(St,"onBeforeInput"),0<ve.length&&(ae=new Ss("onBeforeInput","beforeinput",null,n,Pt),Bt.push({event:ae,listeners:ve}),ae.data=fe)),Uf(Bt,t,St,n,Pt)}wh(Bt,e)})}function Vr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function tl(t,e){for(var n=e+"Capture",a=[];t!==null;){var s=t,l=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||l===null||(s=za(t,n),s!=null&&a.unshift(Vr(t,s,l)),s=za(t,e),s!=null&&a.push(Vr(t,s,l))),t.tag===3)return a;t=t.return}return[]}function Kf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Rh(t,e,n,a,s){for(var l=e._reactName,w=[];n!==null&&n!==a;){var H=n,ot=H.alternate,St=H.stateNode;if(H=H.tag,ot!==null&&ot===a)break;H!==5&&H!==26&&H!==27||St===null||(ot=St,s?(St=za(n,l),St!=null&&w.unshift(Vr(n,St,ot))):s||(St=za(n,l),St!=null&&w.push(Vr(n,St,ot)))),n=n.return}w.length!==0&&t.push({event:e,listeners:w})}var Xf=/\r\n?/g,Vf=/\u0000|\uFFFD/g;function Ch(t){return(typeof t=="string"?t:""+t).replace(Xf,`
`).replace(Vf,"")}function kh(t,e){return e=Ch(e),Ch(t)===e}function Fe(t,e,n,a,s,l){switch(n){case"children":typeof a=="string"?e==="body"||e==="textarea"&&a===""||Pa(t,a):(typeof a=="number"||typeof a=="bigint")&&e!=="body"&&Pa(t,""+a);break;case"className":Gi(t,"class",a);break;case"tabIndex":Gi(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Gi(t,n,a);break;case"style":lr(t,a,l);break;case"data":if(e!=="object"){Gi(t,"data",a);break}case"src":case"href":if(a===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=pa(""+a),t.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof l=="function"&&(n==="formAction"?(e!=="input"&&Fe(t,e,"name",s.name,s,null),Fe(t,e,"formEncType",s.formEncType,s,null),Fe(t,e,"formMethod",s.formMethod,s,null),Fe(t,e,"formTarget",s.formTarget,s,null)):(Fe(t,e,"encType",s.encType,s,null),Fe(t,e,"method",s.method,s,null),Fe(t,e,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=pa(""+a),t.setAttribute(n,a);break;case"onClick":a!=null&&(t.onclick=Pn);break;case"onScroll":a!=null&&be("scroll",t);break;case"onScrollEnd":a!=null&&be("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error(r(60));t.innerHTML=n}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}n=pa(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""+a):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":a===!0?t.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,a):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(n,a):t.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(n):t.setAttribute(n,a);break;case"popover":be("beforetoggle",t),be("toggle",t),pe(t,"popover",a);break;case"xlinkActuate":Jn(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Jn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Jn(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Jn(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Jn(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Jn(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Jn(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Jn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Jn(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":pe(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=yl.get(n)||n,pe(t,n,a))}}function Hc(t,e,n,a,s,l){switch(n){case"style":lr(t,a,l);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error(r(60));t.innerHTML=n}}break;case"children":typeof a=="string"?Pa(t,a):(typeof a=="number"||typeof a=="bigint")&&Pa(t,""+a);break;case"onScroll":a!=null&&be("scroll",t);break;case"onScrollEnd":a!=null&&be("scrollend",t);break;case"onClick":a!=null&&(t.onclick=Pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ui.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),l=t[$e]||null,l=l!=null?l[n]:null,typeof l=="function"&&t.removeEventListener(e,l,s),typeof a=="function")){typeof l!="function"&&l!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,a,s);break t}n in t?t[n]=a:a===!0?t.setAttribute(n,""):pe(t,n,a)}}}function _n(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",t),be("load",t);var a=!1,s=!1,l;for(l in n)if(n.hasOwnProperty(l)){var w=n[l];if(w!=null)switch(l){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:Fe(t,e,l,w,n,null)}}s&&Fe(t,e,"srcSet",n.srcSet,n,null),a&&Fe(t,e,"src",n.src,n,null);return;case"input":be("invalid",t);var H=l=w=s=null,ot=null,St=null;for(a in n)if(n.hasOwnProperty(a)){var Pt=n[a];if(Pt!=null)switch(a){case"name":s=Pt;break;case"type":w=Pt;break;case"checked":ot=Pt;break;case"defaultChecked":St=Pt;break;case"value":l=Pt;break;case"defaultValue":H=Pt;break;case"children":case"dangerouslySetInnerHTML":if(Pt!=null)throw Error(r(137,e));break;default:Fe(t,e,a,Pt,n,null)}}ms(t,l,H,ot,St,w,s,!1);return;case"select":be("invalid",t),a=w=l=null;for(s in n)if(n.hasOwnProperty(s)&&(H=n[s],H!=null))switch(s){case"value":l=H;break;case"defaultValue":w=H;break;case"multiple":a=H;default:Fe(t,e,s,H,n,null)}e=l,n=w,t.multiple=!!a,e!=null?fa(t,!!a,e,!1):n!=null&&fa(t,!!a,n,!0);return;case"textarea":be("invalid",t),l=s=a=null;for(w in n)if(n.hasOwnProperty(w)&&(H=n[w],H!=null))switch(w){case"value":a=H;break;case"defaultValue":s=H;break;case"children":l=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(91));break;default:Fe(t,e,w,H,n,null)}Xi(t,a,s,l);return;case"option":for(ot in n)n.hasOwnProperty(ot)&&(a=n[ot],a!=null)&&(ot==="selected"?t.selected=a&&typeof a!="function"&&typeof a!="symbol":Fe(t,e,ot,a,n,null));return;case"dialog":be("beforetoggle",t),be("toggle",t),be("cancel",t),be("close",t);break;case"iframe":case"object":be("load",t);break;case"video":case"audio":for(a=0;a<Xr.length;a++)be(Xr[a],t);break;case"image":be("error",t),be("load",t);break;case"details":be("toggle",t);break;case"embed":case"source":case"link":be("error",t),be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(St in n)if(n.hasOwnProperty(St)&&(a=n[St],a!=null))switch(St){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:Fe(t,e,St,a,n,null)}return;default:if(cr(e)){for(Pt in n)n.hasOwnProperty(Pt)&&(a=n[Pt],a!==void 0&&Hc(t,e,Pt,a,n,void 0));return}}for(H in n)n.hasOwnProperty(H)&&(a=n[H],a!=null&&Fe(t,e,H,a,n,null))}function Wf(t,e,n,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,l=null,w=null,H=null,ot=null,St=null,Pt=null;for(jt in n){var Bt=n[jt];if(n.hasOwnProperty(jt)&&Bt!=null)switch(jt){case"checked":break;case"value":break;case"defaultValue":ot=Bt;default:a.hasOwnProperty(jt)||Fe(t,e,jt,null,a,Bt)}}for(var Ct in a){var jt=a[Ct];if(Bt=n[Ct],a.hasOwnProperty(Ct)&&(jt!=null||Bt!=null))switch(Ct){case"type":l=jt;break;case"name":s=jt;break;case"checked":St=jt;break;case"defaultChecked":Pt=jt;break;case"value":w=jt;break;case"defaultValue":H=jt;break;case"children":case"dangerouslySetInnerHTML":if(jt!=null)throw Error(r(137,e));break;default:jt!==Bt&&Fe(t,e,Ct,jt,a,Bt)}}Ea(t,w,H,ot,St,Pt,l,s);return;case"select":jt=w=H=Ct=null;for(l in n)if(ot=n[l],n.hasOwnProperty(l)&&ot!=null)switch(l){case"value":break;case"multiple":jt=ot;default:a.hasOwnProperty(l)||Fe(t,e,l,null,a,ot)}for(s in a)if(l=a[s],ot=n[s],a.hasOwnProperty(s)&&(l!=null||ot!=null))switch(s){case"value":Ct=l;break;case"defaultValue":H=l;break;case"multiple":w=l;default:l!==ot&&Fe(t,e,s,l,a,ot)}e=H,n=w,a=jt,Ct!=null?fa(t,!!n,Ct,!1):!!a!=!!n&&(e!=null?fa(t,!!n,e,!0):fa(t,!!n,n?[]:"",!1));return;case"textarea":jt=Ct=null;for(H in n)if(s=n[H],n.hasOwnProperty(H)&&s!=null&&!a.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:Fe(t,e,H,null,a,s)}for(w in a)if(s=a[w],l=n[w],a.hasOwnProperty(w)&&(s!=null||l!=null))switch(w){case"value":Ct=s;break;case"defaultValue":jt=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(r(91));break;default:s!==l&&Fe(t,e,w,s,a,l)}or(t,Ct,jt);return;case"option":for(var ne in n)Ct=n[ne],n.hasOwnProperty(ne)&&Ct!=null&&!a.hasOwnProperty(ne)&&(ne==="selected"?t.selected=!1:Fe(t,e,ne,null,a,Ct));for(ot in a)Ct=a[ot],jt=n[ot],a.hasOwnProperty(ot)&&Ct!==jt&&(Ct!=null||jt!=null)&&(ot==="selected"?t.selected=Ct&&typeof Ct!="function"&&typeof Ct!="symbol":Fe(t,e,ot,Ct,a,jt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in n)Ct=n[ce],n.hasOwnProperty(ce)&&Ct!=null&&!a.hasOwnProperty(ce)&&Fe(t,e,ce,null,a,Ct);for(St in a)if(Ct=a[St],jt=n[St],a.hasOwnProperty(St)&&Ct!==jt&&(Ct!=null||jt!=null))switch(St){case"children":case"dangerouslySetInnerHTML":if(Ct!=null)throw Error(r(137,e));break;default:Fe(t,e,St,Ct,a,jt)}return;default:if(cr(e)){for(var ze in n)Ct=n[ze],n.hasOwnProperty(ze)&&Ct!==void 0&&!a.hasOwnProperty(ze)&&Hc(t,e,ze,void 0,a,Ct);for(Pt in a)Ct=a[Pt],jt=n[Pt],!a.hasOwnProperty(Pt)||Ct===jt||Ct===void 0&&jt===void 0||Hc(t,e,Pt,Ct,a,jt);return}}for(var yt in n)Ct=n[yt],n.hasOwnProperty(yt)&&Ct!=null&&!a.hasOwnProperty(yt)&&Fe(t,e,yt,null,a,Ct);for(Bt in a)Ct=a[Bt],jt=n[Bt],!a.hasOwnProperty(Bt)||Ct===jt||Ct==null&&jt==null||Fe(t,e,Bt,Ct,a,jt)}function jh(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Qf(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var s=n[a],l=s.transferSize,w=s.initiatorType,H=s.duration;if(l&&H&&jh(w)){for(w=0,H=s.responseEnd,a+=1;a<n.length;a++){var ot=n[a],St=ot.startTime;if(St>H)break;var Pt=ot.transferSize,Bt=ot.initiatorType;Pt&&jh(Bt)&&(ot=ot.responseEnd,w+=Pt*(ot<H?1:(H-St)/(ot-St)))}if(--a,e+=8*(l+w)/(s.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Gc=null,Yc=null;function el(t){return t.nodeType===9?t:t.ownerDocument}function Mh(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dh(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Kc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xc=null;function Zf(){var t=window.event;return t&&t.type==="popstate"?t===Xc?!1:(Xc=t,!0):(Xc=null,!1)}var Oh=typeof setTimeout=="function"?setTimeout:void 0,Jf=typeof clearTimeout=="function"?clearTimeout:void 0,Nh=typeof Promise=="function"?Promise:void 0,$f=typeof queueMicrotask=="function"?queueMicrotask:typeof Nh<"u"?function(t){return Nh.resolve(null).then(t).catch(tp)}:Oh;function tp(t){setTimeout(function(){throw t})}function Pi(t){return t==="head"}function Ph(t,e){var n=e,a=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(a===0){t.removeChild(s),ar(e);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Wr(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Wr(n);for(var l=n.firstChild;l;){var w=l.nextSibling,H=l.nodeName;l[Bn]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&l.rel.toLowerCase()==="stylesheet"||n.removeChild(l),l=w}}else n==="body"&&Wr(t.ownerDocument.body);n=s}while(n);ar(e)}function Lh(t,e){var n=t;t=0;do{var a=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=a}while(n)}function Vc(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Vc(n),fs(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function ep(t,e,n,a){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[Bn])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(l=t.getAttribute("rel"),l==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(l!==s.rel||t.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(l=t.getAttribute("src"),(l!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&l&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var l=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===l)return t}else return t;if(t=oa(t.nextSibling),t===null)break}return null}function np(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=oa(t.nextSibling),t===null))return null;return t}function Fh(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=oa(t.nextSibling),t===null))return null;return t}function Wc(t){return t.data==="$?"||t.data==="$~"}function Qc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ap(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var a=function(){e(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function oa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Zc=null;function zh(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return oa(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Ih(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function qh(t,e,n){switch(e=el(n),t){case"html":if(t=e.documentElement,!t)throw Error(r(452));return t;case"head":if(t=e.head,!t)throw Error(r(453));return t;case"body":if(t=e.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Wr(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);fs(t)}var la=new Map,Bh=new Set;function nl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ri=q.d;q.d={f:ip,r:sp,D:rp,C:op,L:lp,m:cp,X:dp,S:up,M:hp};function ip(){var t=ri.f(),e=Xo();return t||e}function sp(t){var e=Ne(t);e!==null&&e.tag===5&&e.type==="form"?id(e):ri.r(t)}var tr=typeof document>"u"?null:document;function Uh(t,e,n){var a=tr;if(a&&typeof e=="string"&&e){var s=hn(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Bh.has(s)||(Bh.add(s),t={rel:t,crossOrigin:n,href:e},a.querySelector(s)===null&&(e=a.createElement("link"),_n(e,"link",t),tn(e),a.head.appendChild(e)))}}function rp(t){ri.D(t),Uh("dns-prefetch",t,null)}function op(t,e){ri.C(t,e),Uh("preconnect",t,e)}function lp(t,e,n){ri.L(t,e,n);var a=tr;if(a&&t&&e){var s='link[rel="preload"][as="'+hn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+hn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+hn(n.imageSizes)+'"]')):s+='[href="'+hn(t)+'"]';var l=s;switch(e){case"style":l=er(t);break;case"script":l=nr(t)}la.has(l)||(t=h({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),la.set(l,t),a.querySelector(s)!==null||e==="style"&&a.querySelector(Qr(l))||e==="script"&&a.querySelector(Zr(l))||(e=a.createElement("link"),_n(e,"link",t),tn(e),a.head.appendChild(e)))}}function cp(t,e){ri.m(t,e);var n=tr;if(n&&t){var a=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+hn(a)+'"][href="'+hn(t)+'"]',l=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=nr(t)}if(!la.has(l)&&(t=h({rel:"modulepreload",href:t},e),la.set(l,t),n.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Zr(l)))return}a=n.createElement("link"),_n(a,"link",t),tn(a),n.head.appendChild(a)}}}function up(t,e,n){ri.S(t,e,n);var a=tr;if(a&&t){var s=Sn(a).hoistableStyles,l=er(t);e=e||"default";var w=s.get(l);if(!w){var H={loading:0,preload:null};if(w=a.querySelector(Qr(l)))H.loading=5;else{t=h({rel:"stylesheet",href:t,"data-precedence":e},n),(n=la.get(l))&&Jc(t,n);var ot=w=a.createElement("link");tn(ot),_n(ot,"link",t),ot._p=new Promise(function(St,Pt){ot.onload=St,ot.onerror=Pt}),ot.addEventListener("load",function(){H.loading|=1}),ot.addEventListener("error",function(){H.loading|=2}),H.loading|=4,al(w,e,a)}w={type:"stylesheet",instance:w,count:1,state:H},s.set(l,w)}}}function dp(t,e){ri.X(t,e);var n=tr;if(n&&t){var a=Sn(n).hoistableScripts,s=nr(t),l=a.get(s);l||(l=n.querySelector(Zr(s)),l||(t=h({src:t,async:!0},e),(e=la.get(s))&&$c(t,e),l=n.createElement("script"),tn(l),_n(l,"link",t),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},a.set(s,l))}}function hp(t,e){ri.M(t,e);var n=tr;if(n&&t){var a=Sn(n).hoistableScripts,s=nr(t),l=a.get(s);l||(l=n.querySelector(Zr(s)),l||(t=h({src:t,async:!0,type:"module"},e),(e=la.get(s))&&$c(t,e),l=n.createElement("script"),tn(l),_n(l,"link",t),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},a.set(s,l))}}function Hh(t,e,n,a){var s=(s=b.current)?nl(s):null;if(!s)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=er(n.href),n=Sn(s).hoistableStyles,a=n.get(e),a||(a={type:"style",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=er(n.href);var l=Sn(s).hoistableStyles,w=l.get(t);if(w||(s=s.ownerDocument||s,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},l.set(t,w),(l=s.querySelector(Qr(t)))&&!l._p&&(w.instance=l,w.state.loading=5),la.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},la.set(t,n),l||fp(s,t,n,w.state))),e&&a===null)throw Error(r(528,""));return w}if(e&&a!==null)throw Error(r(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=nr(n),n=Sn(s).hoistableScripts,a=n.get(e),a||(a={type:"script",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function er(t){return'href="'+hn(t)+'"'}function Qr(t){return'link[rel="stylesheet"]['+t+"]"}function Gh(t){return h({},t,{"data-precedence":t.precedence,precedence:null})}function fp(t,e,n,a){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?a.loading=1:(e=t.createElement("link"),a.preload=e,e.addEventListener("load",function(){return a.loading|=1}),e.addEventListener("error",function(){return a.loading|=2}),_n(e,"link",n),tn(e),t.head.appendChild(e))}function nr(t){return'[src="'+hn(t)+'"]'}function Zr(t){return"script[async]"+t}function Yh(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var a=t.querySelector('style[data-href~="'+hn(n.href)+'"]');if(a)return e.instance=a,tn(a),a;var s=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),tn(a),_n(a,"style",s),al(a,n.precedence,t),e.instance=a;case"stylesheet":s=er(n.href);var l=t.querySelector(Qr(s));if(l)return e.state.loading|=4,e.instance=l,tn(l),l;a=Gh(n),(s=la.get(s))&&Jc(a,s),l=(t.ownerDocument||t).createElement("link"),tn(l);var w=l;return w._p=new Promise(function(H,ot){w.onload=H,w.onerror=ot}),_n(l,"link",a),e.state.loading|=4,al(l,n.precedence,t),e.instance=l;case"script":return l=nr(n.src),(s=t.querySelector(Zr(l)))?(e.instance=s,tn(s),s):(a=n,(s=la.get(l))&&(a=h({},n),$c(a,s)),t=t.ownerDocument||t,s=t.createElement("script"),tn(s),_n(s,"link",a),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(r(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(a=e.instance,e.state.loading|=4,al(a,n.precedence,t));return e.instance}function al(t,e,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,l=s,w=0;w<a.length;w++){var H=a[w];if(H.dataset.precedence===e)l=H;else if(l!==s)break}l?l.parentNode.insertBefore(t,l.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Jc(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function $c(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var il=null;function Kh(t,e,n){if(il===null){var a=new Map,s=il=new Map;s.set(n,a)}else s=il,a=s.get(n),a||(a=new Map,s.set(n,a));if(a.has(t))return a;for(a.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var l=n[s];if(!(l[Bn]||l[Ue]||t==="link"&&l.getAttribute("rel")==="stylesheet")&&l.namespaceURI!=="http://www.w3.org/2000/svg"){var w=l.getAttribute(e)||"";w=t+w;var H=a.get(w);H?H.push(l):a.set(w,[l])}}return a}function Xh(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function pp(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;return e.rel==="stylesheet"?(t=e.disabled,typeof e.precedence=="string"&&t==null):!0;case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Vh(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function mp(t,e,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var s=er(a.href),l=e.querySelector(Qr(s));if(l){e=l._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=sl.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=l,tn(l);return}l=e.ownerDocument||e,a=Gh(a),(s=la.get(s))&&Jc(a,s),l=l.createElement("link"),tn(l);var w=l;w._p=new Promise(function(H,ot){w.onload=H,w.onerror=ot}),_n(l,"link",a),n.instance=l}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(t.count++,n=sl.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var tu=0;function gp(t,e){return t.stylesheets&&t.count===0&&ol(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var a=setTimeout(function(){if(t.stylesheets&&ol(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4+e);0<t.imgBytes&&tu===0&&(tu=62500*Qf());var s=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ol(t,t.stylesheets),t.unsuspend)){var l=t.unsuspend;t.unsuspend=null,l()}},(t.imgBytes>tu?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}function sl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ol(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var rl=null;function ol(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,rl=new Map,e.forEach(yp,t),rl=null,sl.call(t))}function yp(t,e){if(!(e.state.loading&4)){var n=rl.get(t);if(n)var a=n.get(null);else{n=new Map,rl.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<s.length;l++){var w=s[l];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(n.set(w.dataset.precedence,w),a=w)}a&&n.set(null,a)}s=e.instance,w=s.getAttribute("data-precedence"),l=n.get(w)||a,l===a&&n.set(null,s),n.set(w,s),this.count++,a=sl.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),l?l.parentNode.insertBefore(s,l.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var Jr={$$typeof:W,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function bp(t,e,n,a,s,l,w,H,ot){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Me(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Me(0),this.hiddenUpdates=Me(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=l,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ot,this.incompleteTransitions=new Map}function Wh(t,e,n,a,s,l,w,H,ot,St,Pt,Bt){return t=new bp(t,e,n,w,ot,St,Pt,Bt,H),e=1,l===!0&&(e|=24),l=Gn(3,null,null,e),t.current=l,l.stateNode=t,e=Ol(),e.refCount++,t.pooledCache=e,e.refCount++,l.memoizedState={element:a,isDehydrated:n,cache:e},Fl(l),t}function Qh(t){return t?(t=Os,t):Os}function Zh(t,e,n,a,s,l){s=Qh(s),a.context===null?a.context=s:a.pendingContext=s,a=Si(e),a.payload={element:n},l=l===void 0?null:l,l!==null&&(a.callback=l),n=wi(t,a,e),n!==null&&(qn(n,t,e),jr(n,t,e))}function Jh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function eu(t,e){Jh(t,e),(t=t.alternate)&&Jh(t,e)}function $h(t){if(t.tag===13||t.tag===31){var e=je(t,67108864);e!==null&&qn(e,t,67108864),eu(t,67108864)}}function tf(t){if(t.tag===13||t.tag===31){var e=Wn();e=un(e);var n=je(t,e);n!==null&&qn(n,t,e),eu(t,e)}}var ll=!0;function xp(t,e,n,a){var s=nt.T;nt.T=null;var l=q.p;try{q.p=2,nu(t,e,n,a)}finally{q.p=l,nt.T=s}}function vp(t,e,n,a){var s=nt.T;nt.T=null;var l=q.p;try{q.p=8,nu(t,e,n,a)}finally{q.p=l,nt.T=s}}function nu(t,e,n,a){if(ll){var s=au(a);if(s===null)Uc(t,e,a,cl,n),nf(t,a);else if(Ap(s,t,e,n,a))a.stopPropagation();else if(nf(t,a),e&4&&-1<_p.indexOf(t)){for(;s!==null;){var l=Ne(s);if(l!==null)switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var w=cn(l.pendingLanes);if(w!==0){var H=l;for(H.pendingLanes|=2,H.entangledLanes|=2;w;){var ot=1<<31-st(w);H.entanglements[1]|=ot,w&=~ot}Ma(l),(Ce&6)===0&&(Yo=oe()+500,Kr(0))}}break;case 31:case 13:H=je(l,2),H!==null&&qn(H,l,2),Xo(),eu(l,2)}if(l=au(a),l===null&&Uc(t,e,a,cl,n),l===s)break;s=l}s!==null&&a.stopPropagation()}else Uc(t,e,a,null,n)}}function au(t){return t=gs(t),iu(t)}var cl=null;function iu(t){if(cl=null,t=_a(t),t!==null){var e=N(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=O(e),t!==null)return t;t=null}else if(n===31){if(t=Y(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return cl=t,null}function ef(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_e()){case ke:return 2;case Be:return 8;case Cn:case We:return 32;case An:return 268435456;default:return 32}default:return 32}}var su=!1,Li=null,Fi=null,zi=null,$r=new Map,to=new Map,Ii=[],_p="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nf(t,e){switch(t){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":$r.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":to.delete(e.pointerId)}}function eo(t,e,n,a,s,l){return t===null||t.nativeEvent!==l?(t={blockedOn:e,domEventName:n,eventSystemFlags:a,nativeEvent:l,targetContainers:[s]},e!==null&&(e=Ne(e),e!==null&&$h(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Ap(t,e,n,a,s){switch(e){case"focusin":return Li=eo(Li,t,e,n,a,s),!0;case"dragenter":return Fi=eo(Fi,t,e,n,a,s),!0;case"mouseover":return zi=eo(zi,t,e,n,a,s),!0;case"pointerover":var l=s.pointerId;return $r.set(l,eo($r.get(l)||null,t,e,n,a,s)),!0;case"gotpointercapture":return l=s.pointerId,to.set(l,eo(to.get(l)||null,t,e,n,a,s)),!0}return!1}function af(t){var e=_a(t.target);if(e!==null){var n=N(e);if(n!==null){if(e=n.tag,e===13){if(e=O(n),e!==null){t.blockedOn=e,Bi(t.priority,function(){tf(n)});return}}else if(e===31){if(e=Y(n),e!==null){t.blockedOn=e,Bi(t.priority,function(){tf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ul(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=au(t.nativeEvent);if(n===null){n=t.nativeEvent;var a=new n.constructor(n.type,n);$n=a,n.target.dispatchEvent(a),$n=null}else return e=Ne(n),e!==null&&$h(e),t.blockedOn=n,!1;e.shift()}return!0}function sf(t,e,n){ul(t)&&n.delete(e)}function Ep(){su=!1,Li!==null&&ul(Li)&&(Li=null),Fi!==null&&ul(Fi)&&(Fi=null),zi!==null&&ul(zi)&&(zi=null),$r.forEach(sf),to.forEach(sf)}function dl(t,e){t.blockedOn===e&&(t.blockedOn=null,su||(su=!0,f.unstable_scheduleCallback(f.unstable_NormalPriority,Ep)))}var hl=null;function rf(t){hl!==t&&(hl=t,f.unstable_scheduleCallback(f.unstable_NormalPriority,function(){hl===t&&(hl=null);for(var e=0;e<t.length;e+=3){var n=t[e],a=t[e+1],s=t[e+2];if(typeof a!="function"){if(iu(a||n)===null)continue;break}var l=Ne(n);l!==null&&(t.splice(e,3),e-=3,ac(l,{pending:!0,data:s,method:n.method,action:a},a,s))}}))}function ar(t){function e(ot){return dl(ot,t)}Li!==null&&dl(Li,t),Fi!==null&&dl(Fi,t),zi!==null&&dl(zi,t),$r.forEach(e),to.forEach(e);for(var n=0;n<Ii.length;n++){var a=Ii[n];a.blockedOn===t&&(a.blockedOn=null)}for(;0<Ii.length&&(n=Ii[0],n.blockedOn===null);)af(n),n.blockedOn===null&&Ii.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var s=n[a],l=n[a+1],w=s[$e]||null;if(typeof l=="function")w||rf(n);else if(w){var H=null;if(l&&l.hasAttribute("formAction")){if(s=l,w=l[$e]||null)H=w.formAction;else if(iu(s)!==null)continue}else H=w.action;typeof H=="function"?n[a+1]=H:(n.splice(a,3),a-=3),rf(n)}}}function of(){function t(l){l.canIntercept&&l.info==="react-transition"&&l.intercept({handler:function(){return new Promise(function(w){return s=w})},focusReset:"manual",scroll:"manual"})}function e(){s!==null&&(s(),s=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var l=navigation.currentEntry;l&&l.url!=null&&navigation.navigate(l.url,{state:l.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,s=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),s!==null&&(s(),s=null)}}}function ru(t){this._internalRoot=t}fl.prototype.render=ru.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(r(409));var n=e.current,a=Wn();Zh(n,a,t,e,null,null)},fl.prototype.unmount=ru.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zh(t.current,2,null,t,null,null),Xo(),e[jn]=null}};function fl(t){this._internalRoot=t}fl.prototype.unstable_scheduleHydration=function(t){if(t){var e=da();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ii.length&&e!==0&&e<Ii[n].priority;n++);Ii.splice(n,0,t),n===0&&af(t)}};var lf=o.version;if(lf!=="19.2.4")throw Error(r(527,lf,"19.2.4"));q.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=d(e),t=t!==null?c(t):null,t=t===null?null:t.stateNode,t};var Sp={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:nt,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pl.isDisabled&&pl.supportsFiber)try{Qn=pl.inject(Sp),qt=pl}catch{}}return reactDomClient_production.createRoot=function(t,e){if(!y(t))throw Error(r(299));var n=!1,a="",s=pd,l=md,w=gd;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(l=e.onCaughtError),e.onRecoverableError!==void 0&&(w=e.onRecoverableError)),e=Wh(t,1,!1,null,null,n,a,null,s,l,w,of),t[jn]=e.current,Bc(t),new ru(e)},reactDomClient_production.hydrateRoot=function(t,e,n){if(!y(t))throw Error(r(299));var a=!1,s="",l=pd,w=md,H=gd,ot=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(l=n.onUncaughtError),n.onCaughtError!==void 0&&(w=n.onCaughtError),n.onRecoverableError!==void 0&&(H=n.onRecoverableError),n.formState!==void 0&&(ot=n.formState)),e=Wh(t,1,!0,e,n??null,a,s,ot,l,w,H,of),e.context=Qh(null),n=e.current,a=Wn(),a=un(a),s=Si(a),s.callback=null,wi(n,s,a),n=a,e.current.lanes=n,gn(e,n),Ma(e),t[jn]=e.current,Bc(t),new fl(e)},reactDomClient_production.version="19.2.4",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(o){console.error(o)}}return f(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports),scriptRel="modulepreload",assetsURL=function(f){return"/"+f},seen={},__vitePreload=function(o,g,r){let y=Promise.resolve();if(g&&g.length>0){let d=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};var O=d;document.getElementsByTagName("link");const Y=document.querySelector("meta[property=csp-nonce]"),B=Y?.nonce||Y?.getAttribute("nonce");y=d(g.map(c=>{if(c=assetsURL(c),c in seen)return;seen[c]=!0;const h=c.endsWith(".css"),_=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${_}`))return;const E=document.createElement("link");if(E.rel=h?"stylesheet":scriptRel,h||(E.as="script"),E.crossOrigin="",E.href=c,B&&E.setAttribute("nonce",B),document.head.appendChild(E),h)return new Promise((p,S)=>{E.addEventListener("load",p),E.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${c}`)))})}))}function N(Y){const B=new Event("vite:preloadError",{cancelable:!0});if(B.payload=Y,window.dispatchEvent(B),!B.defaultPrevented)throw Y}return y.then(Y=>{for(const B of Y||[])B.status==="rejected"&&N(B.reason);return o().catch(N)})};const mergeClasses=(...f)=>f.filter((o,g,r)=>!!o&&o.trim()!==""&&r.indexOf(o)===g).join(" ").trim();const toKebabCase=f=>f.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const toCamelCase=f=>f.replace(/^([A-Z])|[\s-_]+(\w)/g,(o,g,r)=>r?r.toUpperCase():g.toLowerCase());const toPascalCase=f=>{const o=toCamelCase(f);return o.charAt(0).toUpperCase()+o.slice(1)};var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hasA11yProp=f=>{for(const o in f)if(o.startsWith("aria-")||o==="role"||o==="title")return!0;return!1};const Icon=reactExports.forwardRef(({color:f="currentColor",size:o=24,strokeWidth:g=2,absoluteStrokeWidth:r,className:y="",children:N,iconNode:O,...Y},B)=>reactExports.createElement("svg",{ref:B,...defaultAttributes,width:o,height:o,stroke:f,strokeWidth:r?Number(g)*24/Number(o):g,className:mergeClasses("lucide",y),...!N&&!hasA11yProp(Y)&&{"aria-hidden":"true"},...Y},[...O.map(([d,c])=>reactExports.createElement(d,c)),...Array.isArray(N)?N:[N]]));const createLucideIcon=(f,o)=>{const g=reactExports.forwardRef(({className:r,...y},N)=>reactExports.createElement(Icon,{ref:N,iconNode:o,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(f))}`,`lucide-${f}`,r),...y}));return g.displayName=toPascalCase(f),g};const __iconNode$F=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Award=createLucideIcon("award",__iconNode$F);const __iconNode$E=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],BookOpen=createLucideIcon("book-open",__iconNode$E);const __iconNode$D=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Brain=createLucideIcon("brain",__iconNode$D);const __iconNode$C=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Calculator=createLucideIcon("calculator",__iconNode$C);const __iconNode$B=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Calendar=createLucideIcon("calendar",__iconNode$B);const __iconNode$A=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ChartColumn=createLucideIcon("chart-column",__iconNode$A);const __iconNode$z=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Check=createLucideIcon("check",__iconNode$z);const __iconNode$y=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ChevronDown=createLucideIcon("chevron-down",__iconNode$y);const __iconNode$x=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ChevronLeft=createLucideIcon("chevron-left",__iconNode$x);const __iconNode$w=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ChevronRight=createLucideIcon("chevron-right",__iconNode$w);const __iconNode$v=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ChevronUp=createLucideIcon("chevron-up",__iconNode$v);const __iconNode$u=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],CircleAlert=createLucideIcon("circle-alert",__iconNode$u);const __iconNode$t=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CircleCheckBig=createLucideIcon("circle-check-big",__iconNode$t);const __iconNode$s=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],CircleQuestionMark=createLucideIcon("circle-question-mark",__iconNode$s);const __iconNode$r=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],CircleX=createLucideIcon("circle-x",__iconNode$r);const __iconNode$q=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Clock=createLucideIcon("clock",__iconNode$q);const __iconNode$p=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Ellipsis=createLucideIcon("ellipsis",__iconNode$p);const __iconNode$o=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ExternalLink=createLucideIcon("external-link",__iconNode$o);const __iconNode$n=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],EyeOff=createLucideIcon("eye-off",__iconNode$n);const __iconNode$m=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Eye=createLucideIcon("eye",__iconNode$m);const __iconNode$l=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],FileText=createLucideIcon("file-text",__iconNode$l);const __iconNode$k=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Info=createLucideIcon("info",__iconNode$k);const __iconNode$j=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],KeyRound=createLucideIcon("key-round",__iconNode$j);const __iconNode$i=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Key=createLucideIcon("key",__iconNode$i);const __iconNode$h=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Layers=createLucideIcon("layers",__iconNode$h);const __iconNode$g=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Lightbulb=createLucideIcon("lightbulb",__iconNode$g);const __iconNode$f=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LoaderCircle=createLucideIcon("loader-circle",__iconNode$f);const __iconNode$e=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Menu=createLucideIcon("menu",__iconNode$e);const __iconNode$d=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Play=createLucideIcon("play",__iconNode$d);const __iconNode$c=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Plus=createLucideIcon("plus",__iconNode$c);const __iconNode$b=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],RotateCcw=createLucideIcon("rotate-ccw",__iconNode$b);const __iconNode$a=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Shield=createLucideIcon("shield",__iconNode$a);const __iconNode$9=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Sparkles=createLucideIcon("sparkles",__iconNode$9);const __iconNode$8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Target=createLucideIcon("target",__iconNode$8);const __iconNode$7=[["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}],["path",{d:"M17 14V2",key:"8ymqnk"}]],ThumbsDown=createLucideIcon("thumbs-down",__iconNode$7);const __iconNode$6=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],ThumbsUp=createLucideIcon("thumbs-up",__iconNode$6);const __iconNode$5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Trash2=createLucideIcon("trash-2",__iconNode$5);const __iconNode$4=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],TrendingDown=createLucideIcon("trending-down",__iconNode$4);const __iconNode$3=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],TrendingUp=createLucideIcon("trending-up",__iconNode$3);const __iconNode$2=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Trophy=createLucideIcon("trophy",__iconNode$2);const __iconNode$1=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Upload=createLucideIcon("upload",__iconNode$1);const __iconNode=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X=createLucideIcon("x",__iconNode);function commonjsRequire(f){throw new Error('Could not dynamically require "'+f+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,(function(module,exports$1){(function(o,g){module.exports=o.pdfjsLib=g()})(globalThis,()=>(()=>{var __webpack_modules__=[,((f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.VerbosityLevel=o.Util=o.UnknownErrorException=o.UnexpectedResponseException=o.TextRenderingMode=o.RenderingIntentFlag=o.PromiseCapability=o.PermissionFlag=o.PasswordResponses=o.PasswordException=o.PageActionEventType=o.OPS=o.MissingPDFException=o.MAX_IMAGE_SIZE_TO_CACHE=o.LINE_FACTOR=o.LINE_DESCENT_FACTOR=o.InvalidPDFException=o.ImageKind=o.IDENTITY_MATRIX=o.FormatError=o.FeatureTest=o.FONT_IDENTITY_MATRIX=o.DocumentActionEventType=o.CMapCompressionType=o.BaseException=o.BASELINE_FACTOR=o.AnnotationType=o.AnnotationReplyType=o.AnnotationPrefix=o.AnnotationMode=o.AnnotationFlag=o.AnnotationFieldFlag=o.AnnotationEditorType=o.AnnotationEditorPrefix=o.AnnotationEditorParamsType=o.AnnotationBorderStyleType=o.AnnotationActionEventType=o.AbortException=void 0,o.assert=T,o.bytesToString=at,o.createValidAbsoluteUrl=x,o.getModificationDate=Be,o.getUuid=ca,o.getVerbosityLevel=kt,o.info=nt,o.isArrayBuffer=_e,o.isArrayEqual=ke,o.isNodeJS=void 0,o.normalizeUnicode=ya,o.objectFromMap=wt,o.objectSize=Xt,o.setVerbosityLevel=Mt,o.shadow=L,o.string32=Rt,o.stringToBytes=rt,o.stringToPDFString=ie,o.stringToUTF8String=le,o.unreachable=M,o.utf8StringToString=oe,o.warn=q;const g=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");o.isNodeJS=g;const r=[1,0,0,1,0,0];o.IDENTITY_MATRIX=r;const y=[.001,0,0,.001,0,0];o.FONT_IDENTITY_MATRIX=y;const N=1e7;o.MAX_IMAGE_SIZE_TO_CACHE=N;const O=1.35;o.LINE_FACTOR=O;const Y=.35;o.LINE_DESCENT_FACTOR=Y;const B=Y/O;o.BASELINE_FACTOR=B;const d={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};o.RenderingIntentFlag=d;const c={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};o.AnnotationMode=c;const h="pdfjs_internal_editor_";o.AnnotationEditorPrefix=h;const _={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};o.AnnotationEditorType=_;const E={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};o.AnnotationEditorParamsType=E;const p={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};o.PermissionFlag=p;const S={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};o.TextRenderingMode=S;const j={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};o.ImageKind=j;const v={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};o.AnnotationType=v;const P={GROUP:"Group",REPLY:"R"};o.AnnotationReplyType=P;const W={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};o.AnnotationFlag=W;const G={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};o.AnnotationFieldFlag=G;const C={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};o.AnnotationBorderStyleType=C;const F={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};o.AnnotationActionEventType=F;const Q={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};o.DocumentActionEventType=Q;const it={O:"PageOpen",C:"PageClose"};o.PageActionEventType=it;const et={ERRORS:0,WARNINGS:1,INFOS:5};o.VerbosityLevel=et;const bt={NONE:0,BINARY:1};o.CMapCompressionType=bt;const gt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};o.OPS=gt;const It={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};o.PasswordResponses=It;let Ot=et.WARNINGS;function Mt(qt){Number.isInteger(qt)&&(Ot=qt)}function kt(){return Ot}function nt(qt){Ot>=et.INFOS&&console.log(`Info: ${qt}`)}function q(qt){Ot>=et.WARNINGS&&console.log(`Warning: ${qt}`)}function M(qt){throw new Error(qt)}function T(qt,xt){qt||M(xt)}function R(qt){switch(qt?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function x(qt,xt=null,st=null){if(!qt)return null;try{if(st&&typeof qt=="string"&&(st.addDefaultProtocol&&qt.startsWith("www.")&&qt.match(/\./g)?.length>=2&&(qt=`http://${qt}`),st.tryConvertEncoding))try{qt=le(qt)}catch{}const Jt=xt?new URL(qt,xt):new URL(qt);if(R(Jt))return Jt}catch{}return null}function L(qt,xt,st,Jt=!1){return Object.defineProperty(qt,xt,{value:st,enumerable:!Jt,configurable:!0,writable:!1}),st}const U=(function(){function xt(st,Jt){this.constructor===xt&&M("Cannot initialize BaseException."),this.message=st,this.name=Jt}return xt.prototype=new Error,xt.constructor=xt,xt})();o.BaseException=U;class $ extends U{constructor(xt,st){super(xt,"PasswordException"),this.code=st}}o.PasswordException=$;class V extends U{constructor(xt,st){super(xt,"UnknownErrorException"),this.details=st}}o.UnknownErrorException=V;class b extends U{constructor(xt){super(xt,"InvalidPDFException")}}o.InvalidPDFException=b;class D extends U{constructor(xt){super(xt,"MissingPDFException")}}o.MissingPDFException=D;class I extends U{constructor(xt,st){super(xt,"UnexpectedResponseException"),this.status=st}}o.UnexpectedResponseException=I;class Z extends U{constructor(xt){super(xt,"FormatError")}}o.FormatError=Z;class K extends U{constructor(xt){super(xt,"AbortException")}}o.AbortException=K;function at(qt){(typeof qt!="object"||qt?.length===void 0)&&M("Invalid argument for bytesToString");const xt=qt.length,st=8192;if(xt<st)return String.fromCharCode.apply(null,qt);const Jt=[];for(let me=0;me<xt;me+=st){const Xe=Math.min(me+st,xt),Kt=qt.subarray(me,Xe);Jt.push(String.fromCharCode.apply(null,Kt))}return Jt.join("")}function rt(qt){typeof qt!="string"&&M("Invalid argument for stringToBytes");const xt=qt.length,st=new Uint8Array(xt);for(let Jt=0;Jt<xt;++Jt)st[Jt]=qt.charCodeAt(Jt)&255;return st}function Rt(qt){return String.fromCharCode(qt>>24&255,qt>>16&255,qt>>8&255,qt&255)}function Xt(qt){return Object.keys(qt).length}function wt(qt){const xt=Object.create(null);for(const[st,Jt]of qt)xt[st]=Jt;return xt}function Dt(){const qt=new Uint8Array(4);return qt[0]=1,new Uint32Array(qt.buffer,0,1)[0]===1}function Ft(){try{return new Function(""),!0}catch{return!1}}class Lt{static get isLittleEndian(){return L(this,"isLittleEndian",Dt())}static get isEvalSupported(){return L(this,"isEvalSupported",Ft())}static get isOffscreenCanvasSupported(){return L(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?L(this,"platform",{isWin:!1,isMac:!1}):L(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return L(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}o.FeatureTest=Lt;const Ut=[...Array(256).keys()].map(qt=>qt.toString(16).padStart(2,"0"));class Qt{static makeHexColor(xt,st,Jt){return`#${Ut[xt]}${Ut[st]}${Ut[Jt]}`}static scaleMinMax(xt,st){let Jt;xt[0]?(xt[0]<0&&(Jt=st[0],st[0]=st[1],st[1]=Jt),st[0]*=xt[0],st[1]*=xt[0],xt[3]<0&&(Jt=st[2],st[2]=st[3],st[3]=Jt),st[2]*=xt[3],st[3]*=xt[3]):(Jt=st[0],st[0]=st[2],st[2]=Jt,Jt=st[1],st[1]=st[3],st[3]=Jt,xt[1]<0&&(Jt=st[2],st[2]=st[3],st[3]=Jt),st[2]*=xt[1],st[3]*=xt[1],xt[2]<0&&(Jt=st[0],st[0]=st[1],st[1]=Jt),st[0]*=xt[2],st[1]*=xt[2]),st[0]+=xt[4],st[1]+=xt[4],st[2]+=xt[5],st[3]+=xt[5]}static transform(xt,st){return[xt[0]*st[0]+xt[2]*st[1],xt[1]*st[0]+xt[3]*st[1],xt[0]*st[2]+xt[2]*st[3],xt[1]*st[2]+xt[3]*st[3],xt[0]*st[4]+xt[2]*st[5]+xt[4],xt[1]*st[4]+xt[3]*st[5]+xt[5]]}static applyTransform(xt,st){const Jt=xt[0]*st[0]+xt[1]*st[2]+st[4],me=xt[0]*st[1]+xt[1]*st[3]+st[5];return[Jt,me]}static applyInverseTransform(xt,st){const Jt=st[0]*st[3]-st[1]*st[2],me=(xt[0]*st[3]-xt[1]*st[2]+st[2]*st[5]-st[4]*st[3])/Jt,Xe=(-xt[0]*st[1]+xt[1]*st[0]+st[4]*st[1]-st[5]*st[0])/Jt;return[me,Xe]}static getAxialAlignedBoundingBox(xt,st){const Jt=this.applyTransform(xt,st),me=this.applyTransform(xt.slice(2,4),st),Xe=this.applyTransform([xt[0],xt[3]],st),Kt=this.applyTransform([xt[2],xt[1]],st);return[Math.min(Jt[0],me[0],Xe[0],Kt[0]),Math.min(Jt[1],me[1],Xe[1],Kt[1]),Math.max(Jt[0],me[0],Xe[0],Kt[0]),Math.max(Jt[1],me[1],Xe[1],Kt[1])]}static inverseTransform(xt){const st=xt[0]*xt[3]-xt[1]*xt[2];return[xt[3]/st,-xt[1]/st,-xt[2]/st,xt[0]/st,(xt[2]*xt[5]-xt[4]*xt[3])/st,(xt[4]*xt[1]-xt[5]*xt[0])/st]}static singularValueDecompose2dScale(xt){const st=[xt[0],xt[2],xt[1],xt[3]],Jt=xt[0]*st[0]+xt[1]*st[2],me=xt[0]*st[1]+xt[1]*st[3],Xe=xt[2]*st[0]+xt[3]*st[2],Kt=xt[2]*st[1]+xt[3]*st[3],kn=(Jt+Kt)/2,On=Math.sqrt((Jt+Kt)**2-4*(Jt*Kt-Xe*me))/2,cn=kn+On||1,Qe=kn-On||1;return[Math.sqrt(cn),Math.sqrt(Qe)]}static normalizeRect(xt){const st=xt.slice(0);return xt[0]>xt[2]&&(st[0]=xt[2],st[2]=xt[0]),xt[1]>xt[3]&&(st[1]=xt[3],st[3]=xt[1]),st}static intersect(xt,st){const Jt=Math.max(Math.min(xt[0],xt[2]),Math.min(st[0],st[2])),me=Math.min(Math.max(xt[0],xt[2]),Math.max(st[0],st[2]));if(Jt>me)return null;const Xe=Math.max(Math.min(xt[1],xt[3]),Math.min(st[1],st[3])),Kt=Math.min(Math.max(xt[1],xt[3]),Math.max(st[1],st[3]));return Xe>Kt?null:[Jt,Xe,me,Kt]}static bezierBoundingBox(xt,st,Jt,me,Xe,Kt,kn,On){const cn=[],Qe=[[],[]];let En,Zn,Da,Me,gn,ba,ua,Te;for(let da=0;da<2;++da){if(da===0?(Zn=6*xt-12*Jt+6*Xe,En=-3*xt+9*Jt-9*Xe+3*kn,Da=3*Jt-3*xt):(Zn=6*st-12*me+6*Kt,En=-3*st+9*me-9*Kt+3*On,Da=3*me-3*st),Math.abs(En)<1e-12){if(Math.abs(Zn)<1e-12)continue;Me=-Da/Zn,0<Me&&Me<1&&cn.push(Me);continue}ua=Zn*Zn-4*Da*En,Te=Math.sqrt(ua),!(ua<0)&&(gn=(-Zn+Te)/(2*En),0<gn&&gn<1&&cn.push(gn),ba=(-Zn-Te)/(2*En),0<ba&&ba<1&&cn.push(ba))}let Ie=cn.length,un;const Nn=Ie;for(;Ie--;)Me=cn[Ie],un=1-Me,Qe[0][Ie]=un*un*un*xt+3*un*un*Me*Jt+3*un*Me*Me*Xe+Me*Me*Me*kn,Qe[1][Ie]=un*un*un*st+3*un*un*Me*me+3*un*Me*Me*Kt+Me*Me*Me*On;return Qe[0][Nn]=xt,Qe[1][Nn]=st,Qe[0][Nn+1]=kn,Qe[1][Nn+1]=On,Qe[0].length=Qe[1].length=Nn+2,[Math.min(...Qe[0]),Math.min(...Qe[1]),Math.max(...Qe[0]),Math.max(...Qe[1])]}}o.Util=Qt;const $t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ie(qt){if(qt[0]>=""){let st;if(qt[0]===""&&qt[1]===""?st="utf-16be":qt[0]===""&&qt[1]===""?st="utf-16le":qt[0]===""&&qt[1]===""&&qt[2]===""&&(st="utf-8"),st)try{const Jt=new TextDecoder(st,{fatal:!0}),me=rt(qt);return Jt.decode(me)}catch(Jt){q(`stringToPDFString: "${Jt}".`)}}const xt=[];for(let st=0,Jt=qt.length;st<Jt;st++){const me=$t[qt.charCodeAt(st)];xt.push(me?String.fromCharCode(me):qt.charAt(st))}return xt.join("")}function le(qt){return decodeURIComponent(escape(qt))}function oe(qt){return unescape(encodeURIComponent(qt))}function _e(qt){return typeof qt=="object"&&qt?.byteLength!==void 0}function ke(qt,xt){if(qt.length!==xt.length)return!1;for(let st=0,Jt=qt.length;st<Jt;st++)if(qt[st]!==xt[st])return!1;return!0}function Be(qt=new Date){return[qt.getUTCFullYear().toString(),(qt.getUTCMonth()+1).toString().padStart(2,"0"),qt.getUTCDate().toString().padStart(2,"0"),qt.getUTCHours().toString().padStart(2,"0"),qt.getUTCMinutes().toString().padStart(2,"0"),qt.getUTCSeconds().toString().padStart(2,"0")].join("")}class Cn{#t=!1;constructor(){this.promise=new Promise((xt,st)=>{this.resolve=Jt=>{this.#t=!0,xt(Jt)},this.reject=Jt=>{this.#t=!0,st(Jt)}})}get settled(){return this.#t}}o.PromiseCapability=Cn;let We=null,An=null;function ya(qt){return We||(We=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,An=new Map([["","t"]])),qt.replaceAll(We,(xt,st,Jt)=>st?st.normalize("NFKC"):An.get(Jt))}function ca(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const qt=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(qt);else for(let xt=0;xt<32;xt++)qt[xt]=Math.floor(Math.random()*255);return at(qt)}const Qn="pdfjs_internal_id_";o.AnnotationPrefix=Qn}),((__unused_webpack_module,exports$1,__w_pdfjs_require__)=>{Object.defineProperty(exports$1,"__esModule",{value:!0}),exports$1.RenderTask=exports$1.PDFWorkerUtil=exports$1.PDFWorker=exports$1.PDFPageProxy=exports$1.PDFDocumentProxy=exports$1.PDFDocumentLoadingTask=exports$1.PDFDataRangeTransport=exports$1.LoopbackPort=exports$1.DefaultStandardFontDataFactory=exports$1.DefaultFilterFactory=exports$1.DefaultCanvasFactory=exports$1.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports$1,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports$1.build=void 0,exports$1.getDocument=getDocument,exports$1.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports$1.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports$1.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports$1.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports$1.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(f){if(typeof f=="string"||f instanceof URL?f={url:f}:(0,_util.isArrayBuffer)(f)&&(f={data:f}),typeof f!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!f.url&&!f.data&&!f.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const o=new PDFDocumentLoadingTask,{docId:g}=o,r=f.url?getUrlProp(f.url):null,y=f.data?getDataProp(f.data):null,N=f.httpHeaders||null,O=f.withCredentials===!0,Y=f.password??null,B=f.range instanceof PDFDataRangeTransport?f.range:null,d=Number.isInteger(f.rangeChunkSize)&&f.rangeChunkSize>0?f.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let c=f.worker instanceof PDFWorker?f.worker:null;const h=f.verbosity,_=typeof f.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(f.docBaseUrl)?f.docBaseUrl:null,E=typeof f.cMapUrl=="string"?f.cMapUrl:null,p=f.cMapPacked!==!1,S=f.CMapReaderFactory||DefaultCMapReaderFactory,j=typeof f.standardFontDataUrl=="string"?f.standardFontDataUrl:null,v=f.StandardFontDataFactory||DefaultStandardFontDataFactory,P=f.stopAtErrors!==!0,W=Number.isInteger(f.maxImageSize)&&f.maxImageSize>-1?f.maxImageSize:-1,G=f.isEvalSupported!==!1,C=typeof f.isOffscreenCanvasSupported=="boolean"?f.isOffscreenCanvasSupported:!_util.isNodeJS,F=Number.isInteger(f.canvasMaxAreaInBytes)?f.canvasMaxAreaInBytes:-1,Q=typeof f.disableFontFace=="boolean"?f.disableFontFace:_util.isNodeJS,it=f.fontExtraProperties===!0,et=f.enableXfa===!0,bt=f.ownerDocument||globalThis.document,gt=f.disableRange===!0,It=f.disableStream===!0,Ot=f.disableAutoFetch===!0,Mt=f.pdfBug===!0,kt=B?B.length:f.length??NaN,nt=typeof f.useSystemFonts=="boolean"?f.useSystemFonts:!_util.isNodeJS&&!Q,q=typeof f.useWorkerFetch=="boolean"?f.useWorkerFetch:S===_display_utils.DOMCMapReaderFactory&&v===_display_utils.DOMStandardFontDataFactory&&E&&j&&(0,_display_utils.isValidFetchUrl)(E,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(j,document.baseURI),M=f.canvasFactory||new DefaultCanvasFactory({ownerDocument:bt}),T=f.filterFactory||new DefaultFilterFactory({docId:g,ownerDocument:bt}),R=null;(0,_util.setVerbosityLevel)(h);const x={canvasFactory:M,filterFactory:T};if(q||(x.cMapReaderFactory=new S({baseUrl:E,isCompressed:p}),x.standardFontDataFactory=new v({baseUrl:j})),!c){const $={verbosity:h,port:_worker_options.GlobalWorkerOptions.workerPort};c=$.port?PDFWorker.fromPort($):new PDFWorker($),o._worker=c}const L={docId:g,apiVersion:"3.11.174",data:y,password:Y,disableAutoFetch:Ot,rangeChunkSize:d,length:kt,docBaseUrl:_,enableXfa:et,evaluatorOptions:{maxImageSize:W,disableFontFace:Q,ignoreErrors:P,isEvalSupported:G,isOffscreenCanvasSupported:C,canvasMaxAreaInBytes:F,fontExtraProperties:it,useSystemFonts:nt,cMapUrl:q?E:null,standardFontDataUrl:q?j:null}},U={ignoreErrors:P,isEvalSupported:G,disableFontFace:Q,fontExtraProperties:it,enableXfa:et,ownerDocument:bt,disableAutoFetch:Ot,pdfBug:Mt,styleElement:R};return c.promise.then(function(){if(o.destroyed)throw new Error("Loading aborted");const $=_fetchDocument(c,L),V=new Promise(function(b){let D;B?D=new _transport_stream.PDFDataTransportStream({length:kt,initialData:B.initialData,progressiveDone:B.progressiveDone,contentDispositionFilename:B.contentDispositionFilename,disableRange:gt,disableStream:It},B):y||(D=(Z=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Z):(0,_display_utils.isValidFetchUrl)(Z.url)?new _displayFetch_stream.PDFFetchStream(Z):new _displayNetwork.PDFNetworkStream(Z))({url:r,length:kt,httpHeaders:N,withCredentials:O,rangeChunkSize:d,disableRange:gt,disableStream:It})),b(D)});return Promise.all([$,V]).then(function([b,D]){if(o.destroyed)throw new Error("Loading aborted");const I=new _message_handler.MessageHandler(g,b,c.port),Z=new WorkerTransport(I,o,D,U,x);o._transport=Z,I.send("Ready",null)})}).catch(o._capability.reject),o}async function _fetchDocument(f,o){if(f.destroyed)throw new Error("Worker was destroyed");const g=await f.messageHandler.sendWithPromise("GetDocRequest",o,o.data?[o.data.buffer]:null);if(f.destroyed)throw new Error("Worker was destroyed");return g}function getUrlProp(f){if(f instanceof URL)return f.href;try{return new URL(f,window.location).href}catch{if(_util.isNodeJS&&typeof f=="string")return f}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(f){if(_util.isNodeJS&&typeof Buffer<"u"&&f instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(f instanceof Uint8Array&&f.byteLength===f.buffer.byteLength)return f;if(typeof f=="string")return(0,_util.stringToBytes)(f);if(typeof f=="object"&&!isNaN(f?.length)||(0,_util.isArrayBuffer)(f))return new Uint8Array(f);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static#t=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#t++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(o){throw this._worker?.port&&delete this._worker._pendingDestroy,o}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports$1.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(o,g,r=!1,y=null){this.length=o,this.initialData=g,this.progressiveDone=r,this.contentDispositionFilename=y,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(o){this._rangeListeners.push(o)}addProgressListener(o){this._progressListeners.push(o)}addProgressiveReadListener(o){this._progressiveReadListeners.push(o)}addProgressiveDoneListener(o){this._progressiveDoneListeners.push(o)}onDataRange(o,g){for(const r of this._rangeListeners)r(o,g)}onDataProgress(o,g){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(o,g)})}onDataProgressiveRead(o){this._readyCapability.promise.then(()=>{for(const g of this._progressiveReadListeners)g(o)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const o of this._progressiveDoneListeners)o()})}transportReady(){this._readyCapability.resolve()}requestDataRange(o,g){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports$1.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(o,g){this._pdfInfo=o,this._transport=g,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(r=>{if(!r)return r;const y=[];for(const N in r)y.push(...r[N]);return y}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(o){return this._transport.getPage(o)}getPageIndex(o){return this._transport.getPageIndex(o)}getDestinations(){return this._transport.getDestinations()}getDestination(o){return this._transport.getDestination(o)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(o=!1){return this._transport.startCleanup(o||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports$1.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#t=null;#e=!1;constructor(o,g,r,y=!1){this._pageIndex=o,this._pageInfo=g,this._transport=r,this._stats=y?new _display_utils.StatTimer:null,this._pdfBug=y,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:o,rotation:g=this.rotate,offsetX:r=0,offsetY:y=0,dontFlip:N=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:o,rotation:g,offsetX:r,offsetY:y,dontFlip:N})}getAnnotations({intent:o="display"}={}){const g=this._transport.getRenderingIntent(o);return this._transport.getAnnotations(this._pageIndex,g.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:o,viewport:g,intent:r="display",annotationMode:y=_util.AnnotationMode.ENABLE,transform:N=null,background:O=null,optionalContentConfigPromise:Y=null,annotationCanvasMap:B=null,pageColors:d=null,printAnnotationStorage:c=null}){this._stats?.time("Overall");const h=this._transport.getRenderingIntent(r,y,c);this.#e=!1,this.#a(),Y||(Y=this._transport.getOptionalContentConfig());let _=this._intentStates.get(h.cacheKey);_||(_=Object.create(null),this._intentStates.set(h.cacheKey,_)),_.streamReaderCancelTimeout&&(clearTimeout(_.streamReaderCancelTimeout),_.streamReaderCancelTimeout=null);const E=!!(h.renderingIntent&_util.RenderingIntentFlag.PRINT);_.displayReadyCapability||(_.displayReadyCapability=new _util.PromiseCapability,_.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(h));const p=v=>{_.renderTasks.delete(S),(this._maybeCleanupAfterRender||E)&&(this.#e=!0),this.#n(!E),v?(S.capability.reject(v),this._abortOperatorList({intentState:_,reason:v instanceof Error?v:new Error(v)})):S.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},S=new InternalRenderTask({callback:p,params:{canvasContext:o,viewport:g,transform:N,background:O},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:B,operatorList:_.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!E,pdfBug:this._pdfBug,pageColors:d});(_.renderTasks||=new Set).add(S);const j=S.task;return Promise.all([_.displayReadyCapability.promise,Y]).then(([v,P])=>{if(this.destroyed){p();return}this._stats?.time("Rendering"),S.initializeGraphics({transparency:v,optionalContentConfig:P}),S.operatorListChanged()}).catch(p),j}getOperatorList({intent:o="display",annotationMode:g=_util.AnnotationMode.ENABLE,printAnnotationStorage:r=null}={}){function y(){O.operatorList.lastChunk&&(O.opListReadCapability.resolve(O.operatorList),O.renderTasks.delete(Y))}const N=this._transport.getRenderingIntent(o,g,r,!0);let O=this._intentStates.get(N.cacheKey);O||(O=Object.create(null),this._intentStates.set(N.cacheKey,O));let Y;return O.opListReadCapability||(Y=Object.create(null),Y.operatorListChanged=y,O.opListReadCapability=new _util.PromiseCapability,(O.renderTasks||=new Set).add(Y),O.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(N)),O.opListReadCapability.promise}streamTextContent({includeMarkedContent:o=!1,disableNormalization:g=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:o===!0,disableNormalization:g===!0},{highWaterMark:100,size(y){return y.items.length}})}getTextContent(o={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>_xfa_text.XfaText.textContent(r));const g=this.streamTextContent(o);return new Promise(function(r,y){function N(){O.read().then(function({value:B,done:d}){if(d){r(Y);return}Object.assign(Y.styles,B.styles),Y.items.push(...B.items),N()},y)}const O=g.getReader(),Y={items:[],styles:Object.create(null)};N()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const o=[];for(const g of this._intentStates.values())if(this._abortOperatorList({intentState:g,reason:new Error("Page was destroyed."),force:!0}),!g.opListReadCapability)for(const r of g.renderTasks)o.push(r.completed),r.cancel();return this.objs.clear(),this.#e=!1,this.#a(),Promise.all(o)}cleanup(o=!1){this.#e=!0;const g=this.#n(!1);return o&&g&&(this._stats&&=new _display_utils.StatTimer),g}#n(o=!1){if(this.#a(),!this.#e||this.destroyed)return!1;if(o)return this.#t=setTimeout(()=>{this.#t=null,this.#n(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(const{renderTasks:g,operatorList:r}of this._intentStates.values())if(g.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}#a(){this.#t&&(clearTimeout(this.#t),this.#t=null)}_startRenderPage(o,g){const r=this._intentStates.get(g);r&&(this._stats?.timeEnd("Page Request"),r.displayReadyCapability?.resolve(o))}_renderPageChunk(o,g){for(let r=0,y=o.length;r<y;r++)g.operatorList.fnArray.push(o.fnArray[r]),g.operatorList.argsArray.push(o.argsArray[r]);g.operatorList.lastChunk=o.lastChunk,g.operatorList.separateAnnots=o.separateAnnots;for(const r of g.renderTasks)r.operatorListChanged();o.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:o,cacheKey:g,annotationStorageSerializable:r}){const{map:y,transfers:N}=r,Y=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:o,cacheKey:g,annotationStorage:y},N).getReader(),B=this._intentStates.get(g);B.streamReader=Y;const d=()=>{Y.read().then(({value:c,done:h})=>{if(h){B.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(c,B),d())},c=>{if(B.streamReader=null,!this._transport.destroyed){if(B.operatorList){B.operatorList.lastChunk=!0;for(const h of B.renderTasks)h.operatorListChanged();this.#n(!0)}if(B.displayReadyCapability)B.displayReadyCapability.reject(c);else if(B.opListReadCapability)B.opListReadCapability.reject(c);else throw c}})};d()}_abortOperatorList({intentState:o,reason:g,force:r=!1}){if(o.streamReader){if(o.streamReaderCancelTimeout&&(clearTimeout(o.streamReaderCancelTimeout),o.streamReaderCancelTimeout=null),!r){if(o.renderTasks.size>0)return;if(g instanceof _display_utils.RenderingCancelledException){let y=RENDERING_CANCELLED_TIMEOUT;g.extraDelay>0&&g.extraDelay<1e3&&(y+=g.extraDelay),o.streamReaderCancelTimeout=setTimeout(()=>{o.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:o,reason:g,force:!0})},y);return}}if(o.streamReader.cancel(new _util.AbortException(g.message)).catch(()=>{}),o.streamReader=null,!this._transport.destroyed){for(const[y,N]of this._intentStates)if(N===o){this._intentStates.delete(y);break}this.cleanup()}}}get stats(){return this._stats}}exports$1.PDFPageProxy=PDFPageProxy;class LoopbackPort{#t=new Set;#e=Promise.resolve();postMessage(o,g){const r={data:structuredClone(o,g?{transfer:g}:null)};this.#e.then(()=>{for(const y of this.#t)y.call(this,r)})}addEventListener(o,g){this.#t.add(g)}removeEventListener(o,g){this.#t.delete(g)}terminate(){this.#t.clear()}}exports$1.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports$1.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const f=document?.currentScript?.src;f&&(PDFWorkerUtil.fallbackWorkerSrc=f.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(f,o){let g;try{if(g=new URL(f),!g.origin||g.origin==="null")return!1}catch{return!1}const r=new URL(o,g);return g.origin===r.origin},PDFWorkerUtil.createCDNWrapper=function(f){const o=`importScripts("${f}");`;return URL.createObjectURL(new Blob([o]))}}class PDFWorker{static#workerPorts;constructor({name:f=null,port:o=null,verbosity:g=(0,_util.getVerbosityLevel)()}={}){if(this.name=f,this.destroyed=!1,this.verbosity=g,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,o){if(PDFWorker.#workerPorts?.has(o))throw new Error("Cannot use more than one PDFWorker per port.");(PDFWorker.#workerPorts||=new WeakMap).set(o,this),this._initializeFromPort(o);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(f){this._port=f,this._messageHandler=new _message_handler.MessageHandler("main","worker",f),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:f}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,f)||(f=PDFWorkerUtil.createCDNWrapper(new URL(f,window.location).href));const o=new Worker(f),g=new _message_handler.MessageHandler("main","worker",o),r=()=>{o.removeEventListener("error",y),g.destroy(),o.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},y=()=>{this._webWorker||r()};o.addEventListener("error",y),g.on("test",O=>{if(o.removeEventListener("error",y),this.destroyed){r();return}O?(this._messageHandler=g,this._port=o,this._webWorker=o,this._readyCapability.resolve(),g.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),g.destroy(),o.terminate())}),g.on("ready",O=>{if(o.removeEventListener("error",y),this.destroyed){r();return}try{N()}catch{this._setupFakeWorker()}});const N=()=>{const O=new Uint8Array;g.send("test",O,[O.buffer])};N();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(f=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const o=new LoopbackPort;this._port=o;const g=`fake${PDFWorkerUtil.fakeWorkerId++}`,r=new _message_handler.MessageHandler(g+"_worker",g,o);f.setup(r,o);const y=new _message_handler.MessageHandler(g,g+"_worker",o);this._messageHandler=y,this._readyCapability.resolve(),y.send("configure",{verbosity:this.verbosity})}).catch(f=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${f.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(f){if(!f?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const o=this.#workerPorts?.get(f.port);if(o){if(o._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return o}return new PDFWorker(f)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports$1.PDFWorker=PDFWorker;class WorkerTransport{#t=new Map;#e=new Map;#n=new Map;#a=null;constructor(o,g,r,y,N){this.messageHandler=o,this.loadingTask=g,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:y.ownerDocument,styleElement:y.styleElement}),this._params=y,this.canvasFactory=N.canvasFactory,this.filterFactory=N.filterFactory,this.cMapReaderFactory=N.cMapReaderFactory,this.standardFontDataFactory=N.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#o(o,g=null){const r=this.#t.get(o);if(r)return r;const y=this.messageHandler.sendWithPromise(o,g);return this.#t.set(o,y),y}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(o,g=_util.AnnotationMode.ENABLE,r=null,y=!1){let N=_util.RenderingIntentFlag.DISPLAY,O=_annotation_storage.SerializableEmpty;switch(o){case"any":N=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":N=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${o}`)}switch(g){case _util.AnnotationMode.DISABLE:N+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:N+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:N+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,O=(N&_util.RenderingIntentFlag.PRINT&&r instanceof _annotation_storage.PrintAnnotationStorage?r:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${g}`)}return y&&(N+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:N,cacheKey:`${N}_${O.hash}`,annotationStorageSerializable:O}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const o=[];for(const r of this.#e.values())o.push(r._destroy());this.#e.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const g=this.messageHandler.sendWithPromise("Terminate",null);return o.push(g),Promise.all(o).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:o,loadingTask:g}=this;o.on("GetReader",(r,y)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=N=>{this._lastProgress={loaded:N.loaded,total:N.total}},y.onPull=()=>{this._fullReader.read().then(function({value:N,done:O}){if(O){y.close();return}(0,_util.assert)(N instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),y.enqueue(new Uint8Array(N),1,[N])}).catch(N=>{y.error(N)})},y.onCancel=N=>{this._fullReader.cancel(N),y.ready.catch(O=>{if(!this.destroyed)throw O})}}),o.on("ReaderHeadersReady",r=>{const y=new _util.PromiseCapability,N=this._fullReader;return N.headersReady.then(()=>{(!N.isStreamingSupported||!N.isRangeSupported)&&(this._lastProgress&&g.onProgress?.(this._lastProgress),N.onProgress=O=>{g.onProgress?.({loaded:O.loaded,total:O.total})}),y.resolve({isStreamingSupported:N.isStreamingSupported,isRangeSupported:N.isRangeSupported,contentLength:N.contentLength})},y.reject),y.promise}),o.on("GetRangeReader",(r,y)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const N=this._networkStream.getRangeReader(r.begin,r.end);if(!N){y.close();return}y.onPull=()=>{N.read().then(function({value:O,done:Y}){if(Y){y.close();return}(0,_util.assert)(O instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),y.enqueue(new Uint8Array(O),1,[O])}).catch(O=>{y.error(O)})},y.onCancel=O=>{N.cancel(O),y.ready.catch(Y=>{if(!this.destroyed)throw Y})}}),o.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,g._capability.resolve(new PDFDocumentProxy(r,this))}),o.on("DocException",function(r){let y;switch(r.name){case"PasswordException":y=new _util.PasswordException(r.message,r.code);break;case"InvalidPDFException":y=new _util.InvalidPDFException(r.message);break;case"MissingPDFException":y=new _util.MissingPDFException(r.message);break;case"UnexpectedResponseException":y=new _util.UnexpectedResponseException(r.message,r.status);break;case"UnknownErrorException":y=new _util.UnknownErrorException(r.message,r.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}g._capability.reject(y)}),o.on("PasswordRequest",r=>{if(this.#a=new _util.PromiseCapability,g.onPassword){const y=N=>{N instanceof Error?this.#a.reject(N):this.#a.resolve({password:N})};try{g.onPassword(y,r.code)}catch(N){this.#a.reject(N)}}else this.#a.reject(new _util.PasswordException(r.message,r.code));return this.#a.promise}),o.on("DataLoaded",r=>{g.onProgress?.({loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),o.on("StartRenderPage",r=>{if(this.destroyed)return;this.#e.get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),o.on("commonobj",([r,y,N])=>{if(!this.destroyed&&!this.commonObjs.has(r))switch(y){case"Font":const O=this._params;if("error"in N){const d=N.error;(0,_util.warn)(`Error during font loading: ${d}`),this.commonObjs.resolve(r,d);break}const Y=O.pdfBug&&globalThis.FontInspector?.enabled?(d,c)=>globalThis.FontInspector.fontAdded(d,c):null,B=new _font_loader.FontFaceObject(N,{isEvalSupported:O.isEvalSupported,disableFontFace:O.disableFontFace,ignoreErrors:O.ignoreErrors,inspectFont:Y});this.fontLoader.bind(B).catch(d=>o.sendWithPromise("FontFallback",{id:r})).finally(()=>{!O.fontExtraProperties&&B.data&&(B.data=null),this.commonObjs.resolve(r,B)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,N);break;default:throw new Error(`Got unknown common object type ${y}`)}}),o.on("obj",([r,y,N,O])=>{if(this.destroyed)return;const Y=this.#e.get(y);if(!Y.objs.has(r))switch(N){case"Image":if(Y.objs.resolve(r,O),O){let B;if(O.bitmap){const{width:d,height:c}=O;B=d*c*4}else B=O.data?.length||0;B>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Y._maybeCleanupAfterRender=!0)}break;case"Pattern":Y.objs.resolve(r,O);break;default:throw new Error(`Got unknown object type ${N}`)}}),o.on("DocProgress",r=>{this.destroyed||g.onProgress?.({loaded:r.loaded,total:r.total})}),o.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),o.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:o,transfers:g}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:o,filename:this._fullReader?.filename??null},g).finally(()=>{this.annotationStorage.resetModified()})}getPage(o){if(!Number.isInteger(o)||o<=0||o>this._numPages)return Promise.reject(new Error("Invalid page request."));const g=o-1,r=this.#n.get(g);if(r)return r;const y=this.messageHandler.sendWithPromise("GetPage",{pageIndex:g}).then(N=>{if(this.destroyed)throw new Error("Transport destroyed");const O=new PDFPageProxy(g,N,this,this._params.pdfBug);return this.#e.set(g,O),O});return this.#n.set(g,y),y}getPageIndex(o){return typeof o!="object"||o===null||!Number.isInteger(o.num)||o.num<0||!Number.isInteger(o.gen)||o.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:o.num,gen:o.gen})}getAnnotations(o,g){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:o,intent:g})}getFieldObjects(){return this.#o("GetFieldObjects")}hasJSActions(){return this.#o("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(o){return typeof o!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:o})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#o("GetDocJSActions")}getPageJSActions(o){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:o})}getStructTree(o){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:o})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(o=>new _optional_content_config.OptionalContentConfig(o))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const o="GetMetadata",g=this.#t.get(o);if(g)return g;const r=this.messageHandler.sendWithPromise(o,null).then(y=>({info:y[0],metadata:y[1]?new _metadata.Metadata(y[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(o,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(o=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const g of this.#e.values())if(!g.cleanup())throw new Error(`startCleanup: Page ${g.pageNumber} is currently rendering.`);this.commonObjs.clear(),o||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:o,enableXfa:g}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:o,enableXfa:g})}}class PDFObjects{#t=Object.create(null);#e(o){return this.#t[o]||={capability:new _util.PromiseCapability,data:null}}get(o,g=null){if(g){const y=this.#e(o);return y.capability.promise.then(()=>g(y.data)),null}const r=this.#t[o];if(!r?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${o}.`);return r.data}has(o){return this.#t[o]?.capability.settled||!1}resolve(o,g=null){const r=this.#e(o);r.data=g,r.capability.resolve()}clear(){for(const o in this.#t){const{data:g}=this.#t[o];g?.bitmap?.close()}this.#t=Object.create(null)}}class RenderTask{#t=null;constructor(o){this.#t=o,this.onContinue=null}get promise(){return this.#t.capability.promise}cancel(o=0){this.#t.cancel(null,o)}get separateAnnots(){const{separateAnnots:o}=this.#t.operatorList;if(!o)return!1;const{annotationCanvasMap:g}=this.#t;return o.form||o.canvas&&g?.size>0}}exports$1.RenderTask=RenderTask;class InternalRenderTask{static#t=new WeakSet;constructor({callback:o,params:g,objs:r,commonObjs:y,annotationCanvasMap:N,operatorList:O,pageIndex:Y,canvasFactory:B,filterFactory:d,useRequestAnimationFrame:c=!1,pdfBug:h=!1,pageColors:_=null}){this.callback=o,this.params=g,this.objs=r,this.commonObjs=y,this.annotationCanvasMap=N,this.operatorListIdx=null,this.operatorList=O,this._pageIndex=Y,this.canvasFactory=B,this.filterFactory=d,this._pdfBug=h,this.pageColors=_,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=g.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:o=!1,optionalContentConfig:g}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:y,transform:N,background:O}=this.params;this.gfx=new _canvas.CanvasGraphics(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:g},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:N,viewport:y,transparency:o,background:O}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(o=null,g=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#t.delete(this._canvas),this.callback(o||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,g))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#t.delete(this._canvas),this.callback())))}}const version="3.11.174";exports$1.version=version;const build="ce8716743";exports$1.build=build}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SerializableEmpty=o.PrintAnnotationStorage=o.AnnotationStorage=void 0;var r=g(1),y=g(4),N=g(8);const O=Object.freeze({map:null,hash:"",transfers:void 0});o.SerializableEmpty=O;class Y{#t=!1;#e=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(c,h){const _=this.#e.get(c);return _===void 0?h:Object.assign(h,_)}getRawValue(c){return this.#e.get(c)}remove(c){if(this.#e.delete(c),this.#e.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const h of this.#e.values())if(h instanceof y.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(c,h){const _=this.#e.get(c);let E=!1;if(_!==void 0)for(const[p,S]of Object.entries(h))_[p]!==S&&(E=!0,_[p]=S);else E=!0,this.#e.set(c,h);E&&this.#n(),h instanceof y.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(h.constructor._type)}has(c){return this.#e.has(c)}getAll(){return this.#e.size>0?(0,r.objectFromMap)(this.#e):null}setAll(c){for(const[h,_]of Object.entries(c))this.setValue(h,_)}get size(){return this.#e.size}#n(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new B(this)}get serializable(){if(this.#e.size===0)return O;const c=new Map,h=new N.MurmurHash3_64,_=[],E=Object.create(null);let p=!1;for(const[S,j]of this.#e){const v=j instanceof y.AnnotationEditor?j.serialize(!1,E):j;v&&(c.set(S,v),h.update(`${S}:${JSON.stringify(v)}`),p||=!!v.bitmap)}if(p)for(const S of c.values())S.bitmap&&_.push(S.bitmap);return c.size>0?{map:c,hash:h.hexdigest(),transfers:_}:O}}o.AnnotationStorage=Y;class B extends Y{#t;constructor(c){super();const{map:h,hash:_,transfers:E}=c.serializable,p=structuredClone(h,E?{transfer:E}:null);this.#t={map:p,hash:_,transfers:E}}get print(){(0,r.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}}o.PrintAnnotationStorage=B}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationEditor=void 0;var r=g(5),y=g(1),N=g(6);class O{#t="";#e=!1;#n=null;#a=null;#o=null;#r=!1;#s=null;#l=this.focusin.bind(this);#c=this.focusout.bind(this);#i=!1;#f=!1;#d=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#h=!1;#p=O._zIndex++;static _borderLineWidth=-1;static _colorManager=new r.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(d){this.constructor===O&&(0,y.unreachable)("Cannot initialize AnnotationEditor."),this.parent=d.parent,this.id=d.id,this.width=this.height=null,this.pageIndex=d.parent.pageIndex,this.name=d.name,this.div=null,this._uiManager=d.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=d.isCentered,this._structTreeParentId=null;const{rotation:c,rawDims:{pageWidth:h,pageHeight:_,pageX:E,pageY:p}}=this.parent.viewport;this.rotation=c,this.pageRotation=(360+c-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[h,_],this.pageTranslation=[E,p];const[S,j]=this.parentDimensions;this.x=d.x/S,this.y=d.y/j,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,y.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(d){const c=new Y({id:d.parent.getNextId(),parent:d.parent,uiManager:d._uiManager});c.annotationElementId=d.annotationElementId,c.deleted=!0,c._uiManager.addToAnnotationStorage(c)}static initialize(d,c=null){if(O._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(_=>[_,d.get(_)])),c?.strings)for(const _ of c.strings)O._l10nPromise.set(_,d.get(_));if(O._borderLineWidth!==-1)return;const h=getComputedStyle(document.documentElement);O._borderLineWidth=parseFloat(h.getPropertyValue("--outline-width"))||0}static updateDefaultParams(d,c){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(d){return!1}static paste(d,c){(0,y.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#h}set _isDraggable(d){this.#h=d,this.div?.classList.toggle("draggable",d)}center(){const[d,c]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*c/(d*2),this.y+=this.width*d/(c*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*c/(d*2),this.y-=this.width*d/(c*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(d){this._uiManager.addCommands(d)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#p}setParent(d){d!==null&&(this.pageIndex=d.pageIndex,this.pageDimensions=d.pageDimensions),this.parent=d}focusin(d){this._focusEventsAllowed&&(this.#i?this.#i=!1:this.parent.setSelected(this))}focusout(d){!this._focusEventsAllowed||!this.isAttachedToDOM||d.relatedTarget?.closest(`#${this.id}`)||(d.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(d,c,h,_){const[E,p]=this.parentDimensions;[h,_]=this.screenToPageTranslation(h,_),this.x=(d+h)/E,this.y=(c+_)/p,this.fixAndSetPosition()}#y([d,c],h,_){[h,_]=this.screenToPageTranslation(h,_),this.x+=h/d,this.y+=_/c,this.fixAndSetPosition()}translate(d,c){this.#y(this.parentDimensions,d,c)}translateInPage(d,c){this.#y(this.pageDimensions,d,c),this.div.scrollIntoView({block:"nearest"})}drag(d,c){const[h,_]=this.parentDimensions;if(this.x+=d/h,this.y+=c/_,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:v,y:P}=this.div.getBoundingClientRect();this.parent.findNewParent(this,v,P)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:E,y:p}=this;const[S,j]=this.#g();E+=S,p+=j,this.div.style.left=`${(100*E).toFixed(2)}%`,this.div.style.top=`${(100*p).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#g(){const[d,c]=this.parentDimensions,{_borderLineWidth:h}=O,_=h/d,E=h/c;switch(this.rotation){case 90:return[-_,E];case 180:return[_,E];case 270:return[_,-E];default:return[-_,-E]}}fixAndSetPosition(){const[d,c]=this.pageDimensions;let{x:h,y:_,width:E,height:p}=this;switch(E*=d,p*=c,h*=d,_*=c,this.rotation){case 0:h=Math.max(0,Math.min(d-E,h)),_=Math.max(0,Math.min(c-p,_));break;case 90:h=Math.max(0,Math.min(d-p,h)),_=Math.min(c,Math.max(E,_));break;case 180:h=Math.min(d,Math.max(E,h)),_=Math.min(c,Math.max(p,_));break;case 270:h=Math.min(d,Math.max(p,h)),_=Math.max(0,Math.min(c-E,_));break}this.x=h/=d,this.y=_/=c;const[S,j]=this.#g();h+=S,_+=j;const{style:v}=this.div;v.left=`${(100*h).toFixed(2)}%`,v.top=`${(100*_).toFixed(2)}%`,this.moveInDOM()}static#m(d,c,h){switch(h){case 90:return[c,-d];case 180:return[-d,-c];case 270:return[-c,d];default:return[d,c]}}screenToPageTranslation(d,c){return O.#m(d,c,this.parentRotation)}pageTranslationToScreen(d,c){return O.#m(d,c,360-this.parentRotation)}#u(d){switch(d){case 90:{const[c,h]=this.pageDimensions;return[0,-c/h,h/c,0]}case 180:return[-1,0,0,-1];case 270:{const[c,h]=this.pageDimensions;return[0,c/h,-h/c,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:d,pageDimensions:[c,h]}=this,_=c*d,E=h*d;return y.FeatureTest.isCSSRoundSupported?[Math.round(_),Math.round(E)]:[_,E]}setDims(d,c){const[h,_]=this.parentDimensions;this.div.style.width=`${(100*d/h).toFixed(2)}%`,this.#r||(this.div.style.height=`${(100*c/_).toFixed(2)}%`),this.#n?.classList.toggle("small",d<O.SMALL_EDITOR_SIZE||c<O.SMALL_EDITOR_SIZE)}fixDims(){const{style:d}=this.div,{height:c,width:h}=d,_=h.endsWith("%"),E=!this.#r&&c.endsWith("%");if(_&&E)return;const[p,S]=this.parentDimensions;_||(d.width=`${(100*parseFloat(h)/p).toFixed(2)}%`),!this.#r&&!E&&(d.height=`${(100*parseFloat(c)/S).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#b(){if(this.#s)return;this.#s=document.createElement("div"),this.#s.classList.add("resizers");const d=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||d.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const c of d){const h=document.createElement("div");this.#s.append(h),h.classList.add("resizer",c),h.addEventListener("pointerdown",this.#E.bind(this,c)),h.addEventListener("contextmenu",N.noContextMenu)}this.div.prepend(this.#s)}#E(d,c){c.preventDefault();const{isMac:h}=y.FeatureTest.platform;if(c.button!==0||c.ctrlKey&&h)return;const _=this.#A.bind(this,d),E=this._isDraggable;this._isDraggable=!1;const p={passive:!0,capture:!0};window.addEventListener("pointermove",_,p);const S=this.x,j=this.y,v=this.width,P=this.height,W=this.parent.div.style.cursor,G=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(c.target).cursor;const C=()=>{this._isDraggable=E,window.removeEventListener("pointerup",C),window.removeEventListener("blur",C),window.removeEventListener("pointermove",_,p),this.parent.div.style.cursor=W,this.div.style.cursor=G;const F=this.x,Q=this.y,it=this.width,et=this.height;F===S&&Q===j&&it===v&&et===P||this.addCommands({cmd:()=>{this.width=it,this.height=et,this.x=F,this.y=Q;const[bt,gt]=this.parentDimensions;this.setDims(bt*it,gt*et),this.fixAndSetPosition()},undo:()=>{this.width=v,this.height=P,this.x=S,this.y=j;const[bt,gt]=this.parentDimensions;this.setDims(bt*v,gt*P),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",C),window.addEventListener("blur",C)}#A(d,c){const[h,_]=this.parentDimensions,E=this.x,p=this.y,S=this.width,j=this.height,v=O.MIN_SIZE/h,P=O.MIN_SIZE/_,W=V=>Math.round(V*1e4)/1e4,G=this.#u(this.rotation),C=(V,b)=>[G[0]*V+G[2]*b,G[1]*V+G[3]*b],F=this.#u(360-this.rotation),Q=(V,b)=>[F[0]*V+F[2]*b,F[1]*V+F[3]*b];let it,et,bt=!1,gt=!1;switch(d){case"topLeft":bt=!0,it=(V,b)=>[0,0],et=(V,b)=>[V,b];break;case"topMiddle":it=(V,b)=>[V/2,0],et=(V,b)=>[V/2,b];break;case"topRight":bt=!0,it=(V,b)=>[V,0],et=(V,b)=>[0,b];break;case"middleRight":gt=!0,it=(V,b)=>[V,b/2],et=(V,b)=>[0,b/2];break;case"bottomRight":bt=!0,it=(V,b)=>[V,b],et=(V,b)=>[0,0];break;case"bottomMiddle":it=(V,b)=>[V/2,b],et=(V,b)=>[V/2,0];break;case"bottomLeft":bt=!0,it=(V,b)=>[0,b],et=(V,b)=>[V,0];break;case"middleLeft":gt=!0,it=(V,b)=>[0,b/2],et=(V,b)=>[V,b/2];break}const It=it(S,j),Ot=et(S,j);let Mt=C(...Ot);const kt=W(E+Mt[0]),nt=W(p+Mt[1]);let q=1,M=1,[T,R]=this.screenToPageTranslation(c.movementX,c.movementY);if([T,R]=Q(T/h,R/_),bt){const V=Math.hypot(S,j);q=M=Math.max(Math.min(Math.hypot(Ot[0]-It[0]-T,Ot[1]-It[1]-R)/V,1/S,1/j),v/S,P/j)}else gt?q=Math.max(v,Math.min(1,Math.abs(Ot[0]-It[0]-T)))/S:M=Math.max(P,Math.min(1,Math.abs(Ot[1]-It[1]-R)))/j;const x=W(S*q),L=W(j*M);Mt=C(...et(x,L));const U=kt-Mt[0],$=nt-Mt[1];this.width=x,this.height=L,this.x=U,this.y=$,this.setDims(h*x,_*L),this.fixAndSetPosition()}async addAltTextButton(){if(this.#n)return;const d=this.#n=document.createElement("button");d.className="altText";const c=await O._l10nPromise.get("editor_alt_text_button_label");d.textContent=c,d.setAttribute("aria-label",c),d.tabIndex="0",d.addEventListener("contextmenu",N.noContextMenu),d.addEventListener("pointerdown",h=>h.stopPropagation()),d.addEventListener("click",h=>{h.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),d.addEventListener("keydown",h=>{h.target===d&&h.key==="Enter"&&(h.preventDefault(),this._uiManager.editAltText(this))}),this.#T(),this.div.append(d),O.SMALL_EDITOR_SIZE||(O.SMALL_EDITOR_SIZE=Math.min(128,Math.round(d.getBoundingClientRect().width*1.4)))}async#T(){const d=this.#n;if(!d)return;if(!this.#t&&!this.#e){d.classList.remove("done"),this.#a?.remove();return}O._l10nPromise.get("editor_alt_text_edit_button_label").then(h=>{d.setAttribute("aria-label",h)});let c=this.#a;if(!c){this.#a=c=document.createElement("span"),c.className="tooltip",c.setAttribute("role","tooltip");const h=c.id=`alt-text-tooltip-${this.id}`;d.setAttribute("aria-describedby",h);const _=100;d.addEventListener("mouseenter",()=>{this.#o=setTimeout(()=>{this.#o=null,this.#a.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},_)}),d.addEventListener("mouseleave",()=>{clearTimeout(this.#o),this.#o=null,this.#a?.classList.remove("show")})}d.classList.add("done"),c.innerText=this.#e?await O._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#t,c.parentNode||d.append(c)}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#t,decorative:this.#e}}set altTextData({altText:d,decorative:c}){this.#t===d&&this.#e===c||(this.#t=d,this.#e=c,this.#T())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#l),this.div.addEventListener("focusout",this.#c);const[d,c]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*c/d).toFixed(2)}%`,this.div.style.maxHeight=`${(100*d/c).toFixed(2)}%`);const[h,_]=this.getInitialTranslation();return this.translate(h,_),(0,r.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(d){const{isMac:c}=y.FeatureTest.platform;if(d.button!==0||d.ctrlKey&&c){d.preventDefault();return}this.#i=!0,this.#C(d)}#C(d){if(!this._isDraggable)return;const c=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let h,_;c&&(h={passive:!0,capture:!0},_=p=>{const[S,j]=this.screenToPageTranslation(p.movementX,p.movementY);this._uiManager.dragSelectedEditors(S,j)},window.addEventListener("pointermove",_,h));const E=()=>{if(window.removeEventListener("pointerup",E),window.removeEventListener("blur",E),c&&window.removeEventListener("pointermove",_,h),this.#i=!1,!this._uiManager.endDragSession()){const{isMac:p}=y.FeatureTest.platform;d.ctrlKey&&!p||d.shiftKey||d.metaKey&&p?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",E),window.addEventListener("blur",E)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(d,c,h){d.changeParent(this),this.x=c,this.y=h,this.fixAndSetPosition()}getRect(d,c){const h=this.parentScale,[_,E]=this.pageDimensions,[p,S]=this.pageTranslation,j=d/h,v=c/h,P=this.x*_,W=this.y*E,G=this.width*_,C=this.height*E;switch(this.rotation){case 0:return[P+j+p,E-W-v-C+S,P+j+G+p,E-W-v+S];case 90:return[P+v+p,E-W+j+S,P+v+C+p,E-W+j+G+S];case 180:return[P-j-G+p,E-W+v+S,P-j+p,E-W+v+C+S];case 270:return[P-v-C+p,E-W-j-G+S,P-v+p,E-W-j+S];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(d,c){const[h,_,E,p]=d,S=E-h,j=p-_;switch(this.rotation){case 0:return[h,c-p,S,j];case 90:return[h,c-_,j,S];case 180:return[E,c-_,S,j];case 270:return[E,c-p,j,S];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#d=!0}disableEditMode(){this.#d=!1}isInEditMode(){return this.#d}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#l),this.div?.addEventListener("focusout",this.#c)}serialize(d=!1,c=null){(0,y.unreachable)("An editor must be serializable")}static deserialize(d,c,h){const _=new this.prototype.constructor({parent:c,id:c.getNextId(),uiManager:h});_.rotation=d.rotation;const[E,p]=_.pageDimensions,[S,j,v,P]=_.getRectInCurrentCoords(d.rect,p);return _.x=S/E,_.y=j/p,_.width=v/E,_.height=P/p,_}remove(){this.div.removeEventListener("focusin",this.#l),this.div.removeEventListener("focusout",this.#c),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#n?.remove(),this.#n=null,this.#a=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#b(),this.#s.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#s?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(d,c){}disableEditing(){this.#n&&(this.#n.hidden=!0)}enableEditing(){this.#n&&(this.#n.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#f}set isEditing(d){this.#f=d,this.parent&&(d?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(d,c){this.#r=!0;const h=d/c,{style:_}=this.div;_.aspectRatio=h,_.height="auto"}static get MIN_SIZE(){return 16}}o.AnnotationEditor=O;class Y extends O{constructor(d){super(d),this.annotationElementId=d.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.KeyboardManager=o.CommandManager=o.ColorManager=o.AnnotationEditorUIManager=void 0,o.bindEvents=N,o.opacityToHex=O;var r=g(1),y=g(6);function N(E,p,S){for(const j of S)p.addEventListener(j,E[j].bind(E))}function O(E){return Math.round(Math.min(255,Math.max(1,255*E))).toString(16).padStart(2,"0")}class Y{#t=0;getId(){return`${r.AnnotationEditorPrefix}${this.#t++}`}}class B{#t=(0,r.getUuid)();#e=0;#n=null;static get _isSVGFittingCanvas(){const p='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',j=new OffscreenCanvas(1,3).getContext("2d"),v=new Image;v.src=p;const P=v.decode().then(()=>(j.drawImage(v,0,0,1,1,0,0,1,3),new Uint32Array(j.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,r.shadow)(this,"_isSVGFittingCanvas",P)}async#a(p,S){this.#n||=new Map;let j=this.#n.get(p);if(j===null)return null;if(j?.bitmap)return j.refCounter+=1,j;try{j||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let v;if(typeof S=="string"){j.url=S;const P=await fetch(S);if(!P.ok)throw new Error(P.statusText);v=await P.blob()}else v=j.file=S;if(v.type==="image/svg+xml"){const P=B._isSVGFittingCanvas,W=new FileReader,G=new Image,C=new Promise((F,Q)=>{G.onload=()=>{j.bitmap=G,j.isSvg=!0,F()},W.onload=async()=>{const it=j.svgUrl=W.result;G.src=await P?`${it}#svgView(preserveAspectRatio(none))`:it},G.onerror=W.onerror=Q});W.readAsDataURL(v),await C}else j.bitmap=await createImageBitmap(v);j.refCounter=1}catch(v){console.error(v),j=null}return this.#n.set(p,j),j&&this.#n.set(j.id,j),j}async getFromFile(p){const{lastModified:S,name:j,size:v,type:P}=p;return this.#a(`${S}_${j}_${v}_${P}`,p)}async getFromUrl(p){return this.#a(p,p)}async getFromId(p){this.#n||=new Map;const S=this.#n.get(p);return S?S.bitmap?(S.refCounter+=1,S):S.file?this.getFromFile(S.file):this.getFromUrl(S.url):null}getSvgUrl(p){const S=this.#n.get(p);return S?.isSvg?S.svgUrl:null}deleteId(p){this.#n||=new Map;const S=this.#n.get(p);S&&(S.refCounter-=1,S.refCounter===0&&(S.bitmap=null))}isValidId(p){return p.startsWith(`image_${this.#t}_`)}}class d{#t=[];#e=!1;#n;#a=-1;constructor(p=128){this.#n=p}add({cmd:p,undo:S,mustExec:j,type:v=NaN,overwriteIfSameType:P=!1,keepUndo:W=!1}){if(j&&p(),this.#e)return;const G={cmd:p,undo:S,type:v};if(this.#a===-1){this.#t.length>0&&(this.#t.length=0),this.#a=0,this.#t.push(G);return}if(P&&this.#t[this.#a].type===v){W&&(G.undo=this.#t[this.#a].undo),this.#t[this.#a]=G;return}const C=this.#a+1;C===this.#n?this.#t.splice(0,1):(this.#a=C,C<this.#t.length&&this.#t.splice(C)),this.#t.push(G)}undo(){this.#a!==-1&&(this.#e=!0,this.#t[this.#a].undo(),this.#e=!1,this.#a-=1)}redo(){this.#a<this.#t.length-1&&(this.#a+=1,this.#e=!0,this.#t[this.#a].cmd(),this.#e=!1)}hasSomethingToUndo(){return this.#a!==-1}hasSomethingToRedo(){return this.#a<this.#t.length-1}destroy(){this.#t=null}}o.CommandManager=d;class c{constructor(p){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:S}=r.FeatureTest.platform;for(const[j,v,P={}]of p)for(const W of j){const G=W.startsWith("mac+");S&&G?(this.callbacks.set(W.slice(4),{callback:v,options:P}),this.allKeys.add(W.split("+").at(-1))):!S&&!G&&(this.callbacks.set(W,{callback:v,options:P}),this.allKeys.add(W.split("+").at(-1)))}}#t(p){p.altKey&&this.buffer.push("alt"),p.ctrlKey&&this.buffer.push("ctrl"),p.metaKey&&this.buffer.push("meta"),p.shiftKey&&this.buffer.push("shift"),this.buffer.push(p.key);const S=this.buffer.join("+");return this.buffer.length=0,S}exec(p,S){if(!this.allKeys.has(S.key))return;const j=this.callbacks.get(this.#t(S));if(!j)return;const{callback:v,options:{bubbles:P=!1,args:W=[],checker:G=null}}=j;G&&!G(p,S)||(v.bind(p,...W)(),P||(S.stopPropagation(),S.preventDefault()))}}o.KeyboardManager=c;class h{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const p=new Map([["CanvasText",null],["Canvas",null]]);return(0,y.getColorValues)(p),(0,r.shadow)(this,"_colors",p)}convert(p){const S=(0,y.getRGB)(p);if(!window.matchMedia("(forced-colors: active)").matches)return S;for(const[j,v]of this._colors)if(v.every((P,W)=>P===S[W]))return h._colorsMapping.get(j);return S}getHexCode(p){const S=this._colors.get(p);return S?r.Util.makeHexColor(...S):p}}o.ColorManager=h;class _{#t=null;#e=new Map;#n=new Map;#a=null;#o=null;#r=new d;#s=0;#l=new Set;#c=null;#i=null;#f=new Set;#d=null;#h=new Y;#p=!1;#y=!1;#g=null;#m=r.AnnotationEditorType.NONE;#u=new Set;#b=null;#E=this.blur.bind(this);#A=this.focus.bind(this);#T=this.copy.bind(this);#C=this.cut.bind(this);#N=this.paste.bind(this);#P=this.keydown.bind(this);#L=this.onEditingAction.bind(this);#x=this.onPageChanging.bind(this);#O=this.onScaleChanging.bind(this);#k=this.onRotationChanging.bind(this);#j={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#v=[0,0];#R=null;#S=null;#F=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const p=_.prototype,S=P=>{const{activeElement:W}=document;return W&&P.#S.contains(W)&&P.hasSomethingToControl()},j=this.TRANSLATE_SMALL,v=this.TRANSLATE_BIG;return(0,r.shadow)(this,"_keyboardManager",new c([[["ctrl+a","mac+meta+a"],p.selectAll],[["ctrl+z","mac+meta+z"],p.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],p.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],p.delete],[["Escape","mac+Escape"],p.unselectAll],[["ArrowLeft","mac+ArrowLeft"],p.translateSelectedEditors,{args:[-j,0],checker:S}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],p.translateSelectedEditors,{args:[-v,0],checker:S}],[["ArrowRight","mac+ArrowRight"],p.translateSelectedEditors,{args:[j,0],checker:S}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],p.translateSelectedEditors,{args:[v,0],checker:S}],[["ArrowUp","mac+ArrowUp"],p.translateSelectedEditors,{args:[0,-j],checker:S}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],p.translateSelectedEditors,{args:[0,-v],checker:S}],[["ArrowDown","mac+ArrowDown"],p.translateSelectedEditors,{args:[0,j],checker:S}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],p.translateSelectedEditors,{args:[0,v],checker:S}]]))}constructor(p,S,j,v,P,W){this.#S=p,this.#F=S,this.#a=j,this._eventBus=v,this._eventBus._on("editingaction",this.#L),this._eventBus._on("pagechanging",this.#x),this._eventBus._on("scalechanging",this.#O),this._eventBus._on("rotationchanging",this.#k),this.#o=P.annotationStorage,this.#d=P.filterFactory,this.#b=W,this.viewParameters={realScale:y.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#M(),this.#I(),this._eventBus._off("editingaction",this.#L),this._eventBus._off("pagechanging",this.#x),this._eventBus._off("scalechanging",this.#O),this._eventBus._off("rotationchanging",this.#k);for(const p of this.#n.values())p.destroy();this.#n.clear(),this.#e.clear(),this.#f.clear(),this.#t=null,this.#u.clear(),this.#r.destroy(),this.#a.destroy()}get hcmFilter(){return(0,r.shadow)(this,"hcmFilter",this.#b?this.#d.addHCMFilter(this.#b.foreground,this.#b.background):"none")}get direction(){return(0,r.shadow)(this,"direction",getComputedStyle(this.#S).direction)}editAltText(p){this.#a?.editAltText(this,p)}onPageChanging({pageNumber:p}){this.#s=p-1}focusMainContainer(){this.#S.focus()}findParent(p,S){for(const j of this.#n.values()){const{x:v,y:P,width:W,height:G}=j.div.getBoundingClientRect();if(p>=v&&p<=v+W&&S>=P&&S<=P+G)return j}return null}disableUserSelect(p=!1){this.#F.classList.toggle("noUserSelect",p)}addShouldRescale(p){this.#f.add(p)}removeShouldRescale(p){this.#f.delete(p)}onScaleChanging({scale:p}){this.commitOrRemove(),this.viewParameters.realScale=p*y.PixelsPerInch.PDF_TO_CSS_UNITS;for(const S of this.#f)S.onScaleChanging()}onRotationChanging({pagesRotation:p}){this.commitOrRemove(),this.viewParameters.rotation=p}addToAnnotationStorage(p){!p.isEmpty()&&this.#o&&!this.#o.has(p.id)&&this.#o.setValue(p.id,p)}#z(){window.addEventListener("focus",this.#A),window.addEventListener("blur",this.#E)}#I(){window.removeEventListener("focus",this.#A),window.removeEventListener("blur",this.#E)}blur(){if(!this.hasSelection)return;const{activeElement:p}=document;for(const S of this.#u)if(S.div.contains(p)){this.#g=[S,p],S._focusEventsAllowed=!1;break}}focus(){if(!this.#g)return;const[p,S]=this.#g;this.#g=null,S.addEventListener("focusin",()=>{p._focusEventsAllowed=!0},{once:!0}),S.focus()}#q(){window.addEventListener("keydown",this.#P,{capture:!0})}#M(){window.removeEventListener("keydown",this.#P,{capture:!0})}#D(){document.addEventListener("copy",this.#T),document.addEventListener("cut",this.#C),document.addEventListener("paste",this.#N)}#w(){document.removeEventListener("copy",this.#T),document.removeEventListener("cut",this.#C),document.removeEventListener("paste",this.#N)}addEditListeners(){this.#q(),this.#D()}removeEditListeners(){this.#M(),this.#w()}copy(p){if(p.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const S=[];for(const j of this.#u){const v=j.serialize(!0);v&&S.push(v)}S.length!==0&&p.clipboardData.setData("application/pdfjs",JSON.stringify(S))}cut(p){this.copy(p),this.delete()}paste(p){p.preventDefault();const{clipboardData:S}=p;for(const P of S.items)for(const W of this.#i)if(W.isHandlingMimeForPasting(P.type)){W.paste(P,this.currentLayer);return}let j=S.getData("application/pdfjs");if(!j)return;try{j=JSON.parse(j)}catch(P){(0,r.warn)(`paste: "${P.message}".`);return}if(!Array.isArray(j))return;this.unselectAll();const v=this.currentLayer;try{const P=[];for(const C of j){const F=v.deserialize(C);if(!F)return;P.push(F)}const W=()=>{for(const C of P)this.#H(C);this.#G(P)},G=()=>{for(const C of P)C.remove()};this.addCommands({cmd:W,undo:G,mustExec:!0})}catch(P){(0,r.warn)(`paste: "${P.message}".`)}}keydown(p){this.getActive()?.shouldGetKeyboardEvents()||_._keyboardManager.exec(this,p)}onEditingAction(p){["undo","redo","delete","selectAll"].includes(p.name)&&this[p.name]()}#_(p){Object.entries(p).some(([j,v])=>this.#j[j]!==v)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#j,p)})}#B(p){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:p})}setEditingState(p){p?(this.#z(),this.#q(),this.#D(),this.#_({isEditing:this.#m!==r.AnnotationEditorType.NONE,isEmpty:this.#U(),hasSomethingToUndo:this.#r.hasSomethingToUndo(),hasSomethingToRedo:this.#r.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#I(),this.#M(),this.#w(),this.#_({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(p){if(!this.#i){this.#i=p;for(const S of this.#i)this.#B(S.defaultPropertiesToUpdate)}}getId(){return this.#h.getId()}get currentLayer(){return this.#n.get(this.#s)}getLayer(p){return this.#n.get(p)}get currentPageIndex(){return this.#s}addLayer(p){this.#n.set(p.pageIndex,p),this.#p?p.enable():p.disable()}removeLayer(p){this.#n.delete(p.pageIndex)}updateMode(p,S=null){if(this.#m!==p){if(this.#m=p,p===r.AnnotationEditorType.NONE){this.setEditingState(!1),this.#K();return}this.setEditingState(!0),this.#Y(),this.unselectAll();for(const j of this.#n.values())j.updateMode(p);if(S){for(const j of this.#e.values())if(j.annotationElementId===S){this.setSelected(j),j.enterInEditMode();break}}}}updateToolbar(p){p!==this.#m&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:p})}updateParams(p,S){if(this.#i){if(p===r.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(p);return}for(const j of this.#u)j.updateParams(p,S);for(const j of this.#i)j.updateDefaultParams(p,S)}}enableWaiting(p=!1){if(this.#y!==p){this.#y=p;for(const S of this.#n.values())p?S.disableClick():S.enableClick(),S.div.classList.toggle("waiting",p)}}#Y(){if(!this.#p){this.#p=!0;for(const p of this.#n.values())p.enable()}}#K(){if(this.unselectAll(),this.#p){this.#p=!1;for(const p of this.#n.values())p.disable()}}getEditors(p){const S=[];for(const j of this.#e.values())j.pageIndex===p&&S.push(j);return S}getEditor(p){return this.#e.get(p)}addEditor(p){this.#e.set(p.id,p)}removeEditor(p){this.#e.delete(p.id),this.unselect(p),(!p.annotationElementId||!this.#l.has(p.annotationElementId))&&this.#o?.remove(p.id)}addDeletedAnnotationElement(p){this.#l.add(p.annotationElementId),p.deleted=!0}isDeletedAnnotationElement(p){return this.#l.has(p)}removeDeletedAnnotationElement(p){this.#l.delete(p.annotationElementId),p.deleted=!1}#H(p){const S=this.#n.get(p.pageIndex);S?S.addOrRebuild(p):this.addEditor(p)}setActiveEditor(p){this.#t!==p&&(this.#t=p,p&&this.#B(p.propertiesToUpdate))}toggleSelected(p){if(this.#u.has(p)){this.#u.delete(p),p.unselect(),this.#_({hasSelectedEditor:this.hasSelection});return}this.#u.add(p),p.select(),this.#B(p.propertiesToUpdate),this.#_({hasSelectedEditor:!0})}setSelected(p){for(const S of this.#u)S!==p&&S.unselect();this.#u.clear(),this.#u.add(p),p.select(),this.#B(p.propertiesToUpdate),this.#_({hasSelectedEditor:!0})}isSelected(p){return this.#u.has(p)}unselect(p){p.unselect(),this.#u.delete(p),this.#_({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#u.size!==0}undo(){this.#r.undo(),this.#_({hasSomethingToUndo:this.#r.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#U()})}redo(){this.#r.redo(),this.#_({hasSomethingToUndo:!0,hasSomethingToRedo:this.#r.hasSomethingToRedo(),isEmpty:this.#U()})}addCommands(p){this.#r.add(p),this.#_({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#U()})}#U(){if(this.#e.size===0)return!0;if(this.#e.size===1)for(const p of this.#e.values())return p.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const p=[...this.#u],S=()=>{for(const v of p)v.remove()},j=()=>{for(const v of p)this.#H(v)};this.addCommands({cmd:S,undo:j,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#G(p){this.#u.clear();for(const S of p)S.isEmpty()||(this.#u.add(S),S.select());this.#_({hasSelectedEditor:!0})}selectAll(){for(const p of this.#u)p.commit();this.#G(this.#e.values())}unselectAll(){if(this.#t){this.#t.commitOrRemove();return}if(this.hasSelection){for(const p of this.#u)p.unselect();this.#u.clear(),this.#_({hasSelectedEditor:!1})}}translateSelectedEditors(p,S,j=!1){if(j||this.commitOrRemove(),!this.hasSelection)return;this.#v[0]+=p,this.#v[1]+=S;const[v,P]=this.#v,W=[...this.#u],G=1e3;this.#R&&clearTimeout(this.#R),this.#R=setTimeout(()=>{this.#R=null,this.#v[0]=this.#v[1]=0,this.addCommands({cmd:()=>{for(const C of W)this.#e.has(C.id)&&C.translateInPage(v,P)},undo:()=>{for(const C of W)this.#e.has(C.id)&&C.translateInPage(-v,-P)},mustExec:!1})},G);for(const C of W)C.translateInPage(p,S)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#c=new Map;for(const p of this.#u)this.#c.set(p,{savedX:p.x,savedY:p.y,savedPageIndex:p.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#c)return!1;this.disableUserSelect(!1);const p=this.#c;this.#c=null;let S=!1;for(const[{x:v,y:P,pageIndex:W},G]of p)G.newX=v,G.newY=P,G.newPageIndex=W,S||=v!==G.savedX||P!==G.savedY||W!==G.savedPageIndex;if(!S)return!1;const j=(v,P,W,G)=>{if(this.#e.has(v.id)){const C=this.#n.get(G);C?v._setParentAndPosition(C,P,W):(v.pageIndex=G,v.x=P,v.y=W)}};return this.addCommands({cmd:()=>{for(const[v,{newX:P,newY:W,newPageIndex:G}]of p)j(v,P,W,G)},undo:()=>{for(const[v,{savedX:P,savedY:W,savedPageIndex:G}]of p)j(v,P,W,G)},mustExec:!0}),!0}dragSelectedEditors(p,S){if(this.#c)for(const j of this.#c.keys())j.drag(p,S)}rebuild(p){if(p.parent===null){const S=this.getLayer(p.pageIndex);S?(S.changeParent(p),S.addOrRebuild(p)):(this.addEditor(p),this.addToAnnotationStorage(p),p.rebuild())}else p.parent.addOrRebuild(p)}isActive(p){return this.#t===p}getActive(){return this.#t}getMode(){return this.#m}get imageManager(){return(0,r.shadow)(this,"imageManager",new B)}}o.AnnotationEditorUIManager=_}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.StatTimer=o.RenderingCancelledException=o.PixelsPerInch=o.PageViewport=o.PDFDateString=o.DOMStandardFontDataFactory=o.DOMSVGFactory=o.DOMFilterFactory=o.DOMCanvasFactory=o.DOMCMapReaderFactory=void 0,o.deprecated=Q,o.getColorValues=It,o.getCurrentTransform=Ot,o.getCurrentTransformInverse=Mt,o.getFilenameFromUrl=v,o.getPdfFilenameFromUrl=P,o.getRGB=gt,o.getXfaPageViewport=bt,o.isDataScheme=S,o.isPdfFile=j,o.isValidFetchUrl=G,o.loadScript=F,o.noContextMenu=C,o.setLayerDimensions=kt;var r=g(7),y=g(1);const N="http://www.w3.org/2000/svg";class O{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}o.PixelsPerInch=O;class Y extends r.BaseFilterFactory{#t;#e;#n;#a;#o;#r;#s;#l;#c;#i;#f=0;constructor({docId:q,ownerDocument:M=globalThis.document}={}){super(),this.#n=q,this.#a=M}get#d(){return this.#t||=new Map}get#h(){if(!this.#e){const q=this.#a.createElement("div"),{style:M}=q;M.visibility="hidden",M.contain="strict",M.width=M.height=0,M.position="absolute",M.top=M.left=0,M.zIndex=-1;const T=this.#a.createElementNS(N,"svg");T.setAttribute("width",0),T.setAttribute("height",0),this.#e=this.#a.createElementNS(N,"defs"),q.append(T),T.append(this.#e),this.#a.body.append(q)}return this.#e}addFilter(q){if(!q)return"none";let M=this.#d.get(q);if(M)return M;let T,R,x,L;if(q.length===1){const b=q[0],D=new Array(256);for(let I=0;I<256;I++)D[I]=b[I]/255;L=T=R=x=D.join(",")}else{const[b,D,I]=q,Z=new Array(256),K=new Array(256),at=new Array(256);for(let rt=0;rt<256;rt++)Z[rt]=b[rt]/255,K[rt]=D[rt]/255,at[rt]=I[rt]/255;T=Z.join(","),R=K.join(","),x=at.join(","),L=`${T}${R}${x}`}if(M=this.#d.get(L),M)return this.#d.set(q,M),M;const U=`g_${this.#n}_transfer_map_${this.#f++}`,$=`url(#${U})`;this.#d.set(q,$),this.#d.set(L,$);const V=this.#y(U);return this.#m(T,R,x,V),$}addHCMFilter(q,M){const T=`${q}-${M}`;if(this.#r===T)return this.#s;if(this.#r=T,this.#s="none",this.#o?.remove(),!q||!M)return this.#s;const R=this.#u(q);q=y.Util.makeHexColor(...R);const x=this.#u(M);if(M=y.Util.makeHexColor(...x),this.#h.style.color="",q==="#000000"&&M==="#ffffff"||q===M)return this.#s;const L=new Array(256);for(let D=0;D<=255;D++){const I=D/255;L[D]=I<=.03928?I/12.92:((I+.055)/1.055)**2.4}const U=L.join(","),$=`g_${this.#n}_hcm_filter`,V=this.#l=this.#y($);this.#m(U,U,U,V),this.#p(V);const b=(D,I)=>{const Z=R[D]/255,K=x[D]/255,at=new Array(I+1);for(let rt=0;rt<=I;rt++)at[rt]=Z+rt/I*(K-Z);return at.join(",")};return this.#m(b(0,5),b(1,5),b(2,5),V),this.#s=`url(#${$})`,this.#s}addHighlightHCMFilter(q,M,T,R){const x=`${q}-${M}-${T}-${R}`;if(this.#c===x)return this.#i;if(this.#c=x,this.#i="none",this.#l?.remove(),!q||!M)return this.#i;const[L,U]=[q,M].map(this.#u.bind(this));let $=Math.round(.2126*L[0]+.7152*L[1]+.0722*L[2]),V=Math.round(.2126*U[0]+.7152*U[1]+.0722*U[2]),[b,D]=[T,R].map(this.#u.bind(this));V<$&&([$,V,b,D]=[V,$,D,b]),this.#h.style.color="";const I=(at,rt,Rt)=>{const Xt=new Array(256),wt=(V-$)/Rt,Dt=at/255,Ft=(rt-at)/(255*Rt);let Lt=0;for(let Ut=0;Ut<=Rt;Ut++){const Qt=Math.round($+Ut*wt),$t=Dt+Ut*Ft;for(let ie=Lt;ie<=Qt;ie++)Xt[ie]=$t;Lt=Qt+1}for(let Ut=Lt;Ut<256;Ut++)Xt[Ut]=Xt[Lt-1];return Xt.join(",")},Z=`g_${this.#n}_hcm_highlight_filter`,K=this.#l=this.#y(Z);return this.#p(K),this.#m(I(b[0],D[0],5),I(b[1],D[1],5),I(b[2],D[2],5),K),this.#i=`url(#${Z})`,this.#i}destroy(q=!1){q&&(this.#s||this.#i)||(this.#e&&(this.#e.parentNode.parentNode.remove(),this.#e=null),this.#t&&(this.#t.clear(),this.#t=null),this.#f=0)}#p(q){const M=this.#a.createElementNS(N,"feColorMatrix");M.setAttribute("type","matrix"),M.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),q.append(M)}#y(q){const M=this.#a.createElementNS(N,"filter");return M.setAttribute("color-interpolation-filters","sRGB"),M.setAttribute("id",q),this.#h.append(M),M}#g(q,M,T){const R=this.#a.createElementNS(N,M);R.setAttribute("type","discrete"),R.setAttribute("tableValues",T),q.append(R)}#m(q,M,T,R){const x=this.#a.createElementNS(N,"feComponentTransfer");R.append(x),this.#g(x,"feFuncR",q),this.#g(x,"feFuncG",M),this.#g(x,"feFuncB",T)}#u(q){return this.#h.style.color=q,gt(getComputedStyle(this.#h).getPropertyValue("color"))}}o.DOMFilterFactory=Y;class B extends r.BaseCanvasFactory{constructor({ownerDocument:q=globalThis.document}={}){super(),this._document=q}_createCanvas(q,M){const T=this._document.createElement("canvas");return T.width=q,T.height=M,T}}o.DOMCanvasFactory=B;async function d(nt,q=!1){if(G(nt,document.baseURI)){const M=await fetch(nt);if(!M.ok)throw new Error(M.statusText);return q?new Uint8Array(await M.arrayBuffer()):(0,y.stringToBytes)(await M.text())}return new Promise((M,T)=>{const R=new XMLHttpRequest;R.open("GET",nt,!0),q&&(R.responseType="arraybuffer"),R.onreadystatechange=()=>{if(R.readyState===XMLHttpRequest.DONE){if(R.status===200||R.status===0){let x;if(q&&R.response?x=new Uint8Array(R.response):!q&&R.responseText&&(x=(0,y.stringToBytes)(R.responseText)),x){M(x);return}}T(new Error(R.statusText))}},R.send(null)})}class c extends r.BaseCMapReaderFactory{_fetchData(q,M){return d(q,this.isCompressed).then(T=>({cMapData:T,compressionType:M}))}}o.DOMCMapReaderFactory=c;class h extends r.BaseStandardFontDataFactory{_fetchData(q){return d(q,!0)}}o.DOMStandardFontDataFactory=h;class _ extends r.BaseSVGFactory{_createSVG(q){return document.createElementNS(N,q)}}o.DOMSVGFactory=_;class E{constructor({viewBox:q,scale:M,rotation:T,offsetX:R=0,offsetY:x=0,dontFlip:L=!1}){this.viewBox=q,this.scale=M,this.rotation=T,this.offsetX=R,this.offsetY=x;const U=(q[2]+q[0])/2,$=(q[3]+q[1])/2;let V,b,D,I;switch(T%=360,T<0&&(T+=360),T){case 180:V=-1,b=0,D=0,I=1;break;case 90:V=0,b=1,D=1,I=0;break;case 270:V=0,b=-1,D=-1,I=0;break;case 0:V=1,b=0,D=0,I=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}L&&(D=-D,I=-I);let Z,K,at,rt;V===0?(Z=Math.abs($-q[1])*M+R,K=Math.abs(U-q[0])*M+x,at=(q[3]-q[1])*M,rt=(q[2]-q[0])*M):(Z=Math.abs(U-q[0])*M+R,K=Math.abs($-q[1])*M+x,at=(q[2]-q[0])*M,rt=(q[3]-q[1])*M),this.transform=[V*M,b*M,D*M,I*M,Z-V*M*U-D*M*$,K-b*M*U-I*M*$],this.width=at,this.height=rt}get rawDims(){const{viewBox:q}=this;return(0,y.shadow)(this,"rawDims",{pageWidth:q[2]-q[0],pageHeight:q[3]-q[1],pageX:q[0],pageY:q[1]})}clone({scale:q=this.scale,rotation:M=this.rotation,offsetX:T=this.offsetX,offsetY:R=this.offsetY,dontFlip:x=!1}={}){return new E({viewBox:this.viewBox.slice(),scale:q,rotation:M,offsetX:T,offsetY:R,dontFlip:x})}convertToViewportPoint(q,M){return y.Util.applyTransform([q,M],this.transform)}convertToViewportRectangle(q){const M=y.Util.applyTransform([q[0],q[1]],this.transform),T=y.Util.applyTransform([q[2],q[3]],this.transform);return[M[0],M[1],T[0],T[1]]}convertToPdfPoint(q,M){return y.Util.applyInverseTransform([q,M],this.transform)}}o.PageViewport=E;class p extends y.BaseException{constructor(q,M=0){super(q,"RenderingCancelledException"),this.extraDelay=M}}o.RenderingCancelledException=p;function S(nt){const q=nt.length;let M=0;for(;M<q&&nt[M].trim()==="";)M++;return nt.substring(M,M+5).toLowerCase()==="data:"}function j(nt){return typeof nt=="string"&&/\.pdf$/i.test(nt)}function v(nt,q=!1){return q||([nt]=nt.split(/[#?]/,1)),nt.substring(nt.lastIndexOf("/")+1)}function P(nt,q="document.pdf"){if(typeof nt!="string")return q;if(S(nt))return(0,y.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),q;const M=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,T=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,R=M.exec(nt);let x=T.exec(R[1])||T.exec(R[2])||T.exec(R[3]);if(x&&(x=x[0],x.includes("%")))try{x=T.exec(decodeURIComponent(x))[0]}catch{}return x||q}class W{started=Object.create(null);times=[];time(q){q in this.started&&(0,y.warn)(`Timer is already running for ${q}`),this.started[q]=Date.now()}timeEnd(q){q in this.started||(0,y.warn)(`Timer has not been started for ${q}`),this.times.push({name:q,start:this.started[q],end:Date.now()}),delete this.started[q]}toString(){const q=[];let M=0;for(const{name:T}of this.times)M=Math.max(T.length,M);for(const{name:T,start:R,end:x}of this.times)q.push(`${T.padEnd(M)} ${x-R}ms
`);return q.join("")}}o.StatTimer=W;function G(nt,q){try{const{protocol:M}=q?new URL(nt,q):new URL(nt);return M==="http:"||M==="https:"}catch{return!1}}function C(nt){nt.preventDefault()}function F(nt,q=!1){return new Promise((M,T)=>{const R=document.createElement("script");R.src=nt,R.onload=function(x){q&&R.remove(),M(x)},R.onerror=function(){T(new Error(`Cannot load script at: ${R.src}`))},(document.head||document.documentElement).append(R)})}function Q(nt){console.log("Deprecated API usage: "+nt)}let it;class et{static toDateObject(q){if(!q||typeof q!="string")return null;it||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const M=it.exec(q);if(!M)return null;const T=parseInt(M[1],10);let R=parseInt(M[2],10);R=R>=1&&R<=12?R-1:0;let x=parseInt(M[3],10);x=x>=1&&x<=31?x:1;let L=parseInt(M[4],10);L=L>=0&&L<=23?L:0;let U=parseInt(M[5],10);U=U>=0&&U<=59?U:0;let $=parseInt(M[6],10);$=$>=0&&$<=59?$:0;const V=M[7]||"Z";let b=parseInt(M[8],10);b=b>=0&&b<=23?b:0;let D=parseInt(M[9],10)||0;return D=D>=0&&D<=59?D:0,V==="-"?(L+=b,U+=D):V==="+"&&(L-=b,U-=D),new Date(Date.UTC(T,R,x,L,U,$))}}o.PDFDateString=et;function bt(nt,{scale:q=1,rotation:M=0}){const{width:T,height:R}=nt.attributes.style,x=[0,0,parseInt(T),parseInt(R)];return new E({viewBox:x,scale:q,rotation:M})}function gt(nt){if(nt.startsWith("#")){const q=parseInt(nt.slice(1),16);return[(q&16711680)>>16,(q&65280)>>8,q&255]}return nt.startsWith("rgb(")?nt.slice(4,-1).split(",").map(q=>parseInt(q)):nt.startsWith("rgba(")?nt.slice(5,-1).split(",").map(q=>parseInt(q)).slice(0,3):((0,y.warn)(`Not a valid color format: "${nt}"`),[0,0,0])}function It(nt){const q=document.createElement("span");q.style.visibility="hidden",document.body.append(q);for(const M of nt.keys()){q.style.color=M;const T=window.getComputedStyle(q).color;nt.set(M,gt(T))}q.remove()}function Ot(nt){const{a:q,b:M,c:T,d:R,e:x,f:L}=nt.getTransform();return[q,M,T,R,x,L]}function Mt(nt){const{a:q,b:M,c:T,d:R,e:x,f:L}=nt.getTransform().invertSelf();return[q,M,T,R,x,L]}function kt(nt,q,M=!1,T=!0){if(q instanceof E){const{pageWidth:R,pageHeight:x}=q.rawDims,{style:L}=nt,U=y.FeatureTest.isCSSRoundSupported,$=`var(--scale-factor) * ${R}px`,V=`var(--scale-factor) * ${x}px`,b=U?`round(${$}, 1px)`:`calc(${$})`,D=U?`round(${V}, 1px)`:`calc(${V})`;!M||q.rotation%180===0?(L.width=b,L.height=D):(L.width=D,L.height=b)}T&&nt.setAttribute("data-main-rotation",q.rotation)}}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BaseStandardFontDataFactory=o.BaseSVGFactory=o.BaseFilterFactory=o.BaseCanvasFactory=o.BaseCMapReaderFactory=void 0;var r=g(1);class y{constructor(){this.constructor===y&&(0,r.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(c){return"none"}addHCMFilter(c,h){return"none"}addHighlightHCMFilter(c,h,_,E){return"none"}destroy(c=!1){}}o.BaseFilterFactory=y;class N{constructor(){this.constructor===N&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(c,h){if(c<=0||h<=0)throw new Error("Invalid canvas size");const _=this._createCanvas(c,h);return{canvas:_,context:_.getContext("2d")}}reset(c,h,_){if(!c.canvas)throw new Error("Canvas is not specified");if(h<=0||_<=0)throw new Error("Invalid canvas size");c.canvas.width=h,c.canvas.height=_}destroy(c){if(!c.canvas)throw new Error("Canvas is not specified");c.canvas.width=0,c.canvas.height=0,c.canvas=null,c.context=null}_createCanvas(c,h){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}o.BaseCanvasFactory=N;class O{constructor({baseUrl:c=null,isCompressed:h=!0}){this.constructor===O&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=c,this.isCompressed=h}async fetch({name:c}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!c)throw new Error("CMap name must be specified.");const h=this.baseUrl+c+(this.isCompressed?".bcmap":""),_=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE;return this._fetchData(h,_).catch(E=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${h}`)})}_fetchData(c,h){(0,r.unreachable)("Abstract method `_fetchData` called.")}}o.BaseCMapReaderFactory=O;class Y{constructor({baseUrl:c=null}){this.constructor===Y&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=c}async fetch({filename:c}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!c)throw new Error("Font filename must be specified.");const h=`${this.baseUrl}${c}`;return this._fetchData(h).catch(_=>{throw new Error(`Unable to load font data at: ${h}`)})}_fetchData(c){(0,r.unreachable)("Abstract method `_fetchData` called.")}}o.BaseStandardFontDataFactory=Y;class B{constructor(){this.constructor===B&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(c,h,_=!1){if(c<=0||h<=0)throw new Error("Invalid SVG dimensions");const E=this._createSVG("svg:svg");return E.setAttribute("version","1.1"),_||(E.setAttribute("width",`${c}px`),E.setAttribute("height",`${h}px`)),E.setAttribute("preserveAspectRatio","none"),E.setAttribute("viewBox",`0 0 ${c} ${h}`),E}createElement(c){if(typeof c!="string")throw new Error("Invalid SVG element type");return this._createSVG(c)}_createSVG(c){(0,r.unreachable)("Abstract method `_createSVG` called.")}}o.BaseSVGFactory=B}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MurmurHash3_64=void 0;var r=g(1);const y=3285377520,N=4294901760,O=65535;class Y{constructor(d){this.h1=d?d&4294967295:y,this.h2=d?d&4294967295:y}update(d){let c,h;if(typeof d=="string"){c=new Uint8Array(d.length*2),h=0;for(let Q=0,it=d.length;Q<it;Q++){const et=d.charCodeAt(Q);et<=255?c[h++]=et:(c[h++]=et>>>8,c[h++]=et&255)}}else if((0,r.isArrayBuffer)(d))c=d.slice(),h=c.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const _=h>>2,E=h-_*4,p=new Uint32Array(c.buffer,0,_);let S=0,j=0,v=this.h1,P=this.h2;const W=3432918353,G=461845907,C=W&O,F=G&O;for(let Q=0;Q<_;Q++)Q&1?(S=p[Q],S=S*W&N|S*C&O,S=S<<15|S>>>17,S=S*G&N|S*F&O,v^=S,v=v<<13|v>>>19,v=v*5+3864292196):(j=p[Q],j=j*W&N|j*C&O,j=j<<15|j>>>17,j=j*G&N|j*F&O,P^=j,P=P<<13|P>>>19,P=P*5+3864292196);switch(S=0,E){case 3:S^=c[_*4+2]<<16;case 2:S^=c[_*4+1]<<8;case 1:S^=c[_*4],S=S*W&N|S*C&O,S=S<<15|S>>>17,S=S*G&N|S*F&O,_&1?v^=S:P^=S}this.h1=v,this.h2=P}hexdigest(){let d=this.h1,c=this.h2;return d^=c>>>1,d=d*3981806797&N|d*36045&O,c=c*4283543511&N|((c<<16|d>>>16)*2950163797&N)>>>16,d^=c>>>1,d=d*444984403&N|d*60499&O,c=c*3301882366&N|((c<<16|d>>>16)*3120437893&N)>>>16,d^=c>>>1,(d>>>0).toString(16).padStart(8,"0")+(c>>>0).toString(16).padStart(8,"0")}}o.MurmurHash3_64=Y}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FontLoader=o.FontFaceObject=void 0;var r=g(1);class y{#t=new Set;constructor({ownerDocument:Y=globalThis.document,styleElement:B=null}){this._document=Y,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(Y){this.nativeFontFaces.add(Y),this._document.fonts.add(Y)}removeNativeFontFace(Y){this.nativeFontFaces.delete(Y),this._document.fonts.delete(Y)}insertRule(Y){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const B=this.styleElement.sheet;B.insertRule(Y,B.cssRules.length)}clear(){for(const Y of this.nativeFontFaces)this._document.fonts.delete(Y);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(Y){if(!(!Y||this.#t.has(Y.loadedName))){if((0,r.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:B,src:d,style:c}=Y,h=new FontFace(B,d,c);this.addNativeFontFace(h);try{await h.load(),this.#t.add(B)}catch{(0,r.warn)(`Cannot load system font: ${Y.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(h)}return}(0,r.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(Y){if(Y.attached||Y.missingFile&&!Y.systemFontInfo)return;if(Y.attached=!0,Y.systemFontInfo){await this.loadSystemFont(Y.systemFontInfo);return}if(this.isFontLoadingAPISupported){const d=Y.createNativeFontFace();if(d){this.addNativeFontFace(d);try{await d.loaded}catch(c){throw(0,r.warn)(`Failed to load font '${d.family}': '${c}'.`),Y.disableFontFace=!0,c}}return}const B=Y.createFontFaceRule();if(B){if(this.insertRule(B),this.isSyncFontLoadingSupported)return;await new Promise(d=>{const c=this._queueLoadingCallback(d);this._prepareFontLoadEvent(Y,c)})}}get isFontLoadingAPISupported(){const Y=!!this._document?.fonts;return(0,r.shadow)(this,"isFontLoadingAPISupported",Y)}get isSyncFontLoadingSupported(){let Y=!1;return(r.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(Y=!0),(0,r.shadow)(this,"isSyncFontLoadingSupported",Y)}_queueLoadingCallback(Y){function B(){for((0,r.assert)(!c.done,"completeRequest() cannot be called twice."),c.done=!0;d.length>0&&d[0].done;){const h=d.shift();setTimeout(h.callback,0)}}const{loadingRequests:d}=this,c={done:!1,complete:B,callback:Y};return d.push(c),c}get _loadTestFont(){const Y=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,r.shadow)(this,"_loadTestFont",Y)}_prepareFontLoadEvent(Y,B){function d(bt,gt){return bt.charCodeAt(gt)<<24|bt.charCodeAt(gt+1)<<16|bt.charCodeAt(gt+2)<<8|bt.charCodeAt(gt+3)&255}function c(bt,gt,It,Ot){const Mt=bt.substring(0,gt),kt=bt.substring(gt+It);return Mt+Ot+kt}let h,_;const E=this._document.createElement("canvas");E.width=1,E.height=1;const p=E.getContext("2d");let S=0;function j(bt,gt){if(++S>30){(0,r.warn)("Load test font never loaded."),gt();return}if(p.font="30px "+bt,p.fillText(".",0,20),p.getImageData(0,0,1,1).data[3]>0){gt();return}setTimeout(j.bind(null,bt,gt))}const v=`lt${Date.now()}${this.loadTestFontId++}`;let P=this._loadTestFont;P=c(P,976,v.length,v);const G=16,C=1482184792;let F=d(P,G);for(h=0,_=v.length-3;h<_;h+=4)F=F-C+d(v,h)|0;h<v.length&&(F=F-C+d(v+"XXX",h)|0),P=c(P,G,4,(0,r.string32)(F));const Q=`url(data:font/opentype;base64,${btoa(P)});`,it=`@font-face {font-family:"${v}";src:${Q}}`;this.insertRule(it);const et=this._document.createElement("div");et.style.visibility="hidden",et.style.width=et.style.height="10px",et.style.position="absolute",et.style.top=et.style.left="0px";for(const bt of[Y.loadedName,v]){const gt=this._document.createElement("span");gt.textContent="Hi",gt.style.fontFamily=bt,et.append(gt)}this._document.body.append(et),j(v,()=>{et.remove(),B.complete()})}}o.FontLoader=y;class N{constructor(Y,{isEvalSupported:B=!0,disableFontFace:d=!1,ignoreErrors:c=!1,inspectFont:h=null}){this.compiledGlyphs=Object.create(null);for(const _ in Y)this[_]=Y[_];this.isEvalSupported=B!==!1,this.disableFontFace=d===!0,this.ignoreErrors=c===!0,this._inspectFont=h}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let Y;if(!this.cssFontInfo)Y=new FontFace(this.loadedName,this.data,{});else{const B={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(B.style=`oblique ${this.cssFontInfo.italicAngle}deg`),Y=new FontFace(this.cssFontInfo.fontFamily,this.data,B)}return this._inspectFont?.(this),Y}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const Y=(0,r.bytesToString)(this.data),B=`url(data:${this.mimetype};base64,${btoa(Y)});`;let d;if(!this.cssFontInfo)d=`@font-face {font-family:"${this.loadedName}";src:${B}}`;else{let c=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(c+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),d=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${c}src:${B}}`}return this._inspectFont?.(this,B),d}getPathGenerator(Y,B){if(this.compiledGlyphs[B]!==void 0)return this.compiledGlyphs[B];let d;try{d=Y.get(this.loadedName+"_path_"+B)}catch(c){if(!this.ignoreErrors)throw c;return(0,r.warn)(`getPathGenerator - ignoring character: "${c}".`),this.compiledGlyphs[B]=function(h,_){}}if(this.isEvalSupported&&r.FeatureTest.isEvalSupported){const c=[];for(const h of d){const _=h.args!==void 0?h.args.join(","):"";c.push("c.",h.cmd,"(",_,`);
`)}return this.compiledGlyphs[B]=new Function("c","size",c.join(""))}return this.compiledGlyphs[B]=function(c,h){for(const _ of d)_.cmd==="scale"&&(_.args=[h,-h]),c[_.cmd].apply(c,_.args)}}}o.FontFaceObject=N}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NodeStandardFontDataFactory=o.NodeFilterFactory=o.NodeCanvasFactory=o.NodeCMapReaderFactory=void 0;var r=g(7);g(1);const y=function(d){return new Promise((c,h)=>{require$$5.readFile(d,(E,p)=>{if(E||!p){h(new Error(E));return}c(new Uint8Array(p))})})};class N extends r.BaseFilterFactory{}o.NodeFilterFactory=N;class O extends r.BaseCanvasFactory{_createCanvas(c,h){return require$$5.createCanvas(c,h)}}o.NodeCanvasFactory=O;class Y extends r.BaseCMapReaderFactory{_fetchData(c,h){return y(c).then(_=>({cMapData:_,compressionType:h}))}}o.NodeCMapReaderFactory=Y;class B extends r.BaseStandardFontDataFactory{_fetchData(c){return y(c)}}o.NodeStandardFontDataFactory=B}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CanvasGraphics=void 0;var r=g(1),y=g(6),N=g(12),O=g(13);const Y=16,B=100,d=4096,c=15,h=10,_=1e3,E=16;function p(M,T){if(M._removeMirroring)throw new Error("Context is already forwarding operations.");M.__originalSave=M.save,M.__originalRestore=M.restore,M.__originalRotate=M.rotate,M.__originalScale=M.scale,M.__originalTranslate=M.translate,M.__originalTransform=M.transform,M.__originalSetTransform=M.setTransform,M.__originalResetTransform=M.resetTransform,M.__originalClip=M.clip,M.__originalMoveTo=M.moveTo,M.__originalLineTo=M.lineTo,M.__originalBezierCurveTo=M.bezierCurveTo,M.__originalRect=M.rect,M.__originalClosePath=M.closePath,M.__originalBeginPath=M.beginPath,M._removeMirroring=()=>{M.save=M.__originalSave,M.restore=M.__originalRestore,M.rotate=M.__originalRotate,M.scale=M.__originalScale,M.translate=M.__originalTranslate,M.transform=M.__originalTransform,M.setTransform=M.__originalSetTransform,M.resetTransform=M.__originalResetTransform,M.clip=M.__originalClip,M.moveTo=M.__originalMoveTo,M.lineTo=M.__originalLineTo,M.bezierCurveTo=M.__originalBezierCurveTo,M.rect=M.__originalRect,M.closePath=M.__originalClosePath,M.beginPath=M.__originalBeginPath,delete M._removeMirroring},M.save=function(){T.save(),this.__originalSave()},M.restore=function(){T.restore(),this.__originalRestore()},M.translate=function(x,L){T.translate(x,L),this.__originalTranslate(x,L)},M.scale=function(x,L){T.scale(x,L),this.__originalScale(x,L)},M.transform=function(x,L,U,$,V,b){T.transform(x,L,U,$,V,b),this.__originalTransform(x,L,U,$,V,b)},M.setTransform=function(x,L,U,$,V,b){T.setTransform(x,L,U,$,V,b),this.__originalSetTransform(x,L,U,$,V,b)},M.resetTransform=function(){T.resetTransform(),this.__originalResetTransform()},M.rotate=function(x){T.rotate(x),this.__originalRotate(x)},M.clip=function(x){T.clip(x),this.__originalClip(x)},M.moveTo=function(R,x){T.moveTo(R,x),this.__originalMoveTo(R,x)},M.lineTo=function(R,x){T.lineTo(R,x),this.__originalLineTo(R,x)},M.bezierCurveTo=function(R,x,L,U,$,V){T.bezierCurveTo(R,x,L,U,$,V),this.__originalBezierCurveTo(R,x,L,U,$,V)},M.rect=function(R,x,L,U){T.rect(R,x,L,U),this.__originalRect(R,x,L,U)},M.closePath=function(){T.closePath(),this.__originalClosePath()},M.beginPath=function(){T.beginPath(),this.__originalBeginPath()}}class S{constructor(T){this.canvasFactory=T,this.cache=Object.create(null)}getCanvas(T,R,x){let L;return this.cache[T]!==void 0?(L=this.cache[T],this.canvasFactory.reset(L,R,x)):(L=this.canvasFactory.create(R,x),this.cache[T]=L),L}delete(T){delete this.cache[T]}clear(){for(const T in this.cache){const R=this.cache[T];this.canvasFactory.destroy(R),delete this.cache[T]}}}function j(M,T,R,x,L,U,$,V,b,D){const[I,Z,K,at,rt,Rt]=(0,y.getCurrentTransform)(M);if(Z===0&&K===0){const Dt=$*I+rt,Ft=Math.round(Dt),Lt=V*at+Rt,Ut=Math.round(Lt),Qt=($+b)*I+rt,$t=Math.abs(Math.round(Qt)-Ft)||1,ie=(V+D)*at+Rt,le=Math.abs(Math.round(ie)-Ut)||1;return M.setTransform(Math.sign(I),0,0,Math.sign(at),Ft,Ut),M.drawImage(T,R,x,L,U,0,0,$t,le),M.setTransform(I,Z,K,at,rt,Rt),[$t,le]}if(I===0&&at===0){const Dt=V*K+rt,Ft=Math.round(Dt),Lt=$*Z+Rt,Ut=Math.round(Lt),Qt=(V+D)*K+rt,$t=Math.abs(Math.round(Qt)-Ft)||1,ie=($+b)*Z+Rt,le=Math.abs(Math.round(ie)-Ut)||1;return M.setTransform(0,Math.sign(Z),Math.sign(K),0,Ft,Ut),M.drawImage(T,R,x,L,U,0,0,le,$t),M.setTransform(I,Z,K,at,rt,Rt),[le,$t]}M.drawImage(T,R,x,L,U,$,V,b,D);const Xt=Math.hypot(I,Z),wt=Math.hypot(K,at);return[Xt*b,wt*D]}function v(M){const{width:T,height:R}=M;if(T>_||R>_)return null;const x=1e3,L=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),U=T+1;let $=new Uint8Array(U*(R+1)),V,b,D;const I=T+7&-8;let Z=new Uint8Array(I*R),K=0;for(const wt of M.data){let Dt=128;for(;Dt>0;)Z[K++]=wt&Dt?0:255,Dt>>=1}let at=0;for(K=0,Z[K]!==0&&($[0]=1,++at),b=1;b<T;b++)Z[K]!==Z[K+1]&&($[b]=Z[K]?2:1,++at),K++;for(Z[K]!==0&&($[b]=2,++at),V=1;V<R;V++){K=V*I,D=V*U,Z[K-I]!==Z[K]&&($[D]=Z[K]?1:8,++at);let wt=(Z[K]?4:0)+(Z[K-I]?8:0);for(b=1;b<T;b++)wt=(wt>>2)+(Z[K+1]?4:0)+(Z[K-I+1]?8:0),L[wt]&&($[D+b]=L[wt],++at),K++;if(Z[K-I]!==Z[K]&&($[D+b]=Z[K]?2:4,++at),at>x)return null}for(K=I*(R-1),D=V*U,Z[K]!==0&&($[D]=8,++at),b=1;b<T;b++)Z[K]!==Z[K+1]&&($[D+b]=Z[K]?4:8,++at),K++;if(Z[K]!==0&&($[D+b]=4,++at),at>x)return null;const rt=new Int32Array([0,U,-1,0,-U,0,0,0,1]),Rt=new Path2D;for(V=0;at&&V<=R;V++){let wt=V*U;const Dt=wt+T;for(;wt<Dt&&!$[wt];)wt++;if(wt===Dt)continue;Rt.moveTo(wt%U,V);const Ft=wt;let Lt=$[wt];do{const Ut=rt[Lt];do wt+=Ut;while(!$[wt]);const Qt=$[wt];Qt!==5&&Qt!==10?(Lt=Qt,$[wt]=0):(Lt=Qt&51*Lt>>4,$[wt]&=Lt>>2|Lt<<2),Rt.lineTo(wt%U,wt/U|0),$[wt]||--at}while(Ft!==wt);--V}return Z=null,$=null,function(wt){wt.save(),wt.scale(1/T,-1/R),wt.translate(0,-R),wt.fill(Rt),wt.beginPath(),wt.restore()}}class P{constructor(T,R){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,T,R])}clone(){const T=Object.create(this);return T.clipBox=this.clipBox.slice(),T}setCurrentPoint(T,R){this.x=T,this.y=R}updatePathMinMax(T,R,x){[R,x]=r.Util.applyTransform([R,x],T),this.minX=Math.min(this.minX,R),this.minY=Math.min(this.minY,x),this.maxX=Math.max(this.maxX,R),this.maxY=Math.max(this.maxY,x)}updateRectMinMax(T,R){const x=r.Util.applyTransform(R,T),L=r.Util.applyTransform(R.slice(2),T);this.minX=Math.min(this.minX,x[0],L[0]),this.minY=Math.min(this.minY,x[1],L[1]),this.maxX=Math.max(this.maxX,x[0],L[0]),this.maxY=Math.max(this.maxY,x[1],L[1])}updateScalingPathMinMax(T,R){r.Util.scaleMinMax(T,R),this.minX=Math.min(this.minX,R[0]),this.maxX=Math.max(this.maxX,R[1]),this.minY=Math.min(this.minY,R[2]),this.maxY=Math.max(this.maxY,R[3])}updateCurvePathMinMax(T,R,x,L,U,$,V,b,D,I){const Z=r.Util.bezierBoundingBox(R,x,L,U,$,V,b,D);if(I){I[0]=Math.min(I[0],Z[0],Z[2]),I[1]=Math.max(I[1],Z[0],Z[2]),I[2]=Math.min(I[2],Z[1],Z[3]),I[3]=Math.max(I[3],Z[1],Z[3]);return}this.updateRectMinMax(T,Z)}getPathBoundingBox(T=N.PathType.FILL,R=null){const x=[this.minX,this.minY,this.maxX,this.maxY];if(T===N.PathType.STROKE){R||(0,r.unreachable)("Stroke bounding box must include transform.");const L=r.Util.singularValueDecompose2dScale(R),U=L[0]*this.lineWidth/2,$=L[1]*this.lineWidth/2;x[0]-=U,x[1]-=$,x[2]+=U,x[3]+=$}return x}updateClipFromPath(){const T=r.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(T||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(T){this.clipBox=T,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(T=N.PathType.FILL,R=null){return r.Util.intersect(this.clipBox,this.getPathBoundingBox(T,R))}}function W(M,T){if(typeof ImageData<"u"&&T instanceof ImageData){M.putImageData(T,0,0);return}const R=T.height,x=T.width,L=R%E,U=(R-L)/E,$=L===0?U:U+1,V=M.createImageData(x,E);let b=0,D;const I=T.data,Z=V.data;let K,at,rt,Rt;if(T.kind===r.ImageKind.GRAYSCALE_1BPP){const Xt=I.byteLength,wt=new Uint32Array(Z.buffer,0,Z.byteLength>>2),Dt=wt.length,Ft=x+7>>3,Lt=4294967295,Ut=r.FeatureTest.isLittleEndian?4278190080:255;for(K=0;K<$;K++){for(rt=K<U?E:L,D=0,at=0;at<rt;at++){const Qt=Xt-b;let $t=0;const ie=Qt>Ft?x:Qt*8-7,le=ie&-8;let oe=0,_e=0;for(;$t<le;$t+=8)_e=I[b++],wt[D++]=_e&128?Lt:Ut,wt[D++]=_e&64?Lt:Ut,wt[D++]=_e&32?Lt:Ut,wt[D++]=_e&16?Lt:Ut,wt[D++]=_e&8?Lt:Ut,wt[D++]=_e&4?Lt:Ut,wt[D++]=_e&2?Lt:Ut,wt[D++]=_e&1?Lt:Ut;for(;$t<ie;$t++)oe===0&&(_e=I[b++],oe=128),wt[D++]=_e&oe?Lt:Ut,oe>>=1}for(;D<Dt;)wt[D++]=0;M.putImageData(V,0,K*E)}}else if(T.kind===r.ImageKind.RGBA_32BPP){for(at=0,Rt=x*E*4,K=0;K<U;K++)Z.set(I.subarray(b,b+Rt)),b+=Rt,M.putImageData(V,0,at),at+=E;K<$&&(Rt=x*L*4,Z.set(I.subarray(b,b+Rt)),M.putImageData(V,0,at))}else if(T.kind===r.ImageKind.RGB_24BPP)for(rt=E,Rt=x*rt,K=0;K<$;K++){for(K>=U&&(rt=L,Rt=x*rt),D=0,at=Rt;at--;)Z[D++]=I[b++],Z[D++]=I[b++],Z[D++]=I[b++],Z[D++]=255;M.putImageData(V,0,K*E)}else throw new Error(`bad image kind: ${T.kind}`)}function G(M,T){if(T.bitmap){M.drawImage(T.bitmap,0,0);return}const R=T.height,x=T.width,L=R%E,U=(R-L)/E,$=L===0?U:U+1,V=M.createImageData(x,E);let b=0;const D=T.data,I=V.data;for(let Z=0;Z<$;Z++){const K=Z<U?E:L;({srcPos:b}=(0,O.convertBlackAndWhiteToRGBA)({src:D,srcPos:b,dest:I,width:x,height:K,nonBlackColor:0})),M.putImageData(V,0,Z*E)}}function C(M,T){const R=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const x of R)M[x]!==void 0&&(T[x]=M[x]);M.setLineDash!==void 0&&(T.setLineDash(M.getLineDash()),T.lineDashOffset=M.lineDashOffset)}function F(M){if(M.strokeStyle=M.fillStyle="#000000",M.fillRule="nonzero",M.globalAlpha=1,M.lineWidth=1,M.lineCap="butt",M.lineJoin="miter",M.miterLimit=10,M.globalCompositeOperation="source-over",M.font="10px sans-serif",M.setLineDash!==void 0&&(M.setLineDash([]),M.lineDashOffset=0),!r.isNodeJS){const{filter:T}=M;T!=="none"&&T!==""&&(M.filter="none")}}function Q(M,T,R,x){const L=M.length;for(let U=3;U<L;U+=4){const $=M[U];if($===0)M[U-3]=T,M[U-2]=R,M[U-1]=x;else if($<255){const V=255-$;M[U-3]=M[U-3]*$+T*V>>8,M[U-2]=M[U-2]*$+R*V>>8,M[U-1]=M[U-1]*$+x*V>>8}}}function it(M,T,R){const x=M.length,L=1/255;for(let U=3;U<x;U+=4){const $=R?R[M[U]]:M[U];T[U]=T[U]*$*L|0}}function et(M,T,R){const x=M.length;for(let L=3;L<x;L+=4){const U=M[L-3]*77+M[L-2]*152+M[L-1]*28;T[L]=R?T[L]*R[U>>8]>>8:T[L]*U>>16}}function bt(M,T,R,x,L,U,$,V,b,D,I){const Z=!!U,K=Z?U[0]:0,at=Z?U[1]:0,rt=Z?U[2]:0,Rt=L==="Luminosity"?et:it,wt=Math.min(x,Math.ceil(1048576/R));for(let Dt=0;Dt<x;Dt+=wt){const Ft=Math.min(wt,x-Dt),Lt=M.getImageData(V-D,Dt+(b-I),R,Ft),Ut=T.getImageData(V,Dt+b,R,Ft);Z&&Q(Lt.data,K,at,rt),Rt(Lt.data,Ut.data,$),T.putImageData(Ut,V,Dt+b)}}function gt(M,T,R,x){const L=x[0],U=x[1],$=x[2]-L,V=x[3]-U;$===0||V===0||(bt(T.context,R,$,V,T.subtype,T.backdrop,T.transferMap,L,U,T.offsetX,T.offsetY),M.save(),M.globalAlpha=1,M.globalCompositeOperation="source-over",M.setTransform(1,0,0,1,0,0),M.drawImage(R.canvas,0,0),M.restore())}function It(M,T){const R=r.Util.singularValueDecompose2dScale(M);R[0]=Math.fround(R[0]),R[1]=Math.fround(R[1]);const x=Math.fround((globalThis.devicePixelRatio||1)*y.PixelsPerInch.PDF_TO_CSS_UNITS);return T!==void 0?T:R[0]<=x||R[1]<=x}const Ot=["butt","round","square"],Mt=["miter","round","bevel"],kt={},nt={};class q{constructor(T,R,x,L,U,{optionalContentConfig:$,markedContentStack:V=null},b,D){this.ctx=T,this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=R,this.objs=x,this.canvasFactory=L,this.filterFactory=U,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=V||[],this.optionalContentConfig=$,this.cachedCanvases=new S(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=b,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=D,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(T,R=null){return typeof T=="string"?T.startsWith("g_")?this.commonObjs.get(T):this.objs.get(T):R}beginDrawing({transform:T,viewport:R,transparency:x=!1,background:L=null}){const U=this.ctx.canvas.width,$=this.ctx.canvas.height,V=this.ctx.fillStyle;if(this.ctx.fillStyle=L||"#ffffff",this.ctx.fillRect(0,0,U,$),this.ctx.fillStyle=V,x){const b=this.cachedCanvases.getCanvas("transparent",U,$);this.compositeCtx=this.ctx,this.transparentCanvas=b.canvas,this.ctx=b.context,this.ctx.save(),this.ctx.transform(...(0,y.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),F(this.ctx),T&&(this.ctx.transform(...T),this.outputScaleX=T[0],this.outputScaleY=T[0]),this.ctx.transform(...R.transform),this.viewportScale=R.scale,this.baseTransform=(0,y.getCurrentTransform)(this.ctx)}executeOperatorList(T,R,x,L){const U=T.argsArray,$=T.fnArray;let V=R||0;const b=U.length;if(b===V)return V;const D=b-V>h&&typeof x=="function",I=D?Date.now()+c:0;let Z=0;const K=this.commonObjs,at=this.objs;let rt;for(;;){if(L!==void 0&&V===L.nextBreakPoint)return L.breakIt(V,x),V;if(rt=$[V],rt!==r.OPS.dependency)this[rt].apply(this,U[V]);else for(const Rt of U[V]){const Xt=Rt.startsWith("g_")?K:at;if(!Xt.has(Rt))return Xt.get(Rt,x),V}if(V++,V===b)return V;if(D&&++Z>h){if(Date.now()>I)return x(),V;Z=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const T of this._cachedBitmapsMap.values()){for(const R of T.values())typeof HTMLCanvasElement<"u"&&R instanceof HTMLCanvasElement&&(R.width=R.height=0);T.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const T=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(T!=="none"){const R=this.ctx.filter;this.ctx.filter=T,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=R}}}_scaleImage(T,R){const x=T.width,L=T.height;let U=Math.max(Math.hypot(R[0],R[1]),1),$=Math.max(Math.hypot(R[2],R[3]),1),V=x,b=L,D="prescale1",I,Z;for(;U>2&&V>1||$>2&&b>1;){let K=V,at=b;U>2&&V>1&&(K=V>=16384?Math.floor(V/2)-1||1:Math.ceil(V/2),U/=V/K),$>2&&b>1&&(at=b>=16384?Math.floor(b/2)-1||1:Math.ceil(b)/2,$/=b/at),I=this.cachedCanvases.getCanvas(D,K,at),Z=I.context,Z.clearRect(0,0,K,at),Z.drawImage(T,0,0,V,b,0,0,K,at),T=I.canvas,V=K,b=at,D=D==="prescale1"?"prescale2":"prescale1"}return{img:T,paintWidth:V,paintHeight:b}}_createMaskCanvas(T){const R=this.ctx,{width:x,height:L}=T,U=this.current.fillColor,$=this.current.patternFill,V=(0,y.getCurrentTransform)(R);let b,D,I,Z;if((T.bitmap||T.data)&&T.count>1){const $t=T.bitmap||T.data.buffer;D=JSON.stringify($?V:[V.slice(0,4),U]),b=this._cachedBitmapsMap.get($t),b||(b=new Map,this._cachedBitmapsMap.set($t,b));const ie=b.get(D);if(ie&&!$){const le=Math.round(Math.min(V[0],V[2])+V[4]),oe=Math.round(Math.min(V[1],V[3])+V[5]);return{canvas:ie,offsetX:le,offsetY:oe}}I=ie}I||(Z=this.cachedCanvases.getCanvas("maskCanvas",x,L),G(Z.context,T));let K=r.Util.transform(V,[1/x,0,0,-1/L,0,0]);K=r.Util.transform(K,[1,0,0,1,0,-L]);const at=r.Util.applyTransform([0,0],K),rt=r.Util.applyTransform([x,L],K),Rt=r.Util.normalizeRect([at[0],at[1],rt[0],rt[1]]),Xt=Math.round(Rt[2]-Rt[0])||1,wt=Math.round(Rt[3]-Rt[1])||1,Dt=this.cachedCanvases.getCanvas("fillCanvas",Xt,wt),Ft=Dt.context,Lt=Math.min(at[0],rt[0]),Ut=Math.min(at[1],rt[1]);Ft.translate(-Lt,-Ut),Ft.transform(...K),I||(I=this._scaleImage(Z.canvas,(0,y.getCurrentTransformInverse)(Ft)),I=I.img,b&&$&&b.set(D,I)),Ft.imageSmoothingEnabled=It((0,y.getCurrentTransform)(Ft),T.interpolate),j(Ft,I,0,0,I.width,I.height,0,0,x,L),Ft.globalCompositeOperation="source-in";const Qt=r.Util.transform((0,y.getCurrentTransformInverse)(Ft),[1,0,0,1,-Lt,-Ut]);return Ft.fillStyle=$?U.getPattern(R,this,Qt,N.PathType.FILL):U,Ft.fillRect(0,0,x,L),b&&!$&&(this.cachedCanvases.delete("fillCanvas"),b.set(D,Dt.canvas)),{canvas:Dt.canvas,offsetX:Math.round(Lt),offsetY:Math.round(Ut)}}setLineWidth(T){T!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=T,this.ctx.lineWidth=T}setLineCap(T){this.ctx.lineCap=Ot[T]}setLineJoin(T){this.ctx.lineJoin=Mt[T]}setMiterLimit(T){this.ctx.miterLimit=T}setDash(T,R){const x=this.ctx;x.setLineDash!==void 0&&(x.setLineDash(T),x.lineDashOffset=R)}setRenderingIntent(T){}setFlatness(T){}setGState(T){for(const[R,x]of T)switch(R){case"LW":this.setLineWidth(x);break;case"LC":this.setLineCap(x);break;case"LJ":this.setLineJoin(x);break;case"ML":this.setMiterLimit(x);break;case"D":this.setDash(x[0],x[1]);break;case"RI":this.setRenderingIntent(x);break;case"FL":this.setFlatness(x);break;case"Font":this.setFont(x[0],x[1]);break;case"CA":this.current.strokeAlpha=x;break;case"ca":this.current.fillAlpha=x,this.ctx.globalAlpha=x;break;case"BM":this.ctx.globalCompositeOperation=x;break;case"SMask":this.current.activeSMask=x?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(x);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const T=this.inSMaskMode;this.current.activeSMask&&!T?this.beginSMaskMode():!this.current.activeSMask&&T&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const T=this.ctx.canvas.width,R=this.ctx.canvas.height,x="smaskGroupAt"+this.groupLevel,L=this.cachedCanvases.getCanvas(x,T,R);this.suspendedCtx=this.ctx,this.ctx=L.context;const U=this.ctx;U.setTransform(...(0,y.getCurrentTransform)(this.suspendedCtx)),C(this.suspendedCtx,U),p(U,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),C(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(T){if(!this.current.activeSMask)return;T?(T[0]=Math.floor(T[0]),T[1]=Math.floor(T[1]),T[2]=Math.ceil(T[2]),T[3]=Math.ceil(T[3])):T=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const R=this.current.activeSMask,x=this.suspendedCtx;gt(x,R,this.ctx,T),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(C(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const T=this.current;this.stateStack.push(T),this.current=T.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),C(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(T,R,x,L,U,$){this.ctx.transform(T,R,x,L,U,$),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(T,R,x){const L=this.ctx,U=this.current;let $=U.x,V=U.y,b,D;const I=(0,y.getCurrentTransform)(L),Z=I[0]===0&&I[3]===0||I[1]===0&&I[2]===0,K=Z?x.slice(0):null;for(let at=0,rt=0,Rt=T.length;at<Rt;at++)switch(T[at]|0){case r.OPS.rectangle:$=R[rt++],V=R[rt++];const Xt=R[rt++],wt=R[rt++],Dt=$+Xt,Ft=V+wt;L.moveTo($,V),Xt===0||wt===0?L.lineTo(Dt,Ft):(L.lineTo(Dt,V),L.lineTo(Dt,Ft),L.lineTo($,Ft)),Z||U.updateRectMinMax(I,[$,V,Dt,Ft]),L.closePath();break;case r.OPS.moveTo:$=R[rt++],V=R[rt++],L.moveTo($,V),Z||U.updatePathMinMax(I,$,V);break;case r.OPS.lineTo:$=R[rt++],V=R[rt++],L.lineTo($,V),Z||U.updatePathMinMax(I,$,V);break;case r.OPS.curveTo:b=$,D=V,$=R[rt+4],V=R[rt+5],L.bezierCurveTo(R[rt],R[rt+1],R[rt+2],R[rt+3],$,V),U.updateCurvePathMinMax(I,b,D,R[rt],R[rt+1],R[rt+2],R[rt+3],$,V,K),rt+=6;break;case r.OPS.curveTo2:b=$,D=V,L.bezierCurveTo($,V,R[rt],R[rt+1],R[rt+2],R[rt+3]),U.updateCurvePathMinMax(I,b,D,$,V,R[rt],R[rt+1],R[rt+2],R[rt+3],K),$=R[rt+2],V=R[rt+3],rt+=4;break;case r.OPS.curveTo3:b=$,D=V,$=R[rt+2],V=R[rt+3],L.bezierCurveTo(R[rt],R[rt+1],$,V,$,V),U.updateCurvePathMinMax(I,b,D,R[rt],R[rt+1],$,V,$,V,K),rt+=4;break;case r.OPS.closePath:L.closePath();break}Z&&U.updateScalingPathMinMax(I,K),U.setCurrentPoint($,V)}closePath(){this.ctx.closePath()}stroke(T=!0){const R=this.ctx,x=this.current.strokeColor;R.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof x=="object"&&x?.getPattern?(R.save(),R.strokeStyle=x.getPattern(R,this,(0,y.getCurrentTransformInverse)(R),N.PathType.STROKE),this.rescaleAndStroke(!1),R.restore()):this.rescaleAndStroke(!0)),T&&this.consumePath(this.current.getClippedPathBoundingBox()),R.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(T=!0){const R=this.ctx,x=this.current.fillColor,L=this.current.patternFill;let U=!1;L&&(R.save(),R.fillStyle=x.getPattern(R,this,(0,y.getCurrentTransformInverse)(R),N.PathType.FILL),U=!0);const $=this.current.getClippedPathBoundingBox();this.contentVisible&&$!==null&&(this.pendingEOFill?(R.fill("evenodd"),this.pendingEOFill=!1):R.fill()),U&&R.restore(),T&&this.consumePath($)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=kt}eoClip(){this.pendingClip=nt}beginText(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const T=this.pendingTextPaths,R=this.ctx;if(T===void 0){R.beginPath();return}R.save(),R.beginPath();for(const x of T)R.setTransform(...x.transform),R.translate(x.x,x.y),x.addToPath(R,x.fontSize);R.restore(),R.clip(),R.beginPath(),delete this.pendingTextPaths}setCharSpacing(T){this.current.charSpacing=T}setWordSpacing(T){this.current.wordSpacing=T}setHScale(T){this.current.textHScale=T/100}setLeading(T){this.current.leading=-T}setFont(T,R){const x=this.commonObjs.get(T),L=this.current;if(!x)throw new Error(`Can't find font for ${T}`);if(L.fontMatrix=x.fontMatrix||r.FONT_IDENTITY_MATRIX,(L.fontMatrix[0]===0||L.fontMatrix[3]===0)&&(0,r.warn)("Invalid font matrix for font "+T),R<0?(R=-R,L.fontDirection=-1):L.fontDirection=1,this.current.font=x,this.current.fontSize=R,x.isType3Font)return;const U=x.loadedName||"sans-serif",$=x.systemFontInfo?.css||`"${U}", ${x.fallbackName}`;let V="normal";x.black?V="900":x.bold&&(V="bold");const b=x.italic?"italic":"normal";let D=R;R<Y?D=Y:R>B&&(D=B),this.current.fontSizeScale=R/D,this.ctx.font=`${b} ${V} ${D}px ${$}`}setTextRenderingMode(T){this.current.textRenderingMode=T}setTextRise(T){this.current.textRise=T}moveText(T,R){this.current.x=this.current.lineX+=T,this.current.y=this.current.lineY+=R}setLeadingMoveText(T,R){this.setLeading(-R),this.moveText(T,R)}setTextMatrix(T,R,x,L,U,$){this.current.textMatrix=[T,R,x,L,U,$],this.current.textMatrixScale=Math.hypot(T,R),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(T,R,x,L){const U=this.ctx,$=this.current,V=$.font,b=$.textRenderingMode,D=$.fontSize/$.fontSizeScale,I=b&r.TextRenderingMode.FILL_STROKE_MASK,Z=!!(b&r.TextRenderingMode.ADD_TO_PATH_FLAG),K=$.patternFill&&!V.missingFile;let at;(V.disableFontFace||Z||K)&&(at=V.getPathGenerator(this.commonObjs,T)),V.disableFontFace||K?(U.save(),U.translate(R,x),U.beginPath(),at(U,D),L&&U.setTransform(...L),(I===r.TextRenderingMode.FILL||I===r.TextRenderingMode.FILL_STROKE)&&U.fill(),(I===r.TextRenderingMode.STROKE||I===r.TextRenderingMode.FILL_STROKE)&&U.stroke(),U.restore()):((I===r.TextRenderingMode.FILL||I===r.TextRenderingMode.FILL_STROKE)&&U.fillText(T,R,x),(I===r.TextRenderingMode.STROKE||I===r.TextRenderingMode.FILL_STROKE)&&U.strokeText(T,R,x)),Z&&(this.pendingTextPaths||=[]).push({transform:(0,y.getCurrentTransform)(U),x:R,y:x,fontSize:D,addToPath:at})}get isFontSubpixelAAEnabled(){const{context:T}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);T.scale(1.5,1),T.fillText("I",0,10);const R=T.getImageData(0,0,10,10).data;let x=!1;for(let L=3;L<R.length;L+=4)if(R[L]>0&&R[L]<255){x=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",x)}showText(T){const R=this.current,x=R.font;if(x.isType3Font)return this.showType3Text(T);const L=R.fontSize;if(L===0)return;const U=this.ctx,$=R.fontSizeScale,V=R.charSpacing,b=R.wordSpacing,D=R.fontDirection,I=R.textHScale*D,Z=T.length,K=x.vertical,at=K?1:-1,rt=x.defaultVMetrics,Rt=L*R.fontMatrix[0],Xt=R.textRenderingMode===r.TextRenderingMode.FILL&&!x.disableFontFace&&!R.patternFill;U.save(),U.transform(...R.textMatrix),U.translate(R.x,R.y+R.textRise),D>0?U.scale(I,-1):U.scale(I,1);let wt;if(R.patternFill){U.save();const Qt=R.fillColor.getPattern(U,this,(0,y.getCurrentTransformInverse)(U),N.PathType.FILL);wt=(0,y.getCurrentTransform)(U),U.restore(),U.fillStyle=Qt}let Dt=R.lineWidth;const Ft=R.textMatrixScale;if(Ft===0||Dt===0){const Qt=R.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;(Qt===r.TextRenderingMode.STROKE||Qt===r.TextRenderingMode.FILL_STROKE)&&(Dt=this.getSinglePixelWidth())}else Dt/=Ft;if($!==1&&(U.scale($,$),Dt/=$),U.lineWidth=Dt,x.isInvalidPDFjsFont){const Qt=[];let $t=0;for(const ie of T)Qt.push(ie.unicode),$t+=ie.width;U.fillText(Qt.join(""),0,0),R.x+=$t*Rt*I,U.restore(),this.compose();return}let Lt=0,Ut;for(Ut=0;Ut<Z;++Ut){const Qt=T[Ut];if(typeof Qt=="number"){Lt+=at*Qt*L/1e3;continue}let $t=!1;const ie=(Qt.isSpace?b:0)+V,le=Qt.fontChar,oe=Qt.accent;let _e,ke,Be=Qt.width;if(K){const We=Qt.vmetric||rt,An=-(Qt.vmetric?We[1]:Be*.5)*Rt,ya=We[2]*Rt;Be=We?-We[0]:Be,_e=An/$,ke=(Lt+ya)/$}else _e=Lt/$,ke=0;if(x.remeasure&&Be>0){const We=U.measureText(le).width*1e3/L*$;if(Be<We&&this.isFontSubpixelAAEnabled){const An=Be/We;$t=!0,U.save(),U.scale(An,1),_e/=An}else Be!==We&&(_e+=(Be-We)/2e3*L/$)}if(this.contentVisible&&(Qt.isInFont||x.missingFile)){if(Xt&&!oe)U.fillText(le,_e,ke);else if(this.paintChar(le,_e,ke,wt),oe){const We=_e+L*oe.offset.x/$,An=ke-L*oe.offset.y/$;this.paintChar(oe.fontChar,We,An,wt)}}const Cn=K?Be*Rt-ie*D:Be*Rt+ie*D;Lt+=Cn,$t&&U.restore()}K?R.y-=Lt:R.x+=Lt*I,U.restore(),this.compose()}showType3Text(T){const R=this.ctx,x=this.current,L=x.font,U=x.fontSize,$=x.fontDirection,V=L.vertical?1:-1,b=x.charSpacing,D=x.wordSpacing,I=x.textHScale*$,Z=x.fontMatrix||r.FONT_IDENTITY_MATRIX,K=T.length,at=x.textRenderingMode===r.TextRenderingMode.INVISIBLE;let rt,Rt,Xt,wt;if(!(at||U===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,R.save(),R.transform(...x.textMatrix),R.translate(x.x,x.y),R.scale(I,$),rt=0;rt<K;++rt){if(Rt=T[rt],typeof Rt=="number"){wt=V*Rt*U/1e3,this.ctx.translate(wt,0),x.x+=wt*I;continue}const Dt=(Rt.isSpace?D:0)+b,Ft=L.charProcOperatorList[Rt.operatorListId];if(!Ft){(0,r.warn)(`Type3 character "${Rt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Rt,this.save(),R.scale(U,U),R.transform(...Z),this.executeOperatorList(Ft),this.restore()),Xt=r.Util.applyTransform([Rt.width,0],Z)[0]*U+Dt,R.translate(Xt,0),x.x+=Xt*I}R.restore(),this.processingType3=null}}setCharWidth(T,R){}setCharWidthAndBounds(T,R,x,L,U,$){this.ctx.rect(x,L,U-x,$-L),this.ctx.clip(),this.endPath()}getColorN_Pattern(T){let R;if(T[0]==="TilingPattern"){const x=T[1],L=this.baseTransform||(0,y.getCurrentTransform)(this.ctx),U={createCanvasGraphics:$=>new q($,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};R=new N.TilingPattern(T,x,this.ctx,U,L)}else R=this._getPattern(T[1],T[2]);return R}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(T,R,x){const L=r.Util.makeHexColor(T,R,x);this.ctx.strokeStyle=L,this.current.strokeColor=L}setFillRGBColor(T,R,x){const L=r.Util.makeHexColor(T,R,x);this.ctx.fillStyle=L,this.current.fillColor=L,this.current.patternFill=!1}_getPattern(T,R=null){let x;return this.cachedPatterns.has(T)?x=this.cachedPatterns.get(T):(x=(0,N.getShadingPattern)(this.getObject(T)),this.cachedPatterns.set(T,x)),R&&(x.matrix=R),x}shadingFill(T){if(!this.contentVisible)return;const R=this.ctx;this.save();const x=this._getPattern(T);R.fillStyle=x.getPattern(R,this,(0,y.getCurrentTransformInverse)(R),N.PathType.SHADING);const L=(0,y.getCurrentTransformInverse)(R);if(L){const{width:U,height:$}=R.canvas,[V,b,D,I]=r.Util.getAxialAlignedBoundingBox([0,0,U,$],L);this.ctx.fillRect(V,b,D-V,I-b)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,r.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,r.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(T,R){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(T)&&T.length===6&&this.transform(...T),this.baseTransform=(0,y.getCurrentTransform)(this.ctx),R)){const x=R[2]-R[0],L=R[3]-R[1];this.ctx.rect(R[0],R[1],x,L),this.current.updateRectMinMax((0,y.getCurrentTransform)(this.ctx),R),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(T){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const R=this.ctx;T.isolated||(0,r.info)("TODO: Support non-isolated groups."),T.knockout&&(0,r.warn)("Knockout groups not supported.");const x=(0,y.getCurrentTransform)(R);if(T.matrix&&R.transform(...T.matrix),!T.bbox)throw new Error("Bounding box is required.");let L=r.Util.getAxialAlignedBoundingBox(T.bbox,(0,y.getCurrentTransform)(R));const U=[0,0,R.canvas.width,R.canvas.height];L=r.Util.intersect(L,U)||[0,0,0,0];const $=Math.floor(L[0]),V=Math.floor(L[1]);let b=Math.max(Math.ceil(L[2])-$,1),D=Math.max(Math.ceil(L[3])-V,1),I=1,Z=1;b>d&&(I=b/d,b=d),D>d&&(Z=D/d,D=d),this.current.startNewPathAndClipBox([0,0,b,D]);let K="groupAt"+this.groupLevel;T.smask&&(K+="_smask_"+this.smaskCounter++%2);const at=this.cachedCanvases.getCanvas(K,b,D),rt=at.context;rt.scale(1/I,1/Z),rt.translate(-$,-V),rt.transform(...x),T.smask?this.smaskStack.push({canvas:at.canvas,context:rt,offsetX:$,offsetY:V,scaleX:I,scaleY:Z,subtype:T.smask.subtype,backdrop:T.smask.backdrop,transferMap:T.smask.transferMap||null,startTransformInverse:null}):(R.setTransform(1,0,0,1,0,0),R.translate($,V),R.scale(I,Z),R.save()),C(R,rt),this.ctx=rt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(R),this.groupLevel++}endGroup(T){if(!this.contentVisible)return;this.groupLevel--;const R=this.ctx,x=this.groupStack.pop();if(this.ctx=x,this.ctx.imageSmoothingEnabled=!1,T.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const L=(0,y.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...L);const U=r.Util.getAxialAlignedBoundingBox([0,0,R.canvas.width,R.canvas.height],L);this.ctx.drawImage(R.canvas,0,0),this.ctx.restore(),this.compose(U)}}beginAnnotation(T,R,x,L,U){if(this.#t(),F(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(R)&&R.length===4){const $=R[2]-R[0],V=R[3]-R[1];if(U&&this.annotationCanvasMap){x=x.slice(),x[4]-=R[0],x[5]-=R[1],R=R.slice(),R[0]=R[1]=0,R[2]=$,R[3]=V;const[b,D]=r.Util.singularValueDecompose2dScale((0,y.getCurrentTransform)(this.ctx)),{viewportScale:I}=this,Z=Math.ceil($*this.outputScaleX*I),K=Math.ceil(V*this.outputScaleY*I);this.annotationCanvas=this.canvasFactory.create(Z,K);const{canvas:at,context:rt}=this.annotationCanvas;this.annotationCanvasMap.set(T,at),this.annotationCanvas.savedCtx=this.ctx,this.ctx=rt,this.ctx.save(),this.ctx.setTransform(b,0,0,-D,0,V*D),F(this.ctx)}else F(this.ctx),this.ctx.rect(R[0],R[1],$,V),this.ctx.clip(),this.endPath()}this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...x),this.transform(...L)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(T){if(!this.contentVisible)return;const R=T.count;T=this.getObject(T.data,T),T.count=R;const x=this.ctx,L=this.processingType3;if(L&&(L.compiled===void 0&&(L.compiled=v(T)),L.compiled)){L.compiled(x);return}const U=this._createMaskCanvas(T),$=U.canvas;x.save(),x.setTransform(1,0,0,1,0,0),x.drawImage($,U.offsetX,U.offsetY),x.restore(),this.compose()}paintImageMaskXObjectRepeat(T,R,x=0,L=0,U,$){if(!this.contentVisible)return;T=this.getObject(T.data,T);const V=this.ctx;V.save();const b=(0,y.getCurrentTransform)(V);V.transform(R,x,L,U,0,0);const D=this._createMaskCanvas(T);V.setTransform(1,0,0,1,D.offsetX-b[4],D.offsetY-b[5]);for(let I=0,Z=$.length;I<Z;I+=2){const K=r.Util.transform(b,[R,x,L,U,$[I],$[I+1]]),[at,rt]=r.Util.applyTransform([0,0],K);V.drawImage(D.canvas,at,rt)}V.restore(),this.compose()}paintImageMaskXObjectGroup(T){if(!this.contentVisible)return;const R=this.ctx,x=this.current.fillColor,L=this.current.patternFill;for(const U of T){const{data:$,width:V,height:b,transform:D}=U,I=this.cachedCanvases.getCanvas("maskCanvas",V,b),Z=I.context;Z.save();const K=this.getObject($,U);G(Z,K),Z.globalCompositeOperation="source-in",Z.fillStyle=L?x.getPattern(Z,this,(0,y.getCurrentTransformInverse)(R),N.PathType.FILL):x,Z.fillRect(0,0,V,b),Z.restore(),R.save(),R.transform(...D),R.scale(1,-1),j(R,I.canvas,0,0,V,b,0,-1,1,1),R.restore()}this.compose()}paintImageXObject(T){if(!this.contentVisible)return;const R=this.getObject(T);if(!R){(0,r.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(R)}paintImageXObjectRepeat(T,R,x,L){if(!this.contentVisible)return;const U=this.getObject(T);if(!U){(0,r.warn)("Dependent image isn't ready yet");return}const $=U.width,V=U.height,b=[];for(let D=0,I=L.length;D<I;D+=2)b.push({transform:[R,0,0,x,L[D],L[D+1]],x:0,y:0,w:$,h:V});this.paintInlineImageXObjectGroup(U,b)}applyTransferMapsToCanvas(T){return this.current.transferMaps!=="none"&&(T.filter=this.current.transferMaps,T.drawImage(T.canvas,0,0),T.filter="none"),T.canvas}applyTransferMapsToBitmap(T){if(this.current.transferMaps==="none")return T.bitmap;const{bitmap:R,width:x,height:L}=T,U=this.cachedCanvases.getCanvas("inlineImage",x,L),$=U.context;return $.filter=this.current.transferMaps,$.drawImage(R,0,0),$.filter="none",U.canvas}paintInlineImageXObject(T){if(!this.contentVisible)return;const R=T.width,x=T.height,L=this.ctx;if(this.save(),!r.isNodeJS){const{filter:V}=L;V!=="none"&&V!==""&&(L.filter="none")}L.scale(1/R,-1/x);let U;if(T.bitmap)U=this.applyTransferMapsToBitmap(T);else if(typeof HTMLElement=="function"&&T instanceof HTMLElement||!T.data)U=T;else{const b=this.cachedCanvases.getCanvas("inlineImage",R,x).context;W(b,T),U=this.applyTransferMapsToCanvas(b)}const $=this._scaleImage(U,(0,y.getCurrentTransformInverse)(L));L.imageSmoothingEnabled=It((0,y.getCurrentTransform)(L),T.interpolate),j(L,$.img,0,0,$.paintWidth,$.paintHeight,0,-x,R,x),this.compose(),this.restore()}paintInlineImageXObjectGroup(T,R){if(!this.contentVisible)return;const x=this.ctx;let L;if(T.bitmap)L=T.bitmap;else{const U=T.width,$=T.height,b=this.cachedCanvases.getCanvas("inlineImage",U,$).context;W(b,T),L=this.applyTransferMapsToCanvas(b)}for(const U of R)x.save(),x.transform(...U.transform),x.scale(1,-1),j(x,L,U.x,U.y,U.w,U.h,0,-1,1,1),x.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(T){}markPointProps(T,R){}beginMarkedContent(T){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(T,R){T==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(R)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(T){const R=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(T);const x=this.ctx;this.pendingClip&&(R||(this.pendingClip===nt?x.clip("evenodd"):x.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),x.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const T=(0,y.getCurrentTransform)(this.ctx);if(T[1]===0&&T[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(T[0]),Math.abs(T[3]));else{const R=Math.abs(T[0]*T[3]-T[2]*T[1]),x=Math.hypot(T[0],T[2]),L=Math.hypot(T[1],T[3]);this._cachedGetSinglePixelWidth=Math.max(x,L)/R}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:T}=this.current,{a:R,b:x,c:L,d:U}=this.ctx.getTransform();let $,V;if(x===0&&L===0){const b=Math.abs(R),D=Math.abs(U);if(b===D)if(T===0)$=V=1/b;else{const I=b*T;$=V=I<1?1/I:1}else if(T===0)$=1/b,V=1/D;else{const I=b*T,Z=D*T;$=I<1?1/I:1,V=Z<1?1/Z:1}}else{const b=Math.abs(R*U-x*L),D=Math.hypot(R,x),I=Math.hypot(L,U);if(T===0)$=I/b,V=D/b;else{const Z=T*b;$=I>Z?I/Z:1,V=D>Z?D/Z:1}}this._cachedScaleForStroking[0]=$,this._cachedScaleForStroking[1]=V}return this._cachedScaleForStroking}rescaleAndStroke(T){const{ctx:R}=this,{lineWidth:x}=this.current,[L,U]=this.getScaleForStroking();if(R.lineWidth=x||1,L===1&&U===1){R.stroke();return}const $=R.getLineDash();if(T&&R.save(),R.scale(L,U),$.length>0){const V=Math.max(L,U);R.setLineDash($.map(b=>b/V)),R.lineDashOffset/=V}R.stroke(),T&&R.restore()}isContentVisible(){for(let T=this.markedContentStack.length-1;T>=0;T--)if(!this.markedContentStack[T].visible)return!1;return!0}}o.CanvasGraphics=q;for(const M in r.OPS)q.prototype[M]!==void 0&&(q.prototype[r.OPS[M]]=q.prototype[M])}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TilingPattern=o.PathType=void 0,o.getShadingPattern=E;var r=g(1),y=g(6);const N={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};o.PathType=N;function O(j,v){if(!v)return;const P=v[2]-v[0],W=v[3]-v[1],G=new Path2D;G.rect(v[0],v[1],P,W),j.clip(G)}class Y{constructor(){this.constructor===Y&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class B extends Y{constructor(v){super(),this._type=v[1],this._bbox=v[2],this._colorStops=v[3],this._p0=v[4],this._p1=v[5],this._r0=v[6],this._r1=v[7],this.matrix=null}_createGradient(v){let P;this._type==="axial"?P=v.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(P=v.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const W of this._colorStops)P.addColorStop(W[0],W[1]);return P}getPattern(v,P,W,G){let C;if(G===N.STROKE||G===N.FILL){const F=P.current.getClippedPathBoundingBox(G,(0,y.getCurrentTransform)(v))||[0,0,0,0],Q=Math.ceil(F[2]-F[0])||1,it=Math.ceil(F[3]-F[1])||1,et=P.cachedCanvases.getCanvas("pattern",Q,it,!0),bt=et.context;bt.clearRect(0,0,bt.canvas.width,bt.canvas.height),bt.beginPath(),bt.rect(0,0,bt.canvas.width,bt.canvas.height),bt.translate(-F[0],-F[1]),W=r.Util.transform(W,[1,0,0,1,F[0],F[1]]),bt.transform(...P.baseTransform),this.matrix&&bt.transform(...this.matrix),O(bt,this._bbox),bt.fillStyle=this._createGradient(bt),bt.fill(),C=v.createPattern(et.canvas,"no-repeat");const gt=new DOMMatrix(W);C.setTransform(gt)}else O(v,this._bbox),C=this._createGradient(v);return C}}function d(j,v,P,W,G,C,F,Q){const it=v.coords,et=v.colors,bt=j.data,gt=j.width*4;let It;it[P+1]>it[W+1]&&(It=P,P=W,W=It,It=C,C=F,F=It),it[W+1]>it[G+1]&&(It=W,W=G,G=It,It=F,F=Q,Q=It),it[P+1]>it[W+1]&&(It=P,P=W,W=It,It=C,C=F,F=It);const Ot=(it[P]+v.offsetX)*v.scaleX,Mt=(it[P+1]+v.offsetY)*v.scaleY,kt=(it[W]+v.offsetX)*v.scaleX,nt=(it[W+1]+v.offsetY)*v.scaleY,q=(it[G]+v.offsetX)*v.scaleX,M=(it[G+1]+v.offsetY)*v.scaleY;if(Mt>=M)return;const T=et[C],R=et[C+1],x=et[C+2],L=et[F],U=et[F+1],$=et[F+2],V=et[Q],b=et[Q+1],D=et[Q+2],I=Math.round(Mt),Z=Math.round(M);let K,at,rt,Rt,Xt,wt,Dt,Ft;for(let Lt=I;Lt<=Z;Lt++){if(Lt<nt){const le=Lt<Mt?0:(Mt-Lt)/(Mt-nt);K=Ot-(Ot-kt)*le,at=T-(T-L)*le,rt=R-(R-U)*le,Rt=x-(x-$)*le}else{let le;Lt>M?le=1:nt===M?le=0:le=(nt-Lt)/(nt-M),K=kt-(kt-q)*le,at=L-(L-V)*le,rt=U-(U-b)*le,Rt=$-($-D)*le}let Ut;Lt<Mt?Ut=0:Lt>M?Ut=1:Ut=(Mt-Lt)/(Mt-M),Xt=Ot-(Ot-q)*Ut,wt=T-(T-V)*Ut,Dt=R-(R-b)*Ut,Ft=x-(x-D)*Ut;const Qt=Math.round(Math.min(K,Xt)),$t=Math.round(Math.max(K,Xt));let ie=gt*Lt+Qt*4;for(let le=Qt;le<=$t;le++)Ut=(K-le)/(K-Xt),Ut<0?Ut=0:Ut>1&&(Ut=1),bt[ie++]=at-(at-wt)*Ut|0,bt[ie++]=rt-(rt-Dt)*Ut|0,bt[ie++]=Rt-(Rt-Ft)*Ut|0,bt[ie++]=255}}function c(j,v,P){const W=v.coords,G=v.colors;let C,F;switch(v.type){case"lattice":const Q=v.verticesPerRow,it=Math.floor(W.length/Q)-1,et=Q-1;for(C=0;C<it;C++){let bt=C*Q;for(let gt=0;gt<et;gt++,bt++)d(j,P,W[bt],W[bt+1],W[bt+Q],G[bt],G[bt+1],G[bt+Q]),d(j,P,W[bt+Q+1],W[bt+1],W[bt+Q],G[bt+Q+1],G[bt+1],G[bt+Q])}break;case"triangles":for(C=0,F=W.length;C<F;C+=3)d(j,P,W[C],W[C+1],W[C+2],G[C],G[C+1],G[C+2]);break;default:throw new Error("illegal figure")}}class h extends Y{constructor(v){super(),this._coords=v[2],this._colors=v[3],this._figures=v[4],this._bounds=v[5],this._bbox=v[7],this._background=v[8],this.matrix=null}_createMeshCanvas(v,P,W){const Q=Math.floor(this._bounds[0]),it=Math.floor(this._bounds[1]),et=Math.ceil(this._bounds[2])-Q,bt=Math.ceil(this._bounds[3])-it,gt=Math.min(Math.ceil(Math.abs(et*v[0]*1.1)),3e3),It=Math.min(Math.ceil(Math.abs(bt*v[1]*1.1)),3e3),Ot=et/gt,Mt=bt/It,kt={coords:this._coords,colors:this._colors,offsetX:-Q,offsetY:-it,scaleX:1/Ot,scaleY:1/Mt},nt=gt+4,q=It+4,M=W.getCanvas("mesh",nt,q,!1),T=M.context,R=T.createImageData(gt,It);if(P){const L=R.data;for(let U=0,$=L.length;U<$;U+=4)L[U]=P[0],L[U+1]=P[1],L[U+2]=P[2],L[U+3]=255}for(const L of this._figures)c(R,L,kt);return T.putImageData(R,2,2),{canvas:M.canvas,offsetX:Q-2*Ot,offsetY:it-2*Mt,scaleX:Ot,scaleY:Mt}}getPattern(v,P,W,G){O(v,this._bbox);let C;if(G===N.SHADING)C=r.Util.singularValueDecompose2dScale((0,y.getCurrentTransform)(v));else if(C=r.Util.singularValueDecompose2dScale(P.baseTransform),this.matrix){const Q=r.Util.singularValueDecompose2dScale(this.matrix);C=[C[0]*Q[0],C[1]*Q[1]]}const F=this._createMeshCanvas(C,G===N.SHADING?null:this._background,P.cachedCanvases);return G!==N.SHADING&&(v.setTransform(...P.baseTransform),this.matrix&&v.transform(...this.matrix)),v.translate(F.offsetX,F.offsetY),v.scale(F.scaleX,F.scaleY),v.createPattern(F.canvas,"no-repeat")}}class _ extends Y{getPattern(){return"hotpink"}}function E(j){switch(j[0]){case"RadialAxial":return new B(j);case"Mesh":return new h(j);case"Dummy":return new _}throw new Error(`Unknown IR type: ${j[0]}`)}const p={COLORED:1,UNCOLORED:2};class S{static MAX_PATTERN_SIZE=3e3;constructor(v,P,W,G,C){this.operatorList=v[2],this.matrix=v[3]||[1,0,0,1,0,0],this.bbox=v[4],this.xstep=v[5],this.ystep=v[6],this.paintType=v[7],this.tilingType=v[8],this.color=P,this.ctx=W,this.canvasGraphicsFactory=G,this.baseTransform=C}createPatternCanvas(v){const P=this.operatorList,W=this.bbox,G=this.xstep,C=this.ystep,F=this.paintType,Q=this.tilingType,it=this.color,et=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+Q);const bt=W[0],gt=W[1],It=W[2],Ot=W[3],Mt=r.Util.singularValueDecompose2dScale(this.matrix),kt=r.Util.singularValueDecompose2dScale(this.baseTransform),nt=[Mt[0]*kt[0],Mt[1]*kt[1]],q=this.getSizeAndScale(G,this.ctx.canvas.width,nt[0]),M=this.getSizeAndScale(C,this.ctx.canvas.height,nt[1]),T=v.cachedCanvases.getCanvas("pattern",q.size,M.size,!0),R=T.context,x=et.createCanvasGraphics(R);x.groupLevel=v.groupLevel,this.setFillAndStrokeStyleToContext(x,F,it);let L=bt,U=gt,$=It,V=Ot;return bt<0&&(L=0,$+=Math.abs(bt)),gt<0&&(U=0,V+=Math.abs(gt)),R.translate(-(q.scale*L),-(M.scale*U)),x.transform(q.scale,0,0,M.scale,0,0),R.save(),this.clipBbox(x,L,U,$,V),x.baseTransform=(0,y.getCurrentTransform)(x.ctx),x.executeOperatorList(P),x.endDrawing(),{canvas:T.canvas,scaleX:q.scale,scaleY:M.scale,offsetX:L,offsetY:U}}getSizeAndScale(v,P,W){v=Math.abs(v);const G=Math.max(S.MAX_PATTERN_SIZE,P);let C=Math.ceil(v*W);return C>=G?C=G:W=C/v,{scale:W,size:C}}clipBbox(v,P,W,G,C){const F=G-P,Q=C-W;v.ctx.rect(P,W,F,Q),v.current.updateRectMinMax((0,y.getCurrentTransform)(v.ctx),[P,W,G,C]),v.clip(),v.endPath()}setFillAndStrokeStyleToContext(v,P,W){const G=v.ctx,C=v.current;switch(P){case p.COLORED:const F=this.ctx;G.fillStyle=F.fillStyle,G.strokeStyle=F.strokeStyle,C.fillColor=F.fillStyle,C.strokeColor=F.strokeStyle;break;case p.UNCOLORED:const Q=r.Util.makeHexColor(W[0],W[1],W[2]);G.fillStyle=Q,G.strokeStyle=Q,C.fillColor=Q,C.strokeColor=Q;break;default:throw new r.FormatError(`Unsupported paint type: ${P}`)}}getPattern(v,P,W,G){let C=W;G!==N.SHADING&&(C=r.Util.transform(C,P.baseTransform),this.matrix&&(C=r.Util.transform(C,this.matrix)));const F=this.createPatternCanvas(P);let Q=new DOMMatrix(C);Q=Q.translate(F.offsetX,F.offsetY),Q=Q.scale(1/F.scaleX,1/F.scaleY);const it=v.createPattern(F.canvas,"repeat");return it.setTransform(Q),it}}o.TilingPattern=S}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.convertBlackAndWhiteToRGBA=N,o.convertToRGBA=y,o.grayToRGBA=Y;var r=g(1);function y(B){switch(B.kind){case r.ImageKind.GRAYSCALE_1BPP:return N(B);case r.ImageKind.RGB_24BPP:return O(B)}return null}function N({src:B,srcPos:d=0,dest:c,width:h,height:_,nonBlackColor:E=4294967295,inverseDecode:p=!1}){const S=r.FeatureTest.isLittleEndian?4278190080:255,[j,v]=p?[E,S]:[S,E],P=h>>3,W=h&7,G=B.length;c=new Uint32Array(c.buffer);let C=0;for(let F=0;F<_;F++){for(const it=d+P;d<it;d++){const et=d<G?B[d]:255;c[C++]=et&128?v:j,c[C++]=et&64?v:j,c[C++]=et&32?v:j,c[C++]=et&16?v:j,c[C++]=et&8?v:j,c[C++]=et&4?v:j,c[C++]=et&2?v:j,c[C++]=et&1?v:j}if(W===0)continue;const Q=d<G?B[d++]:255;for(let it=0;it<W;it++)c[C++]=Q&1<<7-it?v:j}return{srcPos:d,destPos:C}}function O({src:B,srcPos:d=0,dest:c,destPos:h=0,width:_,height:E}){let p=0;const S=B.length>>2,j=new Uint32Array(B.buffer,d,S);if(r.FeatureTest.isLittleEndian){for(;p<S-2;p+=3,h+=4){const v=j[p],P=j[p+1],W=j[p+2];c[h]=v|4278190080,c[h+1]=v>>>24|P<<8|4278190080,c[h+2]=P>>>16|W<<16|4278190080,c[h+3]=W>>>8|4278190080}for(let v=p*4,P=B.length;v<P;v+=3)c[h++]=B[v]|B[v+1]<<8|B[v+2]<<16|4278190080}else{for(;p<S-2;p+=3,h+=4){const v=j[p],P=j[p+1],W=j[p+2];c[h]=v|255,c[h+1]=v<<24|P>>>8|255,c[h+2]=P<<16|W>>>16|255,c[h+3]=W<<8|255}for(let v=p*4,P=B.length;v<P;v+=3)c[h++]=B[v]<<24|B[v+1]<<16|B[v+2]<<8|255}return{srcPos:d,destPos:h}}function Y(B,d){if(r.FeatureTest.isLittleEndian)for(let c=0,h=B.length;c<h;c++)d[c]=B[c]*65793|4278190080;else for(let c=0,h=B.length;c<h;c++)d[c]=B[c]*16843008|255}}),((f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GlobalWorkerOptions=void 0;const g=Object.create(null);o.GlobalWorkerOptions=g,g.workerPort=null,g.workerSrc=""}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MessageHandler=void 0;var r=g(1);const y={DATA:1,ERROR:2},N={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function O(B){switch(B instanceof Error||typeof B=="object"&&B!==null||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),B.name){case"AbortException":return new r.AbortException(B.message);case"MissingPDFException":return new r.MissingPDFException(B.message);case"PasswordException":return new r.PasswordException(B.message,B.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(B.message,B.status);case"UnknownErrorException":return new r.UnknownErrorException(B.message,B.details);default:return new r.UnknownErrorException(B.message,B.toString())}}class Y{constructor(d,c,h){this.sourceName=d,this.targetName=c,this.comObj=h,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=_=>{const E=_.data;if(E.targetName!==this.sourceName)return;if(E.stream){this.#e(E);return}if(E.callback){const S=E.callbackId,j=this.callbackCapabilities[S];if(!j)throw new Error(`Cannot resolve callback ${S}`);if(delete this.callbackCapabilities[S],E.callback===y.DATA)j.resolve(E.data);else if(E.callback===y.ERROR)j.reject(O(E.reason));else throw new Error("Unexpected callback case");return}const p=this.actionHandler[E.action];if(!p)throw new Error(`Unknown action from worker: ${E.action}`);if(E.callbackId){const S=this.sourceName,j=E.sourceName;new Promise(function(v){v(p(E.data))}).then(function(v){h.postMessage({sourceName:S,targetName:j,callback:y.DATA,callbackId:E.callbackId,data:v})},function(v){h.postMessage({sourceName:S,targetName:j,callback:y.ERROR,callbackId:E.callbackId,reason:O(v)})});return}if(E.streamId){this.#t(E);return}p(E.data)},h.addEventListener("message",this._onComObjOnMessage)}on(d,c){const h=this.actionHandler;if(h[d])throw new Error(`There is already an actionName called "${d}"`);h[d]=c}send(d,c,h){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,data:c},h)}sendWithPromise(d,c,h){const _=this.callbackId++,E=new r.PromiseCapability;this.callbackCapabilities[_]=E;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,callbackId:_,data:c},h)}catch(p){E.reject(p)}return E.promise}sendWithStream(d,c,h,_){const E=this.streamId++,p=this.sourceName,S=this.targetName,j=this.comObj;return new ReadableStream({start:v=>{const P=new r.PromiseCapability;return this.streamControllers[E]={controller:v,startCall:P,pullCall:null,cancelCall:null,isClosed:!1},j.postMessage({sourceName:p,targetName:S,action:d,streamId:E,data:c,desiredSize:v.desiredSize},_),P.promise},pull:v=>{const P=new r.PromiseCapability;return this.streamControllers[E].pullCall=P,j.postMessage({sourceName:p,targetName:S,stream:N.PULL,streamId:E,desiredSize:v.desiredSize}),P.promise},cancel:v=>{(0,r.assert)(v instanceof Error,"cancel must have a valid reason");const P=new r.PromiseCapability;return this.streamControllers[E].cancelCall=P,this.streamControllers[E].isClosed=!0,j.postMessage({sourceName:p,targetName:S,stream:N.CANCEL,streamId:E,reason:O(v)}),P.promise}},h)}#t(d){const c=d.streamId,h=this.sourceName,_=d.sourceName,E=this.comObj,p=this,S=this.actionHandler[d.action],j={enqueue(v,P=1,W){if(this.isCancelled)return;const G=this.desiredSize;this.desiredSize-=P,G>0&&this.desiredSize<=0&&(this.sinkCapability=new r.PromiseCapability,this.ready=this.sinkCapability.promise),E.postMessage({sourceName:h,targetName:_,stream:N.ENQUEUE,streamId:c,chunk:v},W)},close(){this.isCancelled||(this.isCancelled=!0,E.postMessage({sourceName:h,targetName:_,stream:N.CLOSE,streamId:c}),delete p.streamSinks[c])},error(v){(0,r.assert)(v instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,E.postMessage({sourceName:h,targetName:_,stream:N.ERROR,streamId:c,reason:O(v)}))},sinkCapability:new r.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:d.desiredSize,ready:null};j.sinkCapability.resolve(),j.ready=j.sinkCapability.promise,this.streamSinks[c]=j,new Promise(function(v){v(S(d.data,j))}).then(function(){E.postMessage({sourceName:h,targetName:_,stream:N.START_COMPLETE,streamId:c,success:!0})},function(v){E.postMessage({sourceName:h,targetName:_,stream:N.START_COMPLETE,streamId:c,reason:O(v)})})}#e(d){const c=d.streamId,h=this.sourceName,_=d.sourceName,E=this.comObj,p=this.streamControllers[c],S=this.streamSinks[c];switch(d.stream){case N.START_COMPLETE:d.success?p.startCall.resolve():p.startCall.reject(O(d.reason));break;case N.PULL_COMPLETE:d.success?p.pullCall.resolve():p.pullCall.reject(O(d.reason));break;case N.PULL:if(!S){E.postMessage({sourceName:h,targetName:_,stream:N.PULL_COMPLETE,streamId:c,success:!0});break}S.desiredSize<=0&&d.desiredSize>0&&S.sinkCapability.resolve(),S.desiredSize=d.desiredSize,new Promise(function(j){j(S.onPull?.())}).then(function(){E.postMessage({sourceName:h,targetName:_,stream:N.PULL_COMPLETE,streamId:c,success:!0})},function(j){E.postMessage({sourceName:h,targetName:_,stream:N.PULL_COMPLETE,streamId:c,reason:O(j)})});break;case N.ENQUEUE:if((0,r.assert)(p,"enqueue should have stream controller"),p.isClosed)break;p.controller.enqueue(d.chunk);break;case N.CLOSE:if((0,r.assert)(p,"close should have stream controller"),p.isClosed)break;p.isClosed=!0,p.controller.close(),this.#n(p,c);break;case N.ERROR:(0,r.assert)(p,"error should have stream controller"),p.controller.error(O(d.reason)),this.#n(p,c);break;case N.CANCEL_COMPLETE:d.success?p.cancelCall.resolve():p.cancelCall.reject(O(d.reason)),this.#n(p,c);break;case N.CANCEL:if(!S)break;new Promise(function(j){j(S.onCancel?.(O(d.reason)))}).then(function(){E.postMessage({sourceName:h,targetName:_,stream:N.CANCEL_COMPLETE,streamId:c,success:!0})},function(j){E.postMessage({sourceName:h,targetName:_,stream:N.CANCEL_COMPLETE,streamId:c,reason:O(j)})}),S.sinkCapability.reject(O(d.reason)),S.isCancelled=!0,delete this.streamSinks[c];break;default:throw new Error("Unexpected stream case")}}async#n(d,c){await Promise.allSettled([d.startCall?.promise,d.pullCall?.promise,d.cancelCall?.promise]),delete this.streamControllers[c]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}o.MessageHandler=Y}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Metadata=void 0;var r=g(1);class y{#t;#e;constructor({parsedData:O,rawData:Y}){this.#t=O,this.#e=Y}getRaw(){return this.#e}get(O){return this.#t.get(O)??null}getAll(){return(0,r.objectFromMap)(this.#t)}has(O){return this.#t.has(O)}}o.Metadata=y}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OptionalContentConfig=void 0;var r=g(1),y=g(8);const N=Symbol("INTERNAL");class O{#t=!0;constructor(d,c){this.name=d,this.intent=c}get visible(){return this.#t}_setVisible(d,c){d!==N&&(0,r.unreachable)("Internal method `_setVisible` called."),this.#t=c}}class Y{#t=null;#e=new Map;#n=null;#a=null;constructor(d){if(this.name=null,this.creator=null,d!==null){this.name=d.name,this.creator=d.creator,this.#a=d.order;for(const c of d.groups)this.#e.set(c.id,new O(c.name,c.intent));if(d.baseState==="OFF")for(const c of this.#e.values())c._setVisible(N,!1);for(const c of d.on)this.#e.get(c)._setVisible(N,!0);for(const c of d.off)this.#e.get(c)._setVisible(N,!1);this.#n=this.getHash()}}#o(d){const c=d.length;if(c<2)return!0;const h=d[0];for(let _=1;_<c;_++){const E=d[_];let p;if(Array.isArray(E))p=this.#o(E);else if(this.#e.has(E))p=this.#e.get(E).visible;else return(0,r.warn)(`Optional content group not found: ${E}`),!0;switch(h){case"And":if(!p)return!1;break;case"Or":if(p)return!0;break;case"Not":return!p;default:return!0}}return h==="And"}isVisible(d){if(this.#e.size===0)return!0;if(!d)return(0,r.warn)("Optional content group not defined."),!0;if(d.type==="OCG")return this.#e.has(d.id)?this.#e.get(d.id).visible:((0,r.warn)(`Optional content group not found: ${d.id}`),!0);if(d.type==="OCMD"){if(d.expression)return this.#o(d.expression);if(!d.policy||d.policy==="AnyOn"){for(const c of d.ids){if(!this.#e.has(c))return(0,r.warn)(`Optional content group not found: ${c}`),!0;if(this.#e.get(c).visible)return!0}return!1}else if(d.policy==="AllOn"){for(const c of d.ids){if(!this.#e.has(c))return(0,r.warn)(`Optional content group not found: ${c}`),!0;if(!this.#e.get(c).visible)return!1}return!0}else if(d.policy==="AnyOff"){for(const c of d.ids){if(!this.#e.has(c))return(0,r.warn)(`Optional content group not found: ${c}`),!0;if(!this.#e.get(c).visible)return!0}return!1}else if(d.policy==="AllOff"){for(const c of d.ids){if(!this.#e.has(c))return(0,r.warn)(`Optional content group not found: ${c}`),!0;if(this.#e.get(c).visible)return!1}return!0}return(0,r.warn)(`Unknown optional content policy ${d.policy}.`),!0}return(0,r.warn)(`Unknown group type ${d.type}.`),!0}setVisibility(d,c=!0){if(!this.#e.has(d)){(0,r.warn)(`Optional content group not found: ${d}`);return}this.#e.get(d)._setVisible(N,!!c),this.#t=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#e.size?this.#a?this.#a.slice():[...this.#e.keys()]:null}getGroups(){return this.#e.size>0?(0,r.objectFromMap)(this.#e):null}getGroup(d){return this.#e.get(d)||null}getHash(){if(this.#t!==null)return this.#t;const d=new y.MurmurHash3_64;for(const[c,h]of this.#e)d.update(`${c}:${h.visible}`);return this.#t=d.hexdigest()}}o.OptionalContentConfig=Y}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFDataTransportStream=void 0;var r=g(1),y=g(6);class N{constructor({length:d,initialData:c,progressiveDone:h=!1,contentDispositionFilename:_=null,disableRange:E=!1,disableStream:p=!1},S){if((0,r.assert)(S,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=h,this._contentDispositionFilename=_,c?.length>0){const j=c instanceof Uint8Array&&c.byteLength===c.buffer.byteLength?c.buffer:new Uint8Array(c).buffer;this._queuedChunks.push(j)}this._pdfDataRangeTransport=S,this._isStreamingSupported=!p,this._isRangeSupported=!E,this._contentLength=d,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((j,v)=>{this._onReceiveData({begin:j,chunk:v})}),this._pdfDataRangeTransport.addProgressListener((j,v)=>{this._onProgress({loaded:j,total:v})}),this._pdfDataRangeTransport.addProgressiveReadListener(j=>{this._onReceiveData({chunk:j})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:d,chunk:c}){const h=c instanceof Uint8Array&&c.byteLength===c.buffer.byteLength?c.buffer:new Uint8Array(c).buffer;if(d===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(h):this._queuedChunks.push(h);else{const _=this._rangeReaders.some(function(E){return E._begin!==d?!1:(E._enqueue(h),!0)});(0,r.assert)(_,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(d){d.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:d.loaded}):this._fullRequestReader?.onProgress?.({loaded:d.loaded,total:d.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(d){const c=this._rangeReaders.indexOf(d);c>=0&&this._rangeReaders.splice(c,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const d=this._queuedChunks;return this._queuedChunks=null,new O(this,d,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(d,c){if(c<=this._progressiveDataLength)return null;const h=new Y(this,d,c);return this._pdfDataRangeTransport.requestDataRange(d,c),this._rangeReaders.push(h),h}cancelAllRequests(d){this._fullRequestReader?.cancel(d);for(const c of this._rangeReaders.slice(0))c.cancel(d);this._pdfDataRangeTransport.abort()}}o.PDFDataTransportStream=N;class O{constructor(d,c,h=!1,_=null){this._stream=d,this._done=h||!1,this._filename=(0,y.isPdfFile)(_)?_:null,this._queuedChunks=c||[],this._loaded=0;for(const E of this._queuedChunks)this._loaded+=E.byteLength;this._requests=[],this._headersReady=Promise.resolve(),d._fullRequestReader=this,this.onProgress=null}_enqueue(d){this._done||(this._requests.length>0?this._requests.shift().resolve({value:d,done:!1}):this._queuedChunks.push(d),this._loaded+=d.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const d=new r.PromiseCapability;return this._requests.push(d),d.promise}cancel(d){this._done=!0;for(const c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Y{constructor(d,c,h){this._stream=d,this._begin=c,this._end=h,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(d){if(!this._done){if(this._requests.length===0)this._queuedChunk=d;else{this._requests.shift().resolve({value:d,done:!1});for(const h of this._requests)h.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const c=this._queuedChunk;return this._queuedChunk=null,{value:c,done:!1}}if(this._done)return{value:void 0,done:!0};const d=new r.PromiseCapability;return this._requests.push(d),d.promise}cancel(d){this._done=!0;for(const c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFFetchStream=void 0;var r=g(1),y=g(20);function N(h,_,E){return{method:"GET",headers:h,signal:E.signal,mode:"cors",credentials:_?"include":"same-origin",redirect:"follow"}}function O(h){const _=new Headers;for(const E in h){const p=h[E];p!==void 0&&_.append(E,p)}return _}function Y(h){return h instanceof Uint8Array?h.buffer:h instanceof ArrayBuffer?h:((0,r.warn)(`getArrayBuffer - unexpected data format: ${h}`),new Uint8Array(h).buffer)}class B{constructor(_){this.source=_,this.isHttp=/^https?:/i.test(_.url),this.httpHeaders=this.isHttp&&_.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new d(this),this._fullRequestReader}getRangeReader(_,E){if(E<=this._progressiveDataLength)return null;const p=new c(this,_,E);return this._rangeRequestReaders.push(p),p}cancelAllRequests(_){this._fullRequestReader?.cancel(_);for(const E of this._rangeRequestReaders.slice(0))E.cancel(_)}}o.PDFFetchStream=B;class d{constructor(_){this._stream=_,this._reader=null,this._loaded=0,this._filename=null;const E=_.source;this._withCredentials=E.withCredentials||!1,this._contentLength=E.length,this._headersCapability=new r.PromiseCapability,this._disableRange=E.disableRange||!1,this._rangeChunkSize=E.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!E.disableStream,this._isRangeSupported=!E.disableRange,this._headers=O(this._stream.httpHeaders);const p=E.url;fetch(p,N(this._headers,this._withCredentials,this._abortController)).then(S=>{if(!(0,y.validateResponseStatus)(S.status))throw(0,y.createResponseStatusError)(S.status,p);this._reader=S.body.getReader(),this._headersCapability.resolve();const j=W=>S.headers.get(W),{allowRangeRequests:v,suggestedLength:P}=(0,y.validateRangeRequestCapabilities)({getResponseHeader:j,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=v,this._contentLength=P||this._contentLength,this._filename=(0,y.extractFilenameFromHeader)(j),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:_,done:E}=await this._reader.read();return E?{value:_,done:E}:(this._loaded+=_.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:Y(_),done:!1})}cancel(_){this._reader?.cancel(_),this._abortController.abort()}}class c{constructor(_,E,p){this._stream=_,this._reader=null,this._loaded=0;const S=_.source;this._withCredentials=S.withCredentials||!1,this._readCapability=new r.PromiseCapability,this._isStreamingSupported=!S.disableStream,this._abortController=new AbortController,this._headers=O(this._stream.httpHeaders),this._headers.append("Range",`bytes=${E}-${p-1}`);const j=S.url;fetch(j,N(this._headers,this._withCredentials,this._abortController)).then(v=>{if(!(0,y.validateResponseStatus)(v.status))throw(0,y.createResponseStatusError)(v.status,j);this._readCapability.resolve(),this._reader=v.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:_,done:E}=await this._reader.read();return E?{value:_,done:E}:(this._loaded+=_.byteLength,this.onProgress?.({loaded:this._loaded}),{value:Y(_),done:!1})}cancel(_){this._reader?.cancel(_),this._abortController.abort()}}}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createResponseStatusError=B,o.extractFilenameFromHeader=Y,o.validateRangeRequestCapabilities=O,o.validateResponseStatus=d;var r=g(1),y=g(21),N=g(6);function O({getResponseHeader:c,isHttp:h,rangeChunkSize:_,disableRange:E}){const p={allowRangeRequests:!1,suggestedLength:void 0},S=parseInt(c("Content-Length"),10);return!Number.isInteger(S)||(p.suggestedLength=S,S<=2*_)||E||!h||c("Accept-Ranges")!=="bytes"||(c("Content-Encoding")||"identity")!=="identity"||(p.allowRangeRequests=!0),p}function Y(c){const h=c("Content-Disposition");if(h){let _=(0,y.getFilenameFromContentDispositionHeader)(h);if(_.includes("%"))try{_=decodeURIComponent(_)}catch{}if((0,N.isPdfFile)(_))return _}return null}function B(c,h){return c===404||c===0&&h.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+h+'".'):new r.UnexpectedResponseException(`Unexpected server response (${c}) while retrieving PDF "${h}".`,c)}function d(c){return c===200||c===206}}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getFilenameFromContentDispositionHeader=y;var r=g(1);function y(N){let O=!0,Y=B("filename\\*","i").exec(N);if(Y){Y=Y[1];let S=_(Y);return S=unescape(S),S=E(S),S=p(S),c(S)}if(Y=h(N),Y){const S=p(Y);return c(S)}if(Y=B("filename","i").exec(N),Y){Y=Y[1];let S=_(Y);return S=p(S),c(S)}function B(S,j){return new RegExp("(?:^|;)\\s*"+S+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',j)}function d(S,j){if(S){if(!/^[\x00-\xFF]+$/.test(j))return j;try{const v=new TextDecoder(S,{fatal:!0}),P=(0,r.stringToBytes)(j);j=v.decode(P),O=!1}catch{}}return j}function c(S){return O&&/[\x80-\xff]/.test(S)&&(S=d("utf-8",S),O&&(S=d("iso-8859-1",S))),S}function h(S){const j=[];let v;const P=B("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=P.exec(S))!==null;){let[,G,C,F]=v;if(G=parseInt(G,10),G in j){if(G===0)break;continue}j[G]=[C,F]}const W=[];for(let G=0;G<j.length&&G in j;++G){let[C,F]=j[G];F=_(F),C&&(F=unescape(F),G===0&&(F=E(F))),W.push(F)}return W.join("")}function _(S){if(S.startsWith('"')){const j=S.slice(1).split('\\"');for(let v=0;v<j.length;++v){const P=j[v].indexOf('"');P!==-1&&(j[v]=j[v].slice(0,P),j.length=v+1),j[v]=j[v].replaceAll(/\\(.)/g,"$1")}S=j.join('"')}return S}function E(S){const j=S.indexOf("'");if(j===-1)return S;const v=S.slice(0,j),W=S.slice(j+1).replace(/^[^']*'/,"");return d(v,W)}function p(S){return!S.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(S)?S:S.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(j,v,P,W){if(P==="q"||P==="Q")return W=W.replaceAll("_"," "),W=W.replaceAll(/=([0-9a-fA-F]{2})/g,function(G,C){return String.fromCharCode(parseInt(C,16))}),d(v,W);try{W=atob(W)}catch{}return d(v,W)})}return""}}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNetworkStream=void 0;var r=g(1),y=g(20);const N=200,O=206;function Y(_){const E=_.response;return typeof E!="string"?E:(0,r.stringToBytes)(E).buffer}class B{constructor(E,p={}){this.url=E,this.isHttp=/^https?:/i.test(E),this.httpHeaders=this.isHttp&&p.httpHeaders||Object.create(null),this.withCredentials=p.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(E,p,S){const j={begin:E,end:p};for(const v in S)j[v]=S[v];return this.request(j)}requestFull(E){return this.request(E)}request(E){const p=new XMLHttpRequest,S=this.currXhrId++,j=this.pendingRequests[S]={xhr:p};p.open("GET",this.url),p.withCredentials=this.withCredentials;for(const v in this.httpHeaders){const P=this.httpHeaders[v];P!==void 0&&p.setRequestHeader(v,P)}return this.isHttp&&"begin"in E&&"end"in E?(p.setRequestHeader("Range",`bytes=${E.begin}-${E.end-1}`),j.expectedStatus=O):j.expectedStatus=N,p.responseType="arraybuffer",E.onError&&(p.onerror=function(v){E.onError(p.status)}),p.onreadystatechange=this.onStateChange.bind(this,S),p.onprogress=this.onProgress.bind(this,S),j.onHeadersReceived=E.onHeadersReceived,j.onDone=E.onDone,j.onError=E.onError,j.onProgress=E.onProgress,p.send(null),S}onProgress(E,p){const S=this.pendingRequests[E];S&&S.onProgress?.(p)}onStateChange(E,p){const S=this.pendingRequests[E];if(!S)return;const j=S.xhr;if(j.readyState>=2&&S.onHeadersReceived&&(S.onHeadersReceived(),delete S.onHeadersReceived),j.readyState!==4||!(E in this.pendingRequests))return;if(delete this.pendingRequests[E],j.status===0&&this.isHttp){S.onError?.(j.status);return}const v=j.status||N;if(!(v===N&&S.expectedStatus===O)&&v!==S.expectedStatus){S.onError?.(j.status);return}const W=Y(j);if(v===O){const G=j.getResponseHeader("Content-Range"),C=/bytes (\d+)-(\d+)\/(\d+)/.exec(G);S.onDone({begin:parseInt(C[1],10),chunk:W})}else W?S.onDone({begin:0,chunk:W}):S.onError?.(j.status)}getRequestXhr(E){return this.pendingRequests[E].xhr}isPendingRequest(E){return E in this.pendingRequests}abortRequest(E){const p=this.pendingRequests[E].xhr;delete this.pendingRequests[E],p.abort()}}class d{constructor(E){this._source=E,this._manager=new B(E.url,{httpHeaders:E.httpHeaders,withCredentials:E.withCredentials}),this._rangeChunkSize=E.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(E){const p=this._rangeRequestReaders.indexOf(E);p>=0&&this._rangeRequestReaders.splice(p,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new c(this._manager,this._source),this._fullRequestReader}getRangeReader(E,p){const S=new h(this._manager,E,p);return S.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(S),S}cancelAllRequests(E){this._fullRequestReader?.cancel(E);for(const p of this._rangeRequestReaders.slice(0))p.cancel(E)}}o.PDFNetworkStream=d;class c{constructor(E,p){this._manager=E;const S={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=p.url,this._fullRequestId=E.requestFull(S),this._headersReceivedCapability=new r.PromiseCapability,this._disableRange=p.disableRange||!1,this._contentLength=p.length,this._rangeChunkSize=p.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const E=this._fullRequestId,p=this._manager.getRequestXhr(E),S=P=>p.getResponseHeader(P),{allowRangeRequests:j,suggestedLength:v}=(0,y.validateRangeRequestCapabilities)({getResponseHeader:S,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});j&&(this._isRangeSupported=!0),this._contentLength=v||this._contentLength,this._filename=(0,y.extractFilenameFromHeader)(S),this._isRangeSupported&&this._manager.abortRequest(E),this._headersReceivedCapability.resolve()}_onDone(E){if(E&&(this._requests.length>0?this._requests.shift().resolve({value:E.chunk,done:!1}):this._cachedChunks.push(E.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(E){this._storedError=(0,y.createResponseStatusError)(E,this._url),this._headersReceivedCapability.reject(this._storedError);for(const p of this._requests)p.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(E){this.onProgress?.({loaded:E.loaded,total:E.lengthComputable?E.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const E=new r.PromiseCapability;return this._requests.push(E),E.promise}cancel(E){this._done=!0,this._headersReceivedCapability.reject(E);for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class h{constructor(E,p,S){this._manager=E;const j={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=E.url,this._requestId=E.requestRange(p,S,j),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(E){const p=E.chunk;this._requests.length>0?this._requests.shift().resolve({value:p,done:!1}):this._queuedChunk=p,this._done=!0;for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(E){this._storedError=(0,y.createResponseStatusError)(E,this._url);for(const p of this._requests)p.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(E){this.isStreamingSupported||this.onProgress?.({loaded:E.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const p=this._queuedChunk;return this._queuedChunk=null,{value:p,done:!1}}if(this._done)return{value:void 0,done:!0};const E=new r.PromiseCapability;return this._requests.push(E),E.promise}cancel(E){this._done=!0;for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNodeStream=void 0;var r=g(1),y=g(20);const N=/^file:\/\/\/[a-zA-Z]:\//;function O(S){const j=require$$5,v=j.parse(S);return v.protocol==="file:"||v.host?v:/^[a-z]:[/\\]/i.test(S)?j.parse(`file:///${S}`):(v.host||(v.protocol="file:"),v)}class Y{constructor(j){this.source=j,this.url=O(j.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&j.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new E(this):new h(this),this._fullRequestReader}getRangeReader(j,v){if(v<=this._progressiveDataLength)return null;const P=this.isFsUrl?new p(this,j,v):new _(this,j,v);return this._rangeRequestReaders.push(P),P}cancelAllRequests(j){this._fullRequestReader?.cancel(j);for(const v of this._rangeRequestReaders.slice(0))v.cancel(j)}}o.PDFNodeStream=Y;class B{constructor(j){this._url=j.url,this._done=!1,this._storedError=null,this.onProgress=null;const v=j.source;this._contentLength=v.length,this._loaded=0,this._filename=null,this._disableRange=v.disableRange||!1,this._rangeChunkSize=v.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!v.disableStream,this._isRangeSupported=!v.disableRange,this._readableStream=null,this._readCapability=new r.PromiseCapability,this._headersCapability=new r.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const j=this._readableStream.read();return j===null?(this._readCapability=new r.PromiseCapability,this.read()):(this._loaded+=j.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(j).buffer,done:!1})}cancel(j){if(!this._readableStream){this._error(j);return}this._readableStream.destroy(j)}_error(j){this._storedError=j,this._readCapability.resolve()}_setReadableStream(j){this._readableStream=j,j.on("readable",()=>{this._readCapability.resolve()}),j.on("end",()=>{j.destroy(),this._done=!0,this._readCapability.resolve()}),j.on("error",v=>{this._error(v)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class d{constructor(j){this._url=j.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new r.PromiseCapability;const v=j.source;this._isStreamingSupported=!v.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const j=this._readableStream.read();return j===null?(this._readCapability=new r.PromiseCapability,this.read()):(this._loaded+=j.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(j).buffer,done:!1})}cancel(j){if(!this._readableStream){this._error(j);return}this._readableStream.destroy(j)}_error(j){this._storedError=j,this._readCapability.resolve()}_setReadableStream(j){this._readableStream=j,j.on("readable",()=>{this._readCapability.resolve()}),j.on("end",()=>{j.destroy(),this._done=!0,this._readCapability.resolve()}),j.on("error",v=>{this._error(v)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function c(S,j){return{protocol:S.protocol,auth:S.auth,host:S.hostname,port:S.port,path:S.path,method:"GET",headers:j}}class h extends B{constructor(j){super(j);const v=P=>{if(P.statusCode===404){const F=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=F,this._headersCapability.reject(F);return}this._headersCapability.resolve(),this._setReadableStream(P);const W=F=>this._readableStream.headers[F.toLowerCase()],{allowRangeRequests:G,suggestedLength:C}=(0,y.validateRangeRequestCapabilities)({getResponseHeader:W,isHttp:j.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=G,this._contentLength=C||this._contentLength,this._filename=(0,y.extractFilenameFromHeader)(W)};if(this._request=null,this._url.protocol==="http:"){const P=require$$5;this._request=P.request(c(this._url,j.httpHeaders),v)}else{const P=require$$5;this._request=P.request(c(this._url,j.httpHeaders),v)}this._request.on("error",P=>{this._storedError=P,this._headersCapability.reject(P)}),this._request.end()}}class _ extends d{constructor(j,v,P){super(j),this._httpHeaders={};for(const G in j.httpHeaders){const C=j.httpHeaders[G];C!==void 0&&(this._httpHeaders[G]=C)}this._httpHeaders.Range=`bytes=${v}-${P-1}`;const W=G=>{if(G.statusCode===404){const C=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=C;return}this._setReadableStream(G)};if(this._request=null,this._url.protocol==="http:"){const G=require$$5;this._request=G.request(c(this._url,this._httpHeaders),W)}else{const G=require$$5;this._request=G.request(c(this._url,this._httpHeaders),W)}this._request.on("error",G=>{this._storedError=G}),this._request.end()}}class E extends B{constructor(j){super(j);let v=decodeURIComponent(this._url.path);N.test(this._url.href)&&(v=v.replace(/^\//,""));const P=require$$5;P.lstat(v,(W,G)=>{if(W){W.code==="ENOENT"&&(W=new r.MissingPDFException(`Missing PDF "${v}".`)),this._storedError=W,this._headersCapability.reject(W);return}this._contentLength=G.size,this._setReadableStream(P.createReadStream(v)),this._headersCapability.resolve()})}}class p extends d{constructor(j,v,P){super(j);let W=decodeURIComponent(this._url.path);N.test(this._url.href)&&(W=W.replace(/^\//,""));const G=require$$5;this._setReadableStream(G.createReadStream(W,{start:v,end:P-1}))}}}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SVGGraphics=void 0;var r=g(6),y=g(1);const N={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},O="http://www.w3.org/XML/1998/namespace",Y="http://www.w3.org/1999/xlink",B=["butt","round","square"],d=["miter","round","bevel"],c=function(G,C="",F=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!F)return URL.createObjectURL(new Blob([G],{type:C}));const Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let it=`data:${C};base64,`;for(let et=0,bt=G.length;et<bt;et+=3){const gt=G[et]&255,It=G[et+1]&255,Ot=G[et+2]&255,Mt=gt>>2,kt=(gt&3)<<4|It>>4,nt=et+1<bt?(It&15)<<2|Ot>>6:64,q=et+2<bt?Ot&63:64;it+=Q[Mt]+Q[kt]+Q[nt]+Q[q]}return it},h=(function(){const G=new Uint8Array([137,80,78,71,13,10,26,10]),C=12,F=new Int32Array(256);for(let Ot=0;Ot<256;Ot++){let Mt=Ot;for(let kt=0;kt<8;kt++)Mt=Mt&1?3988292384^Mt>>1&2147483647:Mt>>1&2147483647;F[Ot]=Mt}function Q(Ot,Mt,kt){let nt=-1;for(let q=Mt;q<kt;q++){const M=(nt^Ot[q])&255,T=F[M];nt=nt>>>8^T}return nt^-1}function it(Ot,Mt,kt,nt){let q=nt;const M=Mt.length;kt[q]=M>>24&255,kt[q+1]=M>>16&255,kt[q+2]=M>>8&255,kt[q+3]=M&255,q+=4,kt[q]=Ot.charCodeAt(0)&255,kt[q+1]=Ot.charCodeAt(1)&255,kt[q+2]=Ot.charCodeAt(2)&255,kt[q+3]=Ot.charCodeAt(3)&255,q+=4,kt.set(Mt,q),q+=Mt.length;const T=Q(kt,nt+4,q);kt[q]=T>>24&255,kt[q+1]=T>>16&255,kt[q+2]=T>>8&255,kt[q+3]=T&255}function et(Ot,Mt,kt){let nt=1,q=0;for(let M=Mt;M<kt;++M)nt=(nt+(Ot[M]&255))%65521,q=(q+nt)%65521;return q<<16|nt}function bt(Ot){if(!y.isNodeJS)return gt(Ot);try{const Mt=parseInt(process.versions.node)>=8?Ot:Buffer.from(Ot),kt=require$$5.deflateSync(Mt,{level:9});return kt instanceof Uint8Array?kt:new Uint8Array(kt)}catch(Mt){(0,y.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Mt)}return gt(Ot)}function gt(Ot){let Mt=Ot.length;const kt=65535,nt=Math.ceil(Mt/kt),q=new Uint8Array(2+Mt+nt*5+4);let M=0;q[M++]=120,q[M++]=156;let T=0;for(;Mt>kt;)q[M++]=0,q[M++]=255,q[M++]=255,q[M++]=0,q[M++]=0,q.set(Ot.subarray(T,T+kt),M),M+=kt,T+=kt,Mt-=kt;q[M++]=1,q[M++]=Mt&255,q[M++]=Mt>>8&255,q[M++]=~Mt&65535&255,q[M++]=(~Mt&65535)>>8&255,q.set(Ot.subarray(T),M),M+=Ot.length-T;const R=et(Ot,0,Ot.length);return q[M++]=R>>24&255,q[M++]=R>>16&255,q[M++]=R>>8&255,q[M++]=R&255,q}function It(Ot,Mt,kt,nt){const q=Ot.width,M=Ot.height;let T,R,x;const L=Ot.data;switch(Mt){case y.ImageKind.GRAYSCALE_1BPP:R=0,T=1,x=q+7>>3;break;case y.ImageKind.RGB_24BPP:R=2,T=8,x=q*3;break;case y.ImageKind.RGBA_32BPP:R=6,T=8,x=q*4;break;default:throw new Error("invalid format")}const U=new Uint8Array((1+x)*M);let $=0,V=0;for(let at=0;at<M;++at)U[$++]=0,U.set(L.subarray(V,V+x),$),V+=x,$+=x;if(Mt===y.ImageKind.GRAYSCALE_1BPP&&nt){$=0;for(let at=0;at<M;at++){$++;for(let rt=0;rt<x;rt++)U[$++]^=255}}const b=new Uint8Array([q>>24&255,q>>16&255,q>>8&255,q&255,M>>24&255,M>>16&255,M>>8&255,M&255,T,R,0,0,0]),D=bt(U),I=G.length+C*3+b.length+D.length,Z=new Uint8Array(I);let K=0;return Z.set(G,K),K+=G.length,it("IHDR",b,Z,K),K+=C+b.length,it("IDATA",D,Z,K),K+=C+D.length,it("IEND",new Uint8Array(0),Z,K),c(Z,"image/png",kt)}return function(Mt,kt,nt){const q=Mt.kind===void 0?y.ImageKind.GRAYSCALE_1BPP:Mt.kind;return It(Mt,q,kt,nt)}})();class _{constructor(){this.fontSizeScale=1,this.fontWeight=N.fontWeight,this.fontSize=0,this.textMatrix=y.IDENTITY_MATRIX,this.fontMatrix=y.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=y.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=N.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(C,F){this.x=C,this.y=F}}function E(G){let C=[];const F=[];for(const Q of G){if(Q.fn==="save"){C.push({fnId:92,fn:"group",items:[]}),F.push(C),C=C.at(-1).items;continue}Q.fn==="restore"?C=F.pop():C.push(Q)}return C}function p(G){if(Number.isInteger(G))return G.toString();const C=G.toFixed(10);let F=C.length-1;if(C[F]!=="0")return C;do F--;while(C[F]==="0");return C.substring(0,C[F]==="."?F:F+1)}function S(G){if(G[4]===0&&G[5]===0){if(G[1]===0&&G[2]===0)return G[0]===1&&G[3]===1?"":`scale(${p(G[0])} ${p(G[3])})`;if(G[0]===G[3]&&G[1]===-G[2]){const C=Math.acos(G[0])*180/Math.PI;return`rotate(${p(C)})`}}else if(G[0]===1&&G[1]===0&&G[2]===0&&G[3]===1)return`translate(${p(G[4])} ${p(G[5])})`;return`matrix(${p(G[0])} ${p(G[1])} ${p(G[2])} ${p(G[3])} ${p(G[4])} ${p(G[5])})`}let j=0,v=0,P=0;class W{constructor(C,F,Q=!1){(0,r.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new r.DOMSVGFactory,this.current=new _,this.transformMatrix=y.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=C,this.objs=F,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Q,this._operatorIdMapping=[];for(const it in y.OPS)this._operatorIdMapping[y.OPS[it]]=it}getObject(C,F=null){return typeof C=="string"?C.startsWith("g_")?this.commonObjs.get(C):this.objs.get(C):F}save(){this.transformStack.push(this.transformMatrix);const C=this.current;this.extraStack.push(C),this.current=C.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(C){this.save(),this.executeOpTree(C),this.restore()}loadDependencies(C){const F=C.fnArray,Q=C.argsArray;for(let it=0,et=F.length;it<et;it++)if(F[it]===y.OPS.dependency)for(const bt of Q[it]){const gt=bt.startsWith("g_")?this.commonObjs:this.objs,It=new Promise(Ot=>{gt.get(bt,Ot)});this.current.dependencies.push(It)}return Promise.all(this.current.dependencies)}transform(C,F,Q,it,et,bt){const gt=[C,F,Q,it,et,bt];this.transformMatrix=y.Util.transform(this.transformMatrix,gt),this.tgrp=null}getSVG(C,F){this.viewport=F;const Q=this._initialize(F);return this.loadDependencies(C).then(()=>(this.transformMatrix=y.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(C)),Q))}convertOpList(C){const F=this._operatorIdMapping,Q=C.argsArray,it=C.fnArray,et=[];for(let bt=0,gt=it.length;bt<gt;bt++){const It=it[bt];et.push({fnId:It,fn:F[It],args:Q[bt]})}return E(et)}executeOpTree(C){for(const F of C){const Q=F.fn,it=F.fnId,et=F.args;switch(it|0){case y.OPS.beginText:this.beginText();break;case y.OPS.dependency:break;case y.OPS.setLeading:this.setLeading(et);break;case y.OPS.setLeadingMoveText:this.setLeadingMoveText(et[0],et[1]);break;case y.OPS.setFont:this.setFont(et);break;case y.OPS.showText:this.showText(et[0]);break;case y.OPS.showSpacedText:this.showText(et[0]);break;case y.OPS.endText:this.endText();break;case y.OPS.moveText:this.moveText(et[0],et[1]);break;case y.OPS.setCharSpacing:this.setCharSpacing(et[0]);break;case y.OPS.setWordSpacing:this.setWordSpacing(et[0]);break;case y.OPS.setHScale:this.setHScale(et[0]);break;case y.OPS.setTextMatrix:this.setTextMatrix(et[0],et[1],et[2],et[3],et[4],et[5]);break;case y.OPS.setTextRise:this.setTextRise(et[0]);break;case y.OPS.setTextRenderingMode:this.setTextRenderingMode(et[0]);break;case y.OPS.setLineWidth:this.setLineWidth(et[0]);break;case y.OPS.setLineJoin:this.setLineJoin(et[0]);break;case y.OPS.setLineCap:this.setLineCap(et[0]);break;case y.OPS.setMiterLimit:this.setMiterLimit(et[0]);break;case y.OPS.setFillRGBColor:this.setFillRGBColor(et[0],et[1],et[2]);break;case y.OPS.setStrokeRGBColor:this.setStrokeRGBColor(et[0],et[1],et[2]);break;case y.OPS.setStrokeColorN:this.setStrokeColorN(et);break;case y.OPS.setFillColorN:this.setFillColorN(et);break;case y.OPS.shadingFill:this.shadingFill(et[0]);break;case y.OPS.setDash:this.setDash(et[0],et[1]);break;case y.OPS.setRenderingIntent:this.setRenderingIntent(et[0]);break;case y.OPS.setFlatness:this.setFlatness(et[0]);break;case y.OPS.setGState:this.setGState(et[0]);break;case y.OPS.fill:this.fill();break;case y.OPS.eoFill:this.eoFill();break;case y.OPS.stroke:this.stroke();break;case y.OPS.fillStroke:this.fillStroke();break;case y.OPS.eoFillStroke:this.eoFillStroke();break;case y.OPS.clip:this.clip("nonzero");break;case y.OPS.eoClip:this.clip("evenodd");break;case y.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case y.OPS.paintImageXObject:this.paintImageXObject(et[0]);break;case y.OPS.paintInlineImageXObject:this.paintInlineImageXObject(et[0]);break;case y.OPS.paintImageMaskXObject:this.paintImageMaskXObject(et[0]);break;case y.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(et[0],et[1]);break;case y.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case y.OPS.closePath:this.closePath();break;case y.OPS.closeStroke:this.closeStroke();break;case y.OPS.closeFillStroke:this.closeFillStroke();break;case y.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case y.OPS.nextLine:this.nextLine();break;case y.OPS.transform:this.transform(et[0],et[1],et[2],et[3],et[4],et[5]);break;case y.OPS.constructPath:this.constructPath(et[0],et[1]);break;case y.OPS.endPath:this.endPath();break;case 92:this.group(F.items);break;default:(0,y.warn)(`Unimplemented operator ${Q}`);break}}}setWordSpacing(C){this.current.wordSpacing=C}setCharSpacing(C){this.current.charSpacing=C}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(C,F,Q,it,et,bt){const gt=this.current;gt.textMatrix=gt.lineMatrix=[C,F,Q,it,et,bt],gt.textMatrixScale=Math.hypot(C,F),gt.x=gt.lineX=0,gt.y=gt.lineY=0,gt.xcoords=[],gt.ycoords=[],gt.tspan=this.svgFactory.createElement("svg:tspan"),gt.tspan.setAttributeNS(null,"font-family",gt.fontFamily),gt.tspan.setAttributeNS(null,"font-size",`${p(gt.fontSize)}px`),gt.tspan.setAttributeNS(null,"y",p(-gt.y)),gt.txtElement=this.svgFactory.createElement("svg:text"),gt.txtElement.append(gt.tspan)}beginText(){const C=this.current;C.x=C.lineX=0,C.y=C.lineY=0,C.textMatrix=y.IDENTITY_MATRIX,C.lineMatrix=y.IDENTITY_MATRIX,C.textMatrixScale=1,C.tspan=this.svgFactory.createElement("svg:tspan"),C.txtElement=this.svgFactory.createElement("svg:text"),C.txtgrp=this.svgFactory.createElement("svg:g"),C.xcoords=[],C.ycoords=[]}moveText(C,F){const Q=this.current;Q.x=Q.lineX+=C,Q.y=Q.lineY+=F,Q.xcoords=[],Q.ycoords=[],Q.tspan=this.svgFactory.createElement("svg:tspan"),Q.tspan.setAttributeNS(null,"font-family",Q.fontFamily),Q.tspan.setAttributeNS(null,"font-size",`${p(Q.fontSize)}px`),Q.tspan.setAttributeNS(null,"y",p(-Q.y))}showText(C){const F=this.current,Q=F.font,it=F.fontSize;if(it===0)return;const et=F.fontSizeScale,bt=F.charSpacing,gt=F.wordSpacing,It=F.fontDirection,Ot=F.textHScale*It,Mt=Q.vertical,kt=Mt?1:-1,nt=Q.defaultVMetrics,q=it*F.fontMatrix[0];let M=0;for(const x of C){if(x===null){M+=It*gt;continue}else if(typeof x=="number"){M+=kt*x*it/1e3;continue}const L=(x.isSpace?gt:0)+bt,U=x.fontChar;let $,V,b=x.width;if(Mt){let I;const Z=x.vmetric||nt;I=x.vmetric?Z[1]:b*.5,I=-I*q;const K=Z[2]*q;b=Z?-Z[0]:b,$=I/et,V=(M+K)/et}else $=M/et,V=0;(x.isInFont||Q.missingFile)&&(F.xcoords.push(F.x+$),Mt&&F.ycoords.push(-F.y+V),F.tspan.textContent+=U);const D=Mt?b*q-L*It:b*q+L*It;M+=D}F.tspan.setAttributeNS(null,"x",F.xcoords.map(p).join(" ")),Mt?F.tspan.setAttributeNS(null,"y",F.ycoords.map(p).join(" ")):F.tspan.setAttributeNS(null,"y",p(-F.y)),Mt?F.y-=M:F.x+=M*Ot,F.tspan.setAttributeNS(null,"font-family",F.fontFamily),F.tspan.setAttributeNS(null,"font-size",`${p(F.fontSize)}px`),F.fontStyle!==N.fontStyle&&F.tspan.setAttributeNS(null,"font-style",F.fontStyle),F.fontWeight!==N.fontWeight&&F.tspan.setAttributeNS(null,"font-weight",F.fontWeight);const T=F.textRenderingMode&y.TextRenderingMode.FILL_STROKE_MASK;if(T===y.TextRenderingMode.FILL||T===y.TextRenderingMode.FILL_STROKE?(F.fillColor!==N.fillColor&&F.tspan.setAttributeNS(null,"fill",F.fillColor),F.fillAlpha<1&&F.tspan.setAttributeNS(null,"fill-opacity",F.fillAlpha)):F.textRenderingMode===y.TextRenderingMode.ADD_TO_PATH?F.tspan.setAttributeNS(null,"fill","transparent"):F.tspan.setAttributeNS(null,"fill","none"),T===y.TextRenderingMode.STROKE||T===y.TextRenderingMode.FILL_STROKE){const x=1/(F.textMatrixScale||1);this._setStrokeAttributes(F.tspan,x)}let R=F.textMatrix;F.textRise!==0&&(R=R.slice(),R[5]+=F.textRise),F.txtElement.setAttributeNS(null,"transform",`${S(R)} scale(${p(Ot)}, -1)`),F.txtElement.setAttributeNS(O,"xml:space","preserve"),F.txtElement.append(F.tspan),F.txtgrp.append(F.txtElement),this._ensureTransformGroup().append(F.txtElement)}setLeadingMoveText(C,F){this.setLeading(-F),this.moveText(C,F)}addFontStyle(C){if(!C.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const F=c(C.data,C.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${C.loadedName}"; src: url(${F}); }
`}setFont(C){const F=this.current,Q=this.commonObjs.get(C[0]);let it=C[1];F.font=Q,this.embedFonts&&!Q.missingFile&&!this.embeddedFonts[Q.loadedName]&&(this.addFontStyle(Q),this.embeddedFonts[Q.loadedName]=Q),F.fontMatrix=Q.fontMatrix||y.FONT_IDENTITY_MATRIX;let et="normal";Q.black?et="900":Q.bold&&(et="bold");const bt=Q.italic?"italic":"normal";it<0?(it=-it,F.fontDirection=-1):F.fontDirection=1,F.fontSize=it,F.fontFamily=Q.loadedName,F.fontWeight=et,F.fontStyle=bt,F.tspan=this.svgFactory.createElement("svg:tspan"),F.tspan.setAttributeNS(null,"y",p(-F.y)),F.xcoords=[],F.ycoords=[]}endText(){const C=this.current;C.textRenderingMode&y.TextRenderingMode.ADD_TO_PATH_FLAG&&C.txtElement?.hasChildNodes()&&(C.element=C.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(C){C>0&&(this.current.lineWidth=C)}setLineCap(C){this.current.lineCap=B[C]}setLineJoin(C){this.current.lineJoin=d[C]}setMiterLimit(C){this.current.miterLimit=C}setStrokeAlpha(C){this.current.strokeAlpha=C}setStrokeRGBColor(C,F,Q){this.current.strokeColor=y.Util.makeHexColor(C,F,Q)}setFillAlpha(C){this.current.fillAlpha=C}setFillRGBColor(C,F,Q){this.current.fillColor=y.Util.makeHexColor(C,F,Q),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(C){this.current.strokeColor=this._makeColorN_Pattern(C)}setFillColorN(C){this.current.fillColor=this._makeColorN_Pattern(C)}shadingFill(C){const{width:F,height:Q}=this.viewport,it=y.Util.inverseTransform(this.transformMatrix),[et,bt,gt,It]=y.Util.getAxialAlignedBoundingBox([0,0,F,Q],it),Ot=this.svgFactory.createElement("svg:rect");Ot.setAttributeNS(null,"x",et),Ot.setAttributeNS(null,"y",bt),Ot.setAttributeNS(null,"width",gt-et),Ot.setAttributeNS(null,"height",It-bt),Ot.setAttributeNS(null,"fill",this._makeShadingPattern(C)),this.current.fillAlpha<1&&Ot.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Ot)}_makeColorN_Pattern(C){return C[0]==="TilingPattern"?this._makeTilingPattern(C):this._makeShadingPattern(C)}_makeTilingPattern(C){const F=C[1],Q=C[2],it=C[3]||y.IDENTITY_MATRIX,[et,bt,gt,It]=C[4],Ot=C[5],Mt=C[6],kt=C[7],nt=`shading${P++}`,[q,M,T,R]=y.Util.normalizeRect([...y.Util.applyTransform([et,bt],it),...y.Util.applyTransform([gt,It],it)]),[x,L]=y.Util.singularValueDecompose2dScale(it),U=Ot*x,$=Mt*L,V=this.svgFactory.createElement("svg:pattern");V.setAttributeNS(null,"id",nt),V.setAttributeNS(null,"patternUnits","userSpaceOnUse"),V.setAttributeNS(null,"width",U),V.setAttributeNS(null,"height",$),V.setAttributeNS(null,"x",`${q}`),V.setAttributeNS(null,"y",`${M}`);const b=this.svg,D=this.transformMatrix,I=this.current.fillColor,Z=this.current.strokeColor,K=this.svgFactory.create(T-q,R-M);if(this.svg=K,this.transformMatrix=it,kt===2){const at=y.Util.makeHexColor(...F);this.current.fillColor=at,this.current.strokeColor=at}return this.executeOpTree(this.convertOpList(Q)),this.svg=b,this.transformMatrix=D,this.current.fillColor=I,this.current.strokeColor=Z,V.append(K.childNodes[0]),this.defs.append(V),`url(#${nt})`}_makeShadingPattern(C){switch(typeof C=="string"&&(C=this.objs.get(C)),C[0]){case"RadialAxial":const F=`shading${P++}`,Q=C[3];let it;switch(C[1]){case"axial":const et=C[4],bt=C[5];it=this.svgFactory.createElement("svg:linearGradient"),it.setAttributeNS(null,"id",F),it.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),it.setAttributeNS(null,"x1",et[0]),it.setAttributeNS(null,"y1",et[1]),it.setAttributeNS(null,"x2",bt[0]),it.setAttributeNS(null,"y2",bt[1]);break;case"radial":const gt=C[4],It=C[5],Ot=C[6],Mt=C[7];it=this.svgFactory.createElement("svg:radialGradient"),it.setAttributeNS(null,"id",F),it.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),it.setAttributeNS(null,"cx",It[0]),it.setAttributeNS(null,"cy",It[1]),it.setAttributeNS(null,"r",Mt),it.setAttributeNS(null,"fx",gt[0]),it.setAttributeNS(null,"fy",gt[1]),it.setAttributeNS(null,"fr",Ot);break;default:throw new Error(`Unknown RadialAxial type: ${C[1]}`)}for(const et of Q){const bt=this.svgFactory.createElement("svg:stop");bt.setAttributeNS(null,"offset",et[0]),bt.setAttributeNS(null,"stop-color",et[1]),it.append(bt)}return this.defs.append(it),`url(#${F})`;case"Mesh":return(0,y.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${C[0]}`)}}setDash(C,F){this.current.dashArray=C,this.current.dashPhase=F}constructPath(C,F){const Q=this.current;let it=Q.x,et=Q.y,bt=[],gt=0;for(const It of C)switch(It|0){case y.OPS.rectangle:it=F[gt++],et=F[gt++];const Ot=F[gt++],Mt=F[gt++],kt=it+Ot,nt=et+Mt;bt.push("M",p(it),p(et),"L",p(kt),p(et),"L",p(kt),p(nt),"L",p(it),p(nt),"Z");break;case y.OPS.moveTo:it=F[gt++],et=F[gt++],bt.push("M",p(it),p(et));break;case y.OPS.lineTo:it=F[gt++],et=F[gt++],bt.push("L",p(it),p(et));break;case y.OPS.curveTo:it=F[gt+4],et=F[gt+5],bt.push("C",p(F[gt]),p(F[gt+1]),p(F[gt+2]),p(F[gt+3]),p(it),p(et)),gt+=6;break;case y.OPS.curveTo2:bt.push("C",p(it),p(et),p(F[gt]),p(F[gt+1]),p(F[gt+2]),p(F[gt+3])),it=F[gt+2],et=F[gt+3],gt+=4;break;case y.OPS.curveTo3:it=F[gt+2],et=F[gt+3],bt.push("C",p(F[gt]),p(F[gt+1]),p(it),p(et),p(it),p(et)),gt+=4;break;case y.OPS.closePath:bt.push("Z");break}bt=bt.join(" "),Q.path&&C.length>0&&C[0]!==y.OPS.rectangle&&C[0]!==y.OPS.moveTo?bt=Q.path.getAttributeNS(null,"d")+bt:(Q.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Q.path)),Q.path.setAttributeNS(null,"d",bt),Q.path.setAttributeNS(null,"fill","none"),Q.element=Q.path,Q.setCurrentPoint(it,et)}endPath(){const C=this.current;if(C.path=null,!this.pendingClip)return;if(!C.element){this.pendingClip=null;return}const F=`clippath${j++}`,Q=this.svgFactory.createElement("svg:clipPath");Q.setAttributeNS(null,"id",F),Q.setAttributeNS(null,"transform",S(this.transformMatrix));const it=C.element.cloneNode(!0);if(this.pendingClip==="evenodd"?it.setAttributeNS(null,"clip-rule","evenodd"):it.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Q.append(it),this.defs.append(Q),C.activeClipUrl){C.clipGroup=null;for(const et of this.extraStack)et.clipGroup=null;Q.setAttributeNS(null,"clip-path",C.activeClipUrl)}C.activeClipUrl=`url(#${F})`,this.tgrp=null}clip(C){this.pendingClip=C}closePath(){const C=this.current;if(C.path){const F=`${C.path.getAttributeNS(null,"d")}Z`;C.path.setAttributeNS(null,"d",F)}}setLeading(C){this.current.leading=-C}setTextRise(C){this.current.textRise=C}setTextRenderingMode(C){this.current.textRenderingMode=C}setHScale(C){this.current.textHScale=C/100}setRenderingIntent(C){}setFlatness(C){}setGState(C){for(const[F,Q]of C)switch(F){case"LW":this.setLineWidth(Q);break;case"LC":this.setLineCap(Q);break;case"LJ":this.setLineJoin(Q);break;case"ML":this.setMiterLimit(Q);break;case"D":this.setDash(Q[0],Q[1]);break;case"RI":this.setRenderingIntent(Q);break;case"FL":this.setFlatness(Q);break;case"Font":this.setFont(Q);break;case"CA":this.setStrokeAlpha(Q);break;case"ca":this.setFillAlpha(Q);break;default:(0,y.warn)(`Unimplemented graphic state operator ${F}`);break}}fill(){const C=this.current;C.element&&(C.element.setAttributeNS(null,"fill",C.fillColor),C.element.setAttributeNS(null,"fill-opacity",C.fillAlpha),this.endPath())}stroke(){const C=this.current;C.element&&(this._setStrokeAttributes(C.element),C.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(C,F=1){const Q=this.current;let it=Q.dashArray;F!==1&&it.length>0&&(it=it.map(function(et){return F*et})),C.setAttributeNS(null,"stroke",Q.strokeColor),C.setAttributeNS(null,"stroke-opacity",Q.strokeAlpha),C.setAttributeNS(null,"stroke-miterlimit",p(Q.miterLimit)),C.setAttributeNS(null,"stroke-linecap",Q.lineCap),C.setAttributeNS(null,"stroke-linejoin",Q.lineJoin),C.setAttributeNS(null,"stroke-width",p(F*Q.lineWidth)+"px"),C.setAttributeNS(null,"stroke-dasharray",it.map(p).join(" ")),C.setAttributeNS(null,"stroke-dashoffset",p(F*Q.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const C=this.svgFactory.createElement("svg:rect");C.setAttributeNS(null,"x","0"),C.setAttributeNS(null,"y","0"),C.setAttributeNS(null,"width","1px"),C.setAttributeNS(null,"height","1px"),C.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(C)}paintImageXObject(C){const F=this.getObject(C);if(!F){(0,y.warn)(`Dependent image with object ID ${C} is not ready yet`);return}this.paintInlineImageXObject(F)}paintInlineImageXObject(C,F){const Q=C.width,it=C.height,et=h(C,this.forceDataSchema,!!F),bt=this.svgFactory.createElement("svg:rect");bt.setAttributeNS(null,"x","0"),bt.setAttributeNS(null,"y","0"),bt.setAttributeNS(null,"width",p(Q)),bt.setAttributeNS(null,"height",p(it)),this.current.element=bt,this.clip("nonzero");const gt=this.svgFactory.createElement("svg:image");gt.setAttributeNS(Y,"xlink:href",et),gt.setAttributeNS(null,"x","0"),gt.setAttributeNS(null,"y",p(-it)),gt.setAttributeNS(null,"width",p(Q)+"px"),gt.setAttributeNS(null,"height",p(it)+"px"),gt.setAttributeNS(null,"transform",`scale(${p(1/Q)} ${p(-1/it)})`),F?F.append(gt):this._ensureTransformGroup().append(gt)}paintImageMaskXObject(C){const F=this.getObject(C.data,C);if(F.bitmap){(0,y.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const Q=this.current,it=F.width,et=F.height,bt=Q.fillColor;Q.maskId=`mask${v++}`;const gt=this.svgFactory.createElement("svg:mask");gt.setAttributeNS(null,"id",Q.maskId);const It=this.svgFactory.createElement("svg:rect");It.setAttributeNS(null,"x","0"),It.setAttributeNS(null,"y","0"),It.setAttributeNS(null,"width",p(it)),It.setAttributeNS(null,"height",p(et)),It.setAttributeNS(null,"fill",bt),It.setAttributeNS(null,"mask",`url(#${Q.maskId})`),this.defs.append(gt),this._ensureTransformGroup().append(It),this.paintInlineImageXObject(F,gt)}paintFormXObjectBegin(C,F){if(Array.isArray(C)&&C.length===6&&this.transform(C[0],C[1],C[2],C[3],C[4],C[5]),F){const Q=F[2]-F[0],it=F[3]-F[1],et=this.svgFactory.createElement("svg:rect");et.setAttributeNS(null,"x",F[0]),et.setAttributeNS(null,"y",F[1]),et.setAttributeNS(null,"width",p(Q)),et.setAttributeNS(null,"height",p(it)),this.current.element=et,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(C){const F=this.svgFactory.create(C.width,C.height),Q=this.svgFactory.createElement("svg:defs");F.append(Q),this.defs=Q;const it=this.svgFactory.createElement("svg:g");return it.setAttributeNS(null,"transform",S(C.transform)),F.append(it),this.svg=it,F}_ensureClipGroup(){if(!this.current.clipGroup){const C=this.svgFactory.createElement("svg:g");C.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(C),this.current.clipGroup=C}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",S(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}o.SVGGraphics=W}),((f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaText=void 0;class g{static textContent(y){const N=[],O={items:N,styles:Object.create(null)};function Y(B){if(!B)return;let d=null;const c=B.name;if(c==="#text")d=B.value;else if(g.shouldBuildText(c))B?.attributes?.textContent?d=B.attributes.textContent:B.value&&(d=B.value);else return;if(d!==null&&N.push({str:d}),!!B.children)for(const h of B.children)Y(h)}return Y(y),O}static shouldBuildText(y){return!(y==="textarea"||y==="input"||y==="option"||y==="select")}}o.XfaText=g}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TextLayerRenderTask=void 0,o.renderTextLayer=S,o.updateTextLayer=j;var r=g(1),y=g(6);const N=1e5,O=30,Y=.8,B=new Map;function d(v,P){let W;if(P&&r.FeatureTest.isOffscreenCanvasSupported)W=new OffscreenCanvas(v,v).getContext("2d",{alpha:!1});else{const G=document.createElement("canvas");G.width=G.height=v,W=G.getContext("2d",{alpha:!1})}return W}function c(v,P){const W=B.get(v);if(W)return W;const G=d(O,P);G.font=`${O}px ${v}`;const C=G.measureText("");let F=C.fontBoundingBoxAscent,Q=Math.abs(C.fontBoundingBoxDescent);if(F){const et=F/(F+Q);return B.set(v,et),G.canvas.width=G.canvas.height=0,et}G.strokeStyle="red",G.clearRect(0,0,O,O),G.strokeText("g",0,0);let it=G.getImageData(0,0,O,O).data;Q=0;for(let et=it.length-1-3;et>=0;et-=4)if(it[et]>0){Q=Math.ceil(et/4/O);break}G.clearRect(0,0,O,O),G.strokeText("A",0,O),it=G.getImageData(0,0,O,O).data,F=0;for(let et=0,bt=it.length;et<bt;et+=4)if(it[et]>0){F=O-Math.floor(et/4/O);break}if(G.canvas.width=G.canvas.height=0,F){const et=F/(F+Q);return B.set(v,et),et}return B.set(v,Y),Y}function h(v,P,W){const G=document.createElement("span"),C={angle:0,canvasWidth:0,hasText:P.str!=="",hasEOL:P.hasEOL,fontSize:0};v._textDivs.push(G);const F=r.Util.transform(v._transform,P.transform);let Q=Math.atan2(F[1],F[0]);const it=W[P.fontName];it.vertical&&(Q+=Math.PI/2);const et=Math.hypot(F[2],F[3]),bt=et*c(it.fontFamily,v._isOffscreenCanvasSupported);let gt,It;Q===0?(gt=F[4],It=F[5]-bt):(gt=F[4]+bt*Math.sin(Q),It=F[5]-bt*Math.cos(Q));const Ot="calc(var(--scale-factor)*",Mt=G.style;v._container===v._rootContainer?(Mt.left=`${(100*gt/v._pageWidth).toFixed(2)}%`,Mt.top=`${(100*It/v._pageHeight).toFixed(2)}%`):(Mt.left=`${Ot}${gt.toFixed(2)}px)`,Mt.top=`${Ot}${It.toFixed(2)}px)`),Mt.fontSize=`${Ot}${et.toFixed(2)}px)`,Mt.fontFamily=it.fontFamily,C.fontSize=et,G.setAttribute("role","presentation"),G.textContent=P.str,G.dir=P.dir,v._fontInspectorEnabled&&(G.dataset.fontName=P.fontName),Q!==0&&(C.angle=Q*(180/Math.PI));let kt=!1;if(P.str.length>1)kt=!0;else if(P.str!==" "&&P.transform[0]!==P.transform[3]){const nt=Math.abs(P.transform[0]),q=Math.abs(P.transform[3]);nt!==q&&Math.max(nt,q)/Math.min(nt,q)>1.5&&(kt=!0)}kt&&(C.canvasWidth=it.vertical?P.height:P.width),v._textDivProperties.set(G,C),v._isReadableStream&&v._layoutText(G)}function _(v){const{div:P,scale:W,properties:G,ctx:C,prevFontSize:F,prevFontFamily:Q}=v,{style:it}=P;let et="";if(G.canvasWidth!==0&&G.hasText){const{fontFamily:bt}=it,{canvasWidth:gt,fontSize:It}=G;(F!==It||Q!==bt)&&(C.font=`${It*W}px ${bt}`,v.prevFontSize=It,v.prevFontFamily=bt);const{width:Ot}=C.measureText(P.textContent);Ot>0&&(et=`scaleX(${gt*W/Ot})`)}G.angle!==0&&(et=`rotate(${G.angle}deg) ${et}`),et.length>0&&(it.transform=et)}function E(v){if(v._canceled)return;const P=v._textDivs,W=v._capability;if(P.length>N){W.resolve();return}if(!v._isReadableStream)for(const C of P)v._layoutText(C);W.resolve()}class p{constructor({textContentSource:P,container:W,viewport:G,textDivs:C,textDivProperties:F,textContentItemsStr:Q,isOffscreenCanvasSupported:it}){this._textContentSource=P,this._isReadableStream=P instanceof ReadableStream,this._container=this._rootContainer=W,this._textDivs=C||[],this._textContentItemsStr=Q||[],this._isOffscreenCanvasSupported=it,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=F||new WeakMap,this._canceled=!1,this._capability=new r.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:G.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:d(0,it)};const{pageWidth:et,pageHeight:bt,pageX:gt,pageY:It}=G.rawDims;this._transform=[1,0,0,-1,-gt,It+bt],this._pageWidth=et,this._pageHeight=bt,(0,y.setLayerDimensions)(W,G),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new r.AbortException("TextLayer task cancelled."))}_processItems(P,W){for(const G of P){if(G.str===void 0){if(G.type==="beginMarkedContentProps"||G.type==="beginMarkedContent"){const C=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),G.id!==null&&this._container.setAttribute("id",`${G.id}`),C.append(this._container)}else G.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(G.str),h(this,G,W)}}_layoutText(P){const W=this._layoutTextParams.properties=this._textDivProperties.get(P);if(this._layoutTextParams.div=P,_(this._layoutTextParams),W.hasText&&this._container.append(P),W.hasEOL){const G=document.createElement("br");G.setAttribute("role","presentation"),this._container.append(G)}}_render(){const P=new r.PromiseCapability;let W=Object.create(null);if(this._isReadableStream){const G=()=>{this._reader.read().then(({value:C,done:F})=>{if(F){P.resolve();return}Object.assign(W,C.styles),this._processItems(C.items,W),G()},P.reject)};this._reader=this._textContentSource.getReader(),G()}else if(this._textContentSource){const{items:G,styles:C}=this._textContentSource;this._processItems(G,C),P.resolve()}else throw new Error('No "textContentSource" parameter specified.');P.promise.then(()=>{W=null,E(this)},this._capability.reject)}}o.TextLayerRenderTask=p;function S(v){!v.textContentSource&&(v.textContent||v.textContentStream)&&((0,y.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),v.textContentSource=v.textContent||v.textContentStream);const{container:P,viewport:W}=v,G=getComputedStyle(P),C=G.getPropertyValue("visibility"),F=parseFloat(G.getPropertyValue("--scale-factor"));C==="visible"&&(!F||Math.abs(F-W.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const Q=new p(v);return Q._render(),Q}function j({container:v,viewport:P,textDivs:W,textDivProperties:G,isOffscreenCanvasSupported:C,mustRotate:F=!0,mustRescale:Q=!0}){if(F&&(0,y.setLayerDimensions)(v,{rotation:P.rotation}),Q){const it=d(0,C),bt={prevFontSize:null,prevFontFamily:null,div:null,scale:P.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:it};for(const gt of W)bt.properties=G.get(gt),bt.div=gt,_(bt)}}}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationEditorLayer=void 0;var r=g(1),y=g(4),N=g(28),O=g(33),Y=g(6),B=g(34);class d{#t;#e=!1;#n=null;#a=this.pointerup.bind(this);#o=this.pointerdown.bind(this);#r=new Map;#s=!1;#l=!1;#c=!1;#i;static _initialized=!1;constructor({uiManager:h,pageIndex:_,div:E,accessibilityManager:p,annotationLayer:S,viewport:j,l10n:v}){const P=[N.FreeTextEditor,O.InkEditor,B.StampEditor];if(!d._initialized){d._initialized=!0;for(const W of P)W.initialize(v)}h.registerEditorTypes(P),this.#i=h,this.pageIndex=_,this.div=E,this.#t=p,this.#n=S,this.viewport=j,this.#i.addLayer(this)}get isEmpty(){return this.#r.size===0}updateToolbar(h){this.#i.updateToolbar(h)}updateMode(h=this.#i.getMode()){this.#p(),h===r.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),h!==r.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",h===r.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",h===r.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",h===r.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(h){if(!h&&this.#i.getMode()!==r.AnnotationEditorType.INK)return;if(!h){for(const E of this.#r.values())if(E.isEmpty()){E.setInBackground();return}}this.#d({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(h){this.#i.setEditingState(h)}addCommands(h){this.#i.addCommands(h)}enable(){this.div.style.pointerEvents="auto";const h=new Set;for(const E of this.#r.values())E.enableEditing(),E.annotationElementId&&h.add(E.annotationElementId);if(!this.#n)return;const _=this.#n.getEditableAnnotations();for(const E of _){if(E.hide(),this.#i.isDeletedAnnotationElement(E.data.id)||h.has(E.data.id))continue;const p=this.deserialize(E);p&&(this.addOrRebuild(p),p.enableEditing())}}disable(){this.#c=!0,this.div.style.pointerEvents="none";const h=new Set;for(const _ of this.#r.values()){if(_.disableEditing(),!_.annotationElementId||_.serialize()!==null){h.add(_.annotationElementId);continue}this.getEditableAnnotation(_.annotationElementId)?.show(),_.remove()}if(this.#n){const _=this.#n.getEditableAnnotations();for(const E of _){const{id:p}=E.data;h.has(p)||this.#i.isDeletedAnnotationElement(p)||E.show()}}this.#p(),this.isEmpty&&(this.div.hidden=!0),this.#c=!1}getEditableAnnotation(h){return this.#n?.getEditableAnnotation(h)||null}setActiveEditor(h){this.#i.getActive()!==h&&this.#i.setActiveEditor(h)}enableClick(){this.div.addEventListener("pointerdown",this.#o),this.div.addEventListener("pointerup",this.#a)}disableClick(){this.div.removeEventListener("pointerdown",this.#o),this.div.removeEventListener("pointerup",this.#a)}attach(h){this.#r.set(h.id,h);const{annotationElementId:_}=h;_&&this.#i.isDeletedAnnotationElement(_)&&this.#i.removeDeletedAnnotationElement(h)}detach(h){this.#r.delete(h.id),this.#t?.removePointerInTextLayer(h.contentDiv),!this.#c&&h.annotationElementId&&this.#i.addDeletedAnnotationElement(h)}remove(h){this.detach(h),this.#i.removeEditor(h),h.div.contains(document.activeElement)&&setTimeout(()=>{this.#i.focusMainContainer()},0),h.div.remove(),h.isAttachedToDOM=!1,this.#l||this.addInkEditorIfNeeded(!1)}changeParent(h){h.parent!==this&&(h.annotationElementId&&(this.#i.addDeletedAnnotationElement(h.annotationElementId),y.AnnotationEditor.deleteAnnotationElement(h),h.annotationElementId=null),this.attach(h),h.parent?.detach(h),h.setParent(this),h.div&&h.isAttachedToDOM&&(h.div.remove(),this.div.append(h.div)))}add(h){if(this.changeParent(h),this.#i.addEditor(h),this.attach(h),!h.isAttachedToDOM){const _=h.render();this.div.append(_),h.isAttachedToDOM=!0}h.fixAndSetPosition(),h.onceAdded(),this.#i.addToAnnotationStorage(h)}moveEditorInDOM(h){if(!h.isAttachedToDOM)return;const{activeElement:_}=document;h.div.contains(_)&&(h._focusEventsAllowed=!1,setTimeout(()=>{h.div.contains(document.activeElement)?h._focusEventsAllowed=!0:(h.div.addEventListener("focusin",()=>{h._focusEventsAllowed=!0},{once:!0}),_.focus())},0)),h._structTreeParentId=this.#t?.moveElementInDOM(this.div,h.div,h.contentDiv,!0)}addOrRebuild(h){h.needsToBeRebuilt()?h.rebuild():this.add(h)}addUndoableEditor(h){const _=()=>h._uiManager.rebuild(h),E=()=>{h.remove()};this.addCommands({cmd:_,undo:E,mustExec:!1})}getNextId(){return this.#i.getId()}#f(h){switch(this.#i.getMode()){case r.AnnotationEditorType.FREETEXT:return new N.FreeTextEditor(h);case r.AnnotationEditorType.INK:return new O.InkEditor(h);case r.AnnotationEditorType.STAMP:return new B.StampEditor(h)}return null}pasteEditor(h,_){this.#i.updateToolbar(h),this.#i.updateMode(h);const{offsetX:E,offsetY:p}=this.#h(),S=this.getNextId(),j=this.#f({parent:this,id:S,x:E,y:p,uiManager:this.#i,isCentered:!0,..._});j&&this.add(j)}deserialize(h){switch(h.annotationType??h.annotationEditorType){case r.AnnotationEditorType.FREETEXT:return N.FreeTextEditor.deserialize(h,this,this.#i);case r.AnnotationEditorType.INK:return O.InkEditor.deserialize(h,this,this.#i);case r.AnnotationEditorType.STAMP:return B.StampEditor.deserialize(h,this,this.#i)}return null}#d(h,_){const E=this.getNextId(),p=this.#f({parent:this,id:E,x:h.offsetX,y:h.offsetY,uiManager:this.#i,isCentered:_});return p&&this.add(p),p}#h(){const{x:h,y:_,width:E,height:p}=this.div.getBoundingClientRect(),S=Math.max(0,h),j=Math.max(0,_),v=Math.min(window.innerWidth,h+E),P=Math.min(window.innerHeight,_+p),W=(S+v)/2-h,G=(j+P)/2-_,[C,F]=this.viewport.rotation%180===0?[W,G]:[G,W];return{offsetX:C,offsetY:F}}addNewEditor(){this.#d(this.#h(),!0)}setSelected(h){this.#i.setSelected(h)}toggleSelected(h){this.#i.toggleSelected(h)}isSelected(h){return this.#i.isSelected(h)}unselect(h){this.#i.unselect(h)}pointerup(h){const{isMac:_}=r.FeatureTest.platform;if(!(h.button!==0||h.ctrlKey&&_)&&h.target===this.div&&this.#s){if(this.#s=!1,!this.#e){this.#e=!0;return}if(this.#i.getMode()===r.AnnotationEditorType.STAMP){this.#i.unselectAll();return}this.#d(h,!1)}}pointerdown(h){if(this.#s){this.#s=!1;return}const{isMac:_}=r.FeatureTest.platform;if(h.button!==0||h.ctrlKey&&_||h.target!==this.div)return;this.#s=!0;const E=this.#i.getActive();this.#e=!E||E.isEmpty()}findNewParent(h,_,E){const p=this.#i.findParent(_,E);return p===null||p===this?!1:(p.changeParent(h),!0)}destroy(){this.#i.getActive()?.parent===this&&(this.#i.commitOrRemove(),this.#i.setActiveEditor(null));for(const h of this.#r.values())this.#t?.removePointerInTextLayer(h.contentDiv),h.setParent(null),h.isAttachedToDOM=!1,h.div.remove();this.div=null,this.#r.clear(),this.#i.removeLayer(this)}#p(){this.#l=!0;for(const h of this.#r.values())h.isEmpty()&&h.remove();this.#l=!1}render({viewport:h}){this.viewport=h,(0,Y.setLayerDimensions)(this.div,h);for(const _ of this.#i.getEditors(this.pageIndex))this.add(_);this.updateMode()}update({viewport:h}){this.#i.commitOrRemove(),this.viewport=h,(0,Y.setLayerDimensions)(this.div,{rotation:h.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:h,pageHeight:_}=this.viewport.rawDims;return[h,_]}}o.AnnotationEditorLayer=d}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FreeTextEditor=void 0;var r=g(1),y=g(5),N=g(4),O=g(29);class Y extends N.AnnotationEditor{#t=this.editorDivBlur.bind(this);#e=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#a=this.editorDivKeydown.bind(this);#o;#r="";#s=`${this.id}-editor`;#l;#c=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const d=Y.prototype,c=E=>E.isEmpty(),h=y.AnnotationEditorUIManager.TRANSLATE_SMALL,_=y.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,r.shadow)(this,"_keyboardManager",new y.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],d.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],d.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],d._translateEmpty,{args:[-h,0],checker:c}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],d._translateEmpty,{args:[-_,0],checker:c}],[["ArrowRight","mac+ArrowRight"],d._translateEmpty,{args:[h,0],checker:c}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],d._translateEmpty,{args:[_,0],checker:c}],[["ArrowUp","mac+ArrowUp"],d._translateEmpty,{args:[0,-h],checker:c}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],d._translateEmpty,{args:[0,-_],checker:c}],[["ArrowDown","mac+ArrowDown"],d._translateEmpty,{args:[0,h],checker:c}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],d._translateEmpty,{args:[0,_],checker:c}]]))}static _type="freetext";constructor(d){super({...d,name:"freeTextEditor"}),this.#o=d.color||Y._defaultColor||N.AnnotationEditor._defaultLineColor,this.#l=d.fontSize||Y._defaultFontSize}static initialize(d){N.AnnotationEditor.initialize(d,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const c=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(c.getPropertyValue("--freetext-padding"))}static updateDefaultParams(d,c){switch(d){case r.AnnotationEditorParamsType.FREETEXT_SIZE:Y._defaultFontSize=c;break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:Y._defaultColor=c;break}}updateParams(d,c){switch(d){case r.AnnotationEditorParamsType.FREETEXT_SIZE:this.#i(c);break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:this.#f(c);break}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,Y._defaultFontSize],[r.AnnotationEditorParamsType.FREETEXT_COLOR,Y._defaultColor||N.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,this.#l],[r.AnnotationEditorParamsType.FREETEXT_COLOR,this.#o]]}#i(d){const c=_=>{this.editorDiv.style.fontSize=`calc(${_}px * var(--scale-factor))`,this.translate(0,-(_-this.#l)*this.parentScale),this.#l=_,this.#h()},h=this.#l;this.addCommands({cmd:()=>{c(d)},undo:()=>{c(h)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#f(d){const c=this.#o;this.addCommands({cmd:()=>{this.#o=this.editorDiv.style.color=d},undo:()=>{this.#o=this.editorDiv.style.color=c},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(d,c){this._uiManager.translateSelectedEditors(d,c,!0)}getInitialTranslation(){const d=this.parentScale;return[-Y._internalPadding*d,-(Y._internalPadding+this.#l)*d]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(r.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#a),this.editorDiv.addEventListener("focus",this.#e),this.editorDiv.addEventListener("blur",this.#t),this.editorDiv.addEventListener("input",this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#s),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#a),this.editorDiv.removeEventListener("focus",this.#e),this.editorDiv.removeEventListener("blur",this.#t),this.editorDiv.removeEventListener("input",this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(d){this._focusEventsAllowed&&(super.focusin(d),d.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#g();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#d(){const d=this.editorDiv.getElementsByTagName("div");if(d.length===0)return this.editorDiv.innerText;const c=[];for(const h of d)c.push(h.innerText.replace(/\r\n?|\n/,""));return c.join(`
`)}#h(){const[d,c]=this.parentDimensions;let h;if(this.isAttachedToDOM)h=this.div.getBoundingClientRect();else{const{currentLayer:_,div:E}=this,p=E.style.display;E.style.display="hidden",_.div.append(this.div),h=E.getBoundingClientRect(),E.remove(),E.style.display=p}this.rotation%180===this.parentRotation%180?(this.width=h.width/d,this.height=h.height/c):(this.width=h.height/d,this.height=h.width/c),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const d=this.#r,c=this.#r=this.#d().trimEnd();if(d===c)return;const h=_=>{if(this.#r=_,!_){this.remove();return}this.#p(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{h(c)},undo:()=>{h(d)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(d){this.enterInEditMode()}keydown(d){d.target===this.div&&d.key==="Enter"&&(this.enterInEditMode(),d.preventDefault())}editorDivKeydown(d){Y._keyboardManager.exec(this,d)}editorDivFocus(d){this.isEditing=!0}editorDivBlur(d){this.isEditing=!1}editorDivInput(d){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let d,c;this.width&&(d=this.x,c=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#s),this.enableEditing(),N.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(_=>this.editorDiv?.setAttribute("aria-label",_)),N.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(_=>this.editorDiv?.setAttribute("default-content",_)),this.editorDiv.contentEditable=!0;const{style:h}=this.editorDiv;if(h.fontSize=`calc(${this.#l}px * var(--scale-factor))`,h.color=this.#o,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,y.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[_,E]=this.parentDimensions;if(this.annotationElementId){const{position:p}=this.#c;let[S,j]=this.getInitialTranslation();[S,j]=this.pageTranslationToScreen(S,j);const[v,P]=this.pageDimensions,[W,G]=this.pageTranslation;let C,F;switch(this.rotation){case 0:C=d+(p[0]-W)/v,F=c+this.height-(p[1]-G)/P;break;case 90:C=d+(p[0]-W)/v,F=c-(p[1]-G)/P,[S,j]=[j,-S];break;case 180:C=d-this.width+(p[0]-W)/v,F=c-(p[1]-G)/P,[S,j]=[-S,-j];break;case 270:C=d+(p[0]-W-this.height*P)/v,F=c+(p[1]-G-this.width*v)/P,[S,j]=[-j,S];break}this.setAt(C*_,F*E,S,j)}else this.setAt(d*_,c*E,this.width*_,this.height*E);this.#p(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#p(){if(this.editorDiv.replaceChildren(),!!this.#r)for(const d of this.#r.split(`
`)){const c=document.createElement("div");c.append(d?document.createTextNode(d):document.createElement("br")),this.editorDiv.append(c)}}get contentDiv(){return this.editorDiv}static deserialize(d,c,h){let _=null;if(d instanceof O.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:p,fontColor:S},rect:j,rotation:v,id:P},textContent:W,textPosition:G,parent:{page:{pageNumber:C}}}=d;if(!W||W.length===0)return null;_=d={annotationType:r.AnnotationEditorType.FREETEXT,color:Array.from(S),fontSize:p,value:W.join(`
`),position:G,pageIndex:C-1,rect:j,rotation:v,id:P,deleted:!1}}const E=super.deserialize(d,c,h);return E.#l=d.fontSize,E.#o=r.Util.makeHexColor(...d.color),E.#r=d.value,E.annotationElementId=d.id||null,E.#c=_,E}serialize(d=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const c=Y._internalPadding*this.parentScale,h=this.getRect(c,c),_=N.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#o),E={annotationType:r.AnnotationEditorType.FREETEXT,color:_,fontSize:this.#l,value:this.#r,pageIndex:this.pageIndex,rect:h,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return d?E:this.annotationElementId&&!this.#y(E)?null:(E.id=this.annotationElementId,E)}#y(d){const{value:c,fontSize:h,color:_,rect:E,pageIndex:p}=this.#c;return d.value!==c||d.fontSize!==h||d.rect.some((S,j)=>Math.abs(S-E[j])>=1)||d.color.some((S,j)=>S!==_[j])||d.pageIndex!==p}#g(d=!1){if(!this.annotationElementId)return;if(this.#h(),!d&&(this.width===0||this.height===0)){setTimeout(()=>this.#g(!0),0);return}const c=Y._internalPadding*this.parentScale;this.#c.rect=this.getRect(c,c)}}o.FreeTextEditor=Y}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.StampAnnotationElement=o.InkAnnotationElement=o.FreeTextAnnotationElement=o.AnnotationLayer=void 0;var r=g(1),y=g(6),N=g(3),O=g(30),Y=g(31),B=g(32);const d=1e3,c=9,h=new WeakSet;function _(V){return{width:V[2]-V[0],height:V[3]-V[1]}}class E{static create(b){switch(b.data.annotationType){case r.AnnotationType.LINK:return new S(b);case r.AnnotationType.TEXT:return new j(b);case r.AnnotationType.WIDGET:switch(b.data.fieldType){case"Tx":return new P(b);case"Btn":return b.data.radioButton?new C(b):b.data.checkBox?new G(b):new F(b);case"Ch":return new Q(b);case"Sig":return new W(b)}return new v(b);case r.AnnotationType.POPUP:return new it(b);case r.AnnotationType.FREETEXT:return new bt(b);case r.AnnotationType.LINE:return new gt(b);case r.AnnotationType.SQUARE:return new It(b);case r.AnnotationType.CIRCLE:return new Ot(b);case r.AnnotationType.POLYLINE:return new Mt(b);case r.AnnotationType.CARET:return new nt(b);case r.AnnotationType.INK:return new q(b);case r.AnnotationType.POLYGON:return new kt(b);case r.AnnotationType.HIGHLIGHT:return new M(b);case r.AnnotationType.UNDERLINE:return new T(b);case r.AnnotationType.SQUIGGLY:return new R(b);case r.AnnotationType.STRIKEOUT:return new x(b);case r.AnnotationType.STAMP:return new L(b);case r.AnnotationType.FILEATTACHMENT:return new U(b);default:return new p(b)}}}class p{#t=!1;constructor(b,{isRenderable:D=!1,ignoreBorder:I=!1,createQuadrilaterals:Z=!1}={}){this.isRenderable=D,this.data=b.data,this.layer=b.layer,this.linkService=b.linkService,this.downloadManager=b.downloadManager,this.imageResourcesPath=b.imageResourcesPath,this.renderForms=b.renderForms,this.svgFactory=b.svgFactory,this.annotationStorage=b.annotationStorage,this.enableScripting=b.enableScripting,this.hasJSActions=b.hasJSActions,this._fieldObjects=b.fieldObjects,this.parent=b.parent,D&&(this.container=this._createContainer(I)),Z&&this._createQuadrilaterals()}static _hasPopupData({titleObj:b,contentsObj:D,richText:I}){return!!(b?.str||D?.str||I?.str)}get hasPopupData(){return p._hasPopupData(this.data)}_createContainer(b){const{data:D,parent:{page:I,viewport:Z}}=this,K=document.createElement("section");K.setAttribute("data-annotation-id",D.id),this instanceof v||(K.tabIndex=d),K.style.zIndex=this.parent.zIndex++,this.data.popupRef&&K.setAttribute("aria-haspopup","dialog"),D.noRotate&&K.classList.add("norotate");const{pageWidth:at,pageHeight:rt,pageX:Rt,pageY:Xt}=Z.rawDims;if(!D.rect||this instanceof it){const{rotation:Ut}=D;return!D.hasOwnCanvas&&Ut!==0&&this.setRotation(Ut,K),K}const{width:wt,height:Dt}=_(D.rect),Ft=r.Util.normalizeRect([D.rect[0],I.view[3]-D.rect[1]+I.view[1],D.rect[2],I.view[3]-D.rect[3]+I.view[1]]);if(!b&&D.borderStyle.width>0){K.style.borderWidth=`${D.borderStyle.width}px`;const Ut=D.borderStyle.horizontalCornerRadius,Qt=D.borderStyle.verticalCornerRadius;if(Ut>0||Qt>0){const ie=`calc(${Ut}px * var(--scale-factor)) / calc(${Qt}px * var(--scale-factor))`;K.style.borderRadius=ie}else if(this instanceof C){const ie=`calc(${wt}px * var(--scale-factor)) / calc(${Dt}px * var(--scale-factor))`;K.style.borderRadius=ie}switch(D.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:K.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:K.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:K.style.borderBottomStyle="solid";break}const $t=D.borderColor||null;$t?(this.#t=!0,K.style.borderColor=r.Util.makeHexColor($t[0]|0,$t[1]|0,$t[2]|0)):K.style.borderWidth=0}K.style.left=`${100*(Ft[0]-Rt)/at}%`,K.style.top=`${100*(Ft[1]-Xt)/rt}%`;const{rotation:Lt}=D;return D.hasOwnCanvas||Lt===0?(K.style.width=`${100*wt/at}%`,K.style.height=`${100*Dt/rt}%`):this.setRotation(Lt,K),K}setRotation(b,D=this.container){if(!this.data.rect)return;const{pageWidth:I,pageHeight:Z}=this.parent.viewport.rawDims,{width:K,height:at}=_(this.data.rect);let rt,Rt;b%180===0?(rt=100*K/I,Rt=100*at/Z):(rt=100*at/I,Rt=100*K/Z),D.style.width=`${rt}%`,D.style.height=`${Rt}%`,D.setAttribute("data-main-rotation",(360-b)%360)}get _commonActions(){const b=(D,I,Z)=>{const K=Z.detail[D],at=K[0],rt=K.slice(1);Z.target.style[I]=O.ColorConverters[`${at}_HTML`](rt),this.annotationStorage.setValue(this.data.id,{[I]:O.ColorConverters[`${at}_rgb`](rt)})};return(0,r.shadow)(this,"_commonActions",{display:D=>{const{display:I}=D.detail,Z=I%2===1;this.container.style.visibility=Z?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Z,noPrint:I===1||I===2})},print:D=>{this.annotationStorage.setValue(this.data.id,{noPrint:!D.detail.print})},hidden:D=>{const{hidden:I}=D.detail;this.container.style.visibility=I?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:I,noView:I})},focus:D=>{setTimeout(()=>D.target.focus({preventScroll:!1}),0)},userName:D=>{D.target.title=D.detail.userName},readonly:D=>{D.target.disabled=D.detail.readonly},required:D=>{this._setRequired(D.target,D.detail.required)},bgColor:D=>{b("bgColor","backgroundColor",D)},fillColor:D=>{b("fillColor","backgroundColor",D)},fgColor:D=>{b("fgColor","color",D)},textColor:D=>{b("textColor","color",D)},borderColor:D=>{b("borderColor","borderColor",D)},strokeColor:D=>{b("strokeColor","borderColor",D)},rotation:D=>{const I=D.detail.rotation;this.setRotation(I),this.annotationStorage.setValue(this.data.id,{rotation:I})}})}_dispatchEventFromSandbox(b,D){const I=this._commonActions;for(const Z of Object.keys(D.detail))(b[Z]||I[Z])?.(D)}_setDefaultPropertiesFromJS(b){if(!this.enableScripting)return;const D=this.annotationStorage.getRawValue(this.data.id);if(!D)return;const I=this._commonActions;for(const[Z,K]of Object.entries(D)){const at=I[Z];if(at){const rt={detail:{[Z]:K},target:b};at(rt),delete D[Z]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:b}=this.data;if(!b)return;const[D,I,Z,K]=this.data.rect;if(b.length===1){const[,{x:Qt,y:$t},{x:ie,y:le}]=b[0];if(Z===Qt&&K===$t&&D===ie&&I===le)return}const{style:at}=this.container;let rt;if(this.#t){const{borderColor:Qt,borderWidth:$t}=at;at.borderWidth=0,rt=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Qt}" stroke-width="${$t}">`],this.container.classList.add("hasBorder")}const Rt=Z-D,Xt=K-I,{svgFactory:wt}=this,Dt=wt.createElement("svg");Dt.classList.add("quadrilateralsContainer"),Dt.setAttribute("width",0),Dt.setAttribute("height",0);const Ft=wt.createElement("defs");Dt.append(Ft);const Lt=wt.createElement("clipPath"),Ut=`clippath_${this.data.id}`;Lt.setAttribute("id",Ut),Lt.setAttribute("clipPathUnits","objectBoundingBox"),Ft.append(Lt);for(const[,{x:Qt,y:$t},{x:ie,y:le}]of b){const oe=wt.createElement("rect"),_e=(ie-D)/Rt,ke=(K-$t)/Xt,Be=(Qt-ie)/Rt,Cn=($t-le)/Xt;oe.setAttribute("x",_e),oe.setAttribute("y",ke),oe.setAttribute("width",Be),oe.setAttribute("height",Cn),Lt.append(oe),rt?.push(`<rect vector-effect="non-scaling-stroke" x="${_e}" y="${ke}" width="${Be}" height="${Cn}"/>`)}this.#t&&(rt.push("</g></svg>')"),at.backgroundImage=rt.join("")),this.container.append(Dt),this.container.style.clipPath=`url(#${Ut})`}_createPopup(){const{container:b,data:D}=this;b.setAttribute("aria-haspopup","dialog");const I=new it({data:{color:D.color,titleObj:D.titleObj,modificationDate:D.modificationDate,contentsObj:D.contentsObj,richText:D.richText,parentRect:D.rect,borderStyle:0,id:`popup_${D.id}`,rotation:D.rotation},parent:this.parent,elements:[this]});this.parent.div.append(I.render())}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(b,D=null){const I=[];if(this._fieldObjects){const Z=this._fieldObjects[b];if(Z)for(const{page:K,id:at,exportValues:rt}of Z){if(K===-1||at===D)continue;const Rt=typeof rt=="string"?rt:null,Xt=document.querySelector(`[data-element-id="${at}"]`);if(Xt&&!h.has(Xt)){(0,r.warn)(`_getElementsByName - element not allowed: ${at}`);continue}I.push({id:at,exportValue:Rt,domElement:Xt})}return I}for(const Z of document.getElementsByName(b)){const{exportValue:K}=Z,at=Z.getAttribute("data-element-id");at!==D&&h.has(Z)&&I.push({id:at,exportValue:K,domElement:Z})}return I}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const b=this.getElementsToTriggerPopup();if(Array.isArray(b))for(const D of b)D.classList.add("highlightArea");else b.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:b,data:{id:D}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:b,editId:D})})}}class S extends p{constructor(b,D=null){super(b,{isRenderable:!0,ignoreBorder:!!D?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=b.data.isTooltipOnly}render(){const{data:b,linkService:D}=this,I=document.createElement("a");I.setAttribute("data-element-id",b.id);let Z=!1;return b.url?(D.addLinkAttributes(I,b.url,b.newWindow),Z=!0):b.action?(this._bindNamedAction(I,b.action),Z=!0):b.attachment?(this._bindAttachment(I,b.attachment),Z=!0):b.setOCGState?(this.#e(I,b.setOCGState),Z=!0):b.dest?(this._bindLink(I,b.dest),Z=!0):(b.actions&&(b.actions.Action||b.actions["Mouse Up"]||b.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(I,b),Z=!0),b.resetForm?(this._bindResetFormAction(I,b.resetForm),Z=!0):this.isTooltipOnly&&!Z&&(this._bindLink(I,""),Z=!0)),this.container.classList.add("linkAnnotation"),Z&&this.container.append(I),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(b,D){b.href=this.linkService.getDestinationHash(D),b.onclick=()=>(D&&this.linkService.goToDestination(D),!1),(D||D==="")&&this.#t()}_bindNamedAction(b,D){b.href=this.linkService.getAnchorUrl(""),b.onclick=()=>(this.linkService.executeNamedAction(D),!1),this.#t()}_bindAttachment(b,D){b.href=this.linkService.getAnchorUrl(""),b.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,D.content,D.filename),!1),this.#t()}#e(b,D){b.href=this.linkService.getAnchorUrl(""),b.onclick=()=>(this.linkService.executeSetOCGState(D),!1),this.#t()}_bindJSAction(b,D){b.href=this.linkService.getAnchorUrl("");const I=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Z of Object.keys(D.actions)){const K=I.get(Z);K&&(b[K]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:D.id,name:Z}}),!1))}b.onclick||(b.onclick=()=>!1),this.#t()}_bindResetFormAction(b,D){const I=b.onclick;if(I||(b.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),I||(b.onclick=()=>!1);return}b.onclick=()=>{I?.();const{fields:Z,refs:K,include:at}=D,rt=[];if(Z.length!==0||K.length!==0){const wt=new Set(K);for(const Dt of Z){const Ft=this._fieldObjects[Dt]||[];for(const{id:Lt}of Ft)wt.add(Lt)}for(const Dt of Object.values(this._fieldObjects))for(const Ft of Dt)wt.has(Ft.id)===at&&rt.push(Ft)}else for(const wt of Object.values(this._fieldObjects))rt.push(...wt);const Rt=this.annotationStorage,Xt=[];for(const wt of rt){const{id:Dt}=wt;switch(Xt.push(Dt),wt.type){case"text":{const Lt=wt.defaultValue||"";Rt.setValue(Dt,{value:Lt});break}case"checkbox":case"radiobutton":{const Lt=wt.defaultValue===wt.exportValues;Rt.setValue(Dt,{value:Lt});break}case"combobox":case"listbox":{const Lt=wt.defaultValue||"";Rt.setValue(Dt,{value:Lt});break}default:continue}const Ft=document.querySelector(`[data-element-id="${Dt}"]`);if(Ft){if(!h.has(Ft)){(0,r.warn)(`_bindResetFormAction - element not allowed: ${Dt}`);continue}}else continue;Ft.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Xt,name:"ResetForm"}}),!1}}}class j extends p{constructor(b){super(b,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const b=document.createElement("img");return b.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",b.alt="[{{type}} Annotation]",b.dataset.l10nId="text_annotation_type",b.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(b),this.container}}class v extends p{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(b){this.data.hasOwnCanvas&&(b.previousSibling?.nodeName==="CANVAS"&&(b.previousSibling.hidden=!0),b.hidden=!1)}_getKeyModifier(b){const{isWin:D,isMac:I}=r.FeatureTest.platform;return D&&b.ctrlKey||I&&b.metaKey}_setEventListener(b,D,I,Z,K){I.includes("mouse")?b.addEventListener(I,at=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Z,value:K(at),shift:at.shiftKey,modifier:this._getKeyModifier(at)}})}):b.addEventListener(I,at=>{if(I==="blur"){if(!D.focused||!at.relatedTarget)return;D.focused=!1}else if(I==="focus"){if(D.focused)return;D.focused=!0}K&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Z,value:K(at)}})})}_setEventListeners(b,D,I,Z){for(const[K,at]of I)(at==="Action"||this.data.actions?.[at])&&((at==="Focus"||at==="Blur")&&(D||={focused:!1}),this._setEventListener(b,D,K,at,Z),at==="Focus"&&!this.data.actions?.Blur?this._setEventListener(b,D,"blur","Blur",null):at==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(b,D,"focus","Focus",null))}_setBackgroundColor(b){const D=this.data.backgroundColor||null;b.style.backgroundColor=D===null?"transparent":r.Util.makeHexColor(D[0],D[1],D[2])}_setTextStyle(b){const D=["left","center","right"],{fontColor:I}=this.data.defaultAppearanceData,Z=this.data.defaultAppearanceData.fontSize||c,K=b.style;let at;const rt=2,Rt=Xt=>Math.round(10*Xt)/10;if(this.data.multiLine){const Xt=Math.abs(this.data.rect[3]-this.data.rect[1]-rt),wt=Math.round(Xt/(r.LINE_FACTOR*Z))||1,Dt=Xt/wt;at=Math.min(Z,Rt(Dt/r.LINE_FACTOR))}else{const Xt=Math.abs(this.data.rect[3]-this.data.rect[1]-rt);at=Math.min(Z,Rt(Xt/r.LINE_FACTOR))}K.fontSize=`calc(${at}px * var(--scale-factor))`,K.color=r.Util.makeHexColor(I[0],I[1],I[2]),this.data.textAlignment!==null&&(K.textAlign=D[this.data.textAlignment])}_setRequired(b,D){D?b.setAttribute("required",!0):b.removeAttribute("required"),b.setAttribute("aria-required",D)}}class P extends v{constructor(b){const D=b.renderForms||!b.data.hasAppearance&&!!b.data.fieldValue;super(b,{isRenderable:D})}setPropertyOnSiblings(b,D,I,Z){const K=this.annotationStorage;for(const at of this._getElementsByName(b.name,b.id))at.domElement&&(at.domElement[D]=I),K.setValue(at.id,{[Z]:I})}render(){const b=this.annotationStorage,D=this.data.id;this.container.classList.add("textWidgetAnnotation");let I=null;if(this.renderForms){const Z=b.getValue(D,{value:this.data.fieldValue});let K=Z.value||"";const at=b.getValue(D,{charLimit:this.data.maxLen}).charLimit;at&&K.length>at&&(K=K.slice(0,at));let rt=Z.formattedValue||this.data.textContent?.join(`
`)||null;rt&&this.data.comb&&(rt=rt.replaceAll(/\s+/g,""));const Rt={userValue:K,formattedValue:rt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(I=document.createElement("textarea"),I.textContent=rt??K,this.data.doNotScroll&&(I.style.overflowY="hidden")):(I=document.createElement("input"),I.type="text",I.setAttribute("value",rt??K),this.data.doNotScroll&&(I.style.overflowX="hidden")),this.data.hasOwnCanvas&&(I.hidden=!0),h.add(I),I.setAttribute("data-element-id",D),I.disabled=this.data.readOnly,I.name=this.data.fieldName,I.tabIndex=d,this._setRequired(I,this.data.required),at&&(I.maxLength=at),I.addEventListener("input",wt=>{b.setValue(D,{value:wt.target.value}),this.setPropertyOnSiblings(I,"value",wt.target.value,"value"),Rt.formattedValue=null}),I.addEventListener("resetform",wt=>{const Dt=this.data.defaultFieldValue??"";I.value=Rt.userValue=Dt,Rt.formattedValue=null});let Xt=wt=>{const{formattedValue:Dt}=Rt;Dt!=null&&(wt.target.value=Dt),wt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){I.addEventListener("focus",Dt=>{if(Rt.focused)return;const{target:Ft}=Dt;Rt.userValue&&(Ft.value=Rt.userValue),Rt.lastCommittedValue=Ft.value,Rt.commitKey=1,Rt.focused=!0}),I.addEventListener("updatefromsandbox",Dt=>{this.showElementAndHideCanvas(Dt.target);const Ft={value(Lt){Rt.userValue=Lt.detail.value??"",b.setValue(D,{value:Rt.userValue.toString()}),Lt.target.value=Rt.userValue},formattedValue(Lt){const{formattedValue:Ut}=Lt.detail;Rt.formattedValue=Ut,Ut!=null&&Lt.target!==document.activeElement&&(Lt.target.value=Ut),b.setValue(D,{formattedValue:Ut})},selRange(Lt){Lt.target.setSelectionRange(...Lt.detail.selRange)},charLimit:Lt=>{const{charLimit:Ut}=Lt.detail,{target:Qt}=Lt;if(Ut===0){Qt.removeAttribute("maxLength");return}Qt.setAttribute("maxLength",Ut);let $t=Rt.userValue;!$t||$t.length<=Ut||($t=$t.slice(0,Ut),Qt.value=Rt.userValue=$t,b.setValue(D,{value:$t}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:D,name:"Keystroke",value:$t,willCommit:!0,commitKey:1,selStart:Qt.selectionStart,selEnd:Qt.selectionEnd}}))}};this._dispatchEventFromSandbox(Ft,Dt)}),I.addEventListener("keydown",Dt=>{Rt.commitKey=1;let Ft=-1;if(Dt.key==="Escape"?Ft=0:Dt.key==="Enter"&&!this.data.multiLine?Ft=2:Dt.key==="Tab"&&(Rt.commitKey=3),Ft===-1)return;const{value:Lt}=Dt.target;Rt.lastCommittedValue!==Lt&&(Rt.lastCommittedValue=Lt,Rt.userValue=Lt,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:D,name:"Keystroke",value:Lt,willCommit:!0,commitKey:Ft,selStart:Dt.target.selectionStart,selEnd:Dt.target.selectionEnd}}))});const wt=Xt;Xt=null,I.addEventListener("blur",Dt=>{if(!Rt.focused||!Dt.relatedTarget)return;Rt.focused=!1;const{value:Ft}=Dt.target;Rt.userValue=Ft,Rt.lastCommittedValue!==Ft&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:D,name:"Keystroke",value:Ft,willCommit:!0,commitKey:Rt.commitKey,selStart:Dt.target.selectionStart,selEnd:Dt.target.selectionEnd}}),wt(Dt)}),this.data.actions?.Keystroke&&I.addEventListener("beforeinput",Dt=>{Rt.lastCommittedValue=null;const{data:Ft,target:Lt}=Dt,{value:Ut,selectionStart:Qt,selectionEnd:$t}=Lt;let ie=Qt,le=$t;switch(Dt.inputType){case"deleteWordBackward":{const oe=Ut.substring(0,Qt).match(/\w*[^\w]*$/);oe&&(ie-=oe[0].length);break}case"deleteWordForward":{const oe=Ut.substring(Qt).match(/^[^\w]*\w*/);oe&&(le+=oe[0].length);break}case"deleteContentBackward":Qt===$t&&(ie-=1);break;case"deleteContentForward":Qt===$t&&(le+=1);break}Dt.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:D,name:"Keystroke",value:Ut,change:Ft||"",willCommit:!1,selStart:ie,selEnd:le}})}),this._setEventListeners(I,Rt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Dt=>Dt.target.value)}if(Xt&&I.addEventListener("blur",Xt),this.data.comb){const Dt=(this.data.rect[2]-this.data.rect[0])/at;I.classList.add("comb"),I.style.letterSpacing=`calc(${Dt}px * var(--scale-factor) - 1ch)`}}else I=document.createElement("div"),I.textContent=this.data.fieldValue,I.style.verticalAlign="middle",I.style.display="table-cell";return this._setTextStyle(I),this._setBackgroundColor(I),this._setDefaultPropertiesFromJS(I),this.container.append(I),this.container}}class W extends v{constructor(b){super(b,{isRenderable:!!b.data.hasOwnCanvas})}}class G extends v{constructor(b){super(b,{isRenderable:b.renderForms})}render(){const b=this.annotationStorage,D=this.data,I=D.id;let Z=b.getValue(I,{value:D.exportValue===D.fieldValue}).value;typeof Z=="string"&&(Z=Z!=="Off",b.setValue(I,{value:Z})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const K=document.createElement("input");return h.add(K),K.setAttribute("data-element-id",I),K.disabled=D.readOnly,this._setRequired(K,this.data.required),K.type="checkbox",K.name=D.fieldName,Z&&K.setAttribute("checked",!0),K.setAttribute("exportValue",D.exportValue),K.tabIndex=d,K.addEventListener("change",at=>{const{name:rt,checked:Rt}=at.target;for(const Xt of this._getElementsByName(rt,I)){const wt=Rt&&Xt.exportValue===D.exportValue;Xt.domElement&&(Xt.domElement.checked=wt),b.setValue(Xt.id,{value:wt})}b.setValue(I,{value:Rt})}),K.addEventListener("resetform",at=>{const rt=D.defaultFieldValue||"Off";at.target.checked=rt===D.exportValue}),this.enableScripting&&this.hasJSActions&&(K.addEventListener("updatefromsandbox",at=>{const rt={value(Rt){Rt.target.checked=Rt.detail.value!=="Off",b.setValue(I,{value:Rt.target.checked})}};this._dispatchEventFromSandbox(rt,at)}),this._setEventListeners(K,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],at=>at.target.checked)),this._setBackgroundColor(K),this._setDefaultPropertiesFromJS(K),this.container.append(K),this.container}}class C extends v{constructor(b){super(b,{isRenderable:b.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const b=this.annotationStorage,D=this.data,I=D.id;let Z=b.getValue(I,{value:D.fieldValue===D.buttonValue}).value;typeof Z=="string"&&(Z=Z!==D.buttonValue,b.setValue(I,{value:Z}));const K=document.createElement("input");if(h.add(K),K.setAttribute("data-element-id",I),K.disabled=D.readOnly,this._setRequired(K,this.data.required),K.type="radio",K.name=D.fieldName,Z&&K.setAttribute("checked",!0),K.tabIndex=d,K.addEventListener("change",at=>{const{name:rt,checked:Rt}=at.target;for(const Xt of this._getElementsByName(rt,I))b.setValue(Xt.id,{value:!1});b.setValue(I,{value:Rt})}),K.addEventListener("resetform",at=>{const rt=D.defaultFieldValue;at.target.checked=rt!=null&&rt===D.buttonValue}),this.enableScripting&&this.hasJSActions){const at=D.buttonValue;K.addEventListener("updatefromsandbox",rt=>{const Rt={value:Xt=>{const wt=at===Xt.detail.value;for(const Dt of this._getElementsByName(Xt.target.name)){const Ft=wt&&Dt.id===I;Dt.domElement&&(Dt.domElement.checked=Ft),b.setValue(Dt.id,{value:Ft})}}};this._dispatchEventFromSandbox(Rt,rt)}),this._setEventListeners(K,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],rt=>rt.target.checked)}return this._setBackgroundColor(K),this._setDefaultPropertiesFromJS(K),this.container.append(K),this.container}}class F extends S{constructor(b){super(b,{ignoreBorder:b.data.hasAppearance})}render(){const b=super.render();b.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(b.title=this.data.alternativeText);const D=b.lastChild;return this.enableScripting&&this.hasJSActions&&D&&(this._setDefaultPropertiesFromJS(D),D.addEventListener("updatefromsandbox",I=>{this._dispatchEventFromSandbox({},I)})),b}}class Q extends v{constructor(b){super(b,{isRenderable:b.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const b=this.annotationStorage,D=this.data.id,I=b.getValue(D,{value:this.data.fieldValue}),Z=document.createElement("select");h.add(Z),Z.setAttribute("data-element-id",D),Z.disabled=this.data.readOnly,this._setRequired(Z,this.data.required),Z.name=this.data.fieldName,Z.tabIndex=d;let K=this.data.combo&&this.data.options.length>0;this.data.combo||(Z.size=this.data.options.length,this.data.multiSelect&&(Z.multiple=!0)),Z.addEventListener("resetform",wt=>{const Dt=this.data.defaultFieldValue;for(const Ft of Z.options)Ft.selected=Ft.value===Dt});for(const wt of this.data.options){const Dt=document.createElement("option");Dt.textContent=wt.displayValue,Dt.value=wt.exportValue,I.value.includes(wt.exportValue)&&(Dt.setAttribute("selected",!0),K=!1),Z.append(Dt)}let at=null;if(K){const wt=document.createElement("option");wt.value=" ",wt.setAttribute("hidden",!0),wt.setAttribute("selected",!0),Z.prepend(wt),at=()=>{wt.remove(),Z.removeEventListener("input",at),at=null},Z.addEventListener("input",at)}const rt=wt=>{const Dt=wt?"value":"textContent",{options:Ft,multiple:Lt}=Z;return Lt?Array.prototype.filter.call(Ft,Ut=>Ut.selected).map(Ut=>Ut[Dt]):Ft.selectedIndex===-1?null:Ft[Ft.selectedIndex][Dt]};let Rt=rt(!1);const Xt=wt=>{const Dt=wt.target.options;return Array.prototype.map.call(Dt,Ft=>({displayValue:Ft.textContent,exportValue:Ft.value}))};return this.enableScripting&&this.hasJSActions?(Z.addEventListener("updatefromsandbox",wt=>{const Dt={value(Ft){at?.();const Lt=Ft.detail.value,Ut=new Set(Array.isArray(Lt)?Lt:[Lt]);for(const Qt of Z.options)Qt.selected=Ut.has(Qt.value);b.setValue(D,{value:rt(!0)}),Rt=rt(!1)},multipleSelection(Ft){Z.multiple=!0},remove(Ft){const Lt=Z.options,Ut=Ft.detail.remove;Lt[Ut].selected=!1,Z.remove(Ut),Lt.length>0&&Array.prototype.findIndex.call(Lt,$t=>$t.selected)===-1&&(Lt[0].selected=!0),b.setValue(D,{value:rt(!0),items:Xt(Ft)}),Rt=rt(!1)},clear(Ft){for(;Z.length!==0;)Z.remove(0);b.setValue(D,{value:null,items:[]}),Rt=rt(!1)},insert(Ft){const{index:Lt,displayValue:Ut,exportValue:Qt}=Ft.detail.insert,$t=Z.children[Lt],ie=document.createElement("option");ie.textContent=Ut,ie.value=Qt,$t?$t.before(ie):Z.append(ie),b.setValue(D,{value:rt(!0),items:Xt(Ft)}),Rt=rt(!1)},items(Ft){const{items:Lt}=Ft.detail;for(;Z.length!==0;)Z.remove(0);for(const Ut of Lt){const{displayValue:Qt,exportValue:$t}=Ut,ie=document.createElement("option");ie.textContent=Qt,ie.value=$t,Z.append(ie)}Z.options.length>0&&(Z.options[0].selected=!0),b.setValue(D,{value:rt(!0),items:Xt(Ft)}),Rt=rt(!1)},indices(Ft){const Lt=new Set(Ft.detail.indices);for(const Ut of Ft.target.options)Ut.selected=Lt.has(Ut.index);b.setValue(D,{value:rt(!0)}),Rt=rt(!1)},editable(Ft){Ft.target.disabled=!Ft.detail.editable}};this._dispatchEventFromSandbox(Dt,wt)}),Z.addEventListener("input",wt=>{const Dt=rt(!0);b.setValue(D,{value:Dt}),wt.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:D,name:"Keystroke",value:Rt,changeEx:Dt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Z,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],wt=>wt.target.value)):Z.addEventListener("input",function(wt){b.setValue(D,{value:rt(!0)})}),this.data.combo&&this._setTextStyle(Z),this._setBackgroundColor(Z),this._setDefaultPropertiesFromJS(Z),this.container.append(Z),this.container}}class it extends p{constructor(b){const{data:D,elements:I}=b;super(b,{isRenderable:p._hasPopupData(D)}),this.elements=I}render(){this.container.classList.add("popupAnnotation");const b=new et({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),D=[];for(const I of this.elements)I.popup=b,D.push(I.data.id),I.addHighlightArea();return this.container.setAttribute("aria-controls",D.map(I=>`${r.AnnotationPrefix}${I}`).join(",")),this.container}}class et{#t=null;#e=this.#u.bind(this);#n=this.#A.bind(this);#a=this.#E.bind(this);#o=this.#b.bind(this);#r=null;#s=null;#l=null;#c=null;#i=null;#f=null;#d=!1;#h=null;#p=null;#y=null;#g=null;#m=!1;constructor({container:b,color:D,elements:I,titleObj:Z,modificationDate:K,contentsObj:at,richText:rt,parent:Rt,rect:Xt,parentRect:wt,open:Dt}){this.#s=b,this.#g=Z,this.#l=at,this.#y=rt,this.#i=Rt,this.#r=D,this.#p=Xt,this.#f=wt,this.#c=I;const Ft=y.PDFDateString.toDateObject(K);Ft&&(this.#t=Rt.l10n.get("annotation_date_string",{date:Ft.toLocaleDateString(),time:Ft.toLocaleTimeString()})),this.trigger=I.flatMap(Lt=>Lt.getElementsToTriggerPopup());for(const Lt of this.trigger)Lt.addEventListener("click",this.#o),Lt.addEventListener("mouseenter",this.#a),Lt.addEventListener("mouseleave",this.#n),Lt.classList.add("popupTriggerArea");for(const Lt of I)Lt.container?.addEventListener("keydown",this.#e);this.#s.hidden=!0,Dt&&this.#b()}render(){if(this.#h)return;const{page:{view:b},viewport:{rawDims:{pageWidth:D,pageHeight:I,pageX:Z,pageY:K}}}=this.#i,at=this.#h=document.createElement("div");if(at.className="popup",this.#r){const oe=at.style.outlineColor=r.Util.makeHexColor(...this.#r);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?at.style.backgroundColor=`color-mix(in srgb, ${oe} 30%, white)`:at.style.backgroundColor=r.Util.makeHexColor(...this.#r.map(ke=>Math.floor(.7*(255-ke)+ke)))}const rt=document.createElement("span");rt.className="header";const Rt=document.createElement("h1");if(rt.append(Rt),{dir:Rt.dir,str:Rt.textContent}=this.#g,at.append(rt),this.#t){const oe=document.createElement("span");oe.classList.add("popupDate"),this.#t.then(_e=>{oe.textContent=_e}),rt.append(oe)}const Xt=this.#l,wt=this.#y;if(wt?.str&&(!Xt?.str||Xt.str===wt.str))B.XfaLayer.render({xfaHtml:wt.html,intent:"richText",div:at}),at.lastChild.classList.add("richText","popupContent");else{const oe=this._formatContents(Xt);at.append(oe)}let Dt=!!this.#f,Ft=Dt?this.#f:this.#p;for(const oe of this.#c)if(!Ft||r.Util.intersect(oe.data.rect,Ft)!==null){Ft=oe.data.rect,Dt=!0;break}const Lt=r.Util.normalizeRect([Ft[0],b[3]-Ft[1]+b[1],Ft[2],b[3]-Ft[3]+b[1]]),Qt=Dt?Ft[2]-Ft[0]+5:0,$t=Lt[0]+Qt,ie=Lt[1],{style:le}=this.#s;le.left=`${100*($t-Z)/D}%`,le.top=`${100*(ie-K)/I}%`,this.#s.append(at)}_formatContents({str:b,dir:D}){const I=document.createElement("p");I.classList.add("popupContent"),I.dir=D;const Z=b.split(/(?:\r\n?|\n)/);for(let K=0,at=Z.length;K<at;++K){const rt=Z[K];I.append(document.createTextNode(rt)),K<at-1&&I.append(document.createElement("br"))}return I}#u(b){b.altKey||b.shiftKey||b.ctrlKey||b.metaKey||(b.key==="Enter"||b.key==="Escape"&&this.#d)&&this.#b()}#b(){this.#d=!this.#d,this.#d?(this.#E(),this.#s.addEventListener("click",this.#o),this.#s.addEventListener("keydown",this.#e)):(this.#A(),this.#s.removeEventListener("click",this.#o),this.#s.removeEventListener("keydown",this.#e))}#E(){this.#h||this.render(),this.isVisible?this.#d&&this.#s.classList.add("focused"):(this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#A(){this.#s.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#m=this.isVisible,this.#m&&(this.#s.hidden=!0)}maybeShow(){this.#m&&(this.#m=!1,this.#s.hidden=!1)}get isVisible(){return this.#s.hidden===!1}}class bt extends p{constructor(b){super(b,{isRenderable:!0,ignoreBorder:!0}),this.textContent=b.data.textContent,this.textPosition=b.data.textPosition,this.annotationEditorType=r.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const b=document.createElement("div");b.classList.add("annotationTextContent"),b.setAttribute("role","comment");for(const D of this.textContent){const I=document.createElement("span");I.textContent=D,b.append(I)}this.container.append(b)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}o.FreeTextAnnotationElement=bt;class gt extends p{#t=null;constructor(b){super(b,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const b=this.data,{width:D,height:I}=_(b.rect),Z=this.svgFactory.create(D,I,!0),K=this.#t=this.svgFactory.createElement("svg:line");return K.setAttribute("x1",b.rect[2]-b.lineCoordinates[0]),K.setAttribute("y1",b.rect[3]-b.lineCoordinates[1]),K.setAttribute("x2",b.rect[2]-b.lineCoordinates[2]),K.setAttribute("y2",b.rect[3]-b.lineCoordinates[3]),K.setAttribute("stroke-width",b.borderStyle.width||1),K.setAttribute("stroke","transparent"),K.setAttribute("fill","transparent"),Z.append(K),this.container.append(Z),!b.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class It extends p{#t=null;constructor(b){super(b,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const b=this.data,{width:D,height:I}=_(b.rect),Z=this.svgFactory.create(D,I,!0),K=b.borderStyle.width,at=this.#t=this.svgFactory.createElement("svg:rect");return at.setAttribute("x",K/2),at.setAttribute("y",K/2),at.setAttribute("width",D-K),at.setAttribute("height",I-K),at.setAttribute("stroke-width",K||1),at.setAttribute("stroke","transparent"),at.setAttribute("fill","transparent"),Z.append(at),this.container.append(Z),!b.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Ot extends p{#t=null;constructor(b){super(b,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const b=this.data,{width:D,height:I}=_(b.rect),Z=this.svgFactory.create(D,I,!0),K=b.borderStyle.width,at=this.#t=this.svgFactory.createElement("svg:ellipse");return at.setAttribute("cx",D/2),at.setAttribute("cy",I/2),at.setAttribute("rx",D/2-K/2),at.setAttribute("ry",I/2-K/2),at.setAttribute("stroke-width",K||1),at.setAttribute("stroke","transparent"),at.setAttribute("fill","transparent"),Z.append(at),this.container.append(Z),!b.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Mt extends p{#t=null;constructor(b){super(b,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const b=this.data,{width:D,height:I}=_(b.rect),Z=this.svgFactory.create(D,I,!0);let K=[];for(const rt of b.vertices){const Rt=rt.x-b.rect[0],Xt=b.rect[3]-rt.y;K.push(Rt+","+Xt)}K=K.join(" ");const at=this.#t=this.svgFactory.createElement(this.svgElementName);return at.setAttribute("points",K),at.setAttribute("stroke-width",b.borderStyle.width||1),at.setAttribute("stroke","transparent"),at.setAttribute("fill","transparent"),Z.append(at),this.container.append(Z),!b.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class kt extends Mt{constructor(b){super(b),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class nt extends p{constructor(b){super(b,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class q extends p{#t=[];constructor(b){super(b,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=r.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const b=this.data,{width:D,height:I}=_(b.rect),Z=this.svgFactory.create(D,I,!0);for(const K of b.inkLists){let at=[];for(const Rt of K){const Xt=Rt.x-b.rect[0],wt=b.rect[3]-Rt.y;at.push(`${Xt},${wt}`)}at=at.join(" ");const rt=this.svgFactory.createElement(this.svgElementName);this.#t.push(rt),rt.setAttribute("points",at),rt.setAttribute("stroke-width",b.borderStyle.width||1),rt.setAttribute("stroke","transparent"),rt.setAttribute("fill","transparent"),!b.popupRef&&this.hasPopupData&&this._createPopup(),Z.append(rt)}return this.container.append(Z),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}o.InkAnnotationElement=q;class M extends p{constructor(b){super(b,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class T extends p{constructor(b){super(b,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class R extends p{constructor(b){super(b,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class x extends p{constructor(b){super(b,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class L extends p{constructor(b){super(b,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}o.StampAnnotationElement=L;class U extends p{#t=null;constructor(b){super(b,{isRenderable:!0});const{filename:D,content:I}=this.data.file;this.filename=(0,y.getFilenameFromUrl)(D,!0),this.content=I,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:D,content:I})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:b,data:D}=this;let I;D.hasAppearance||D.fillAlpha===0?I=document.createElement("div"):(I=document.createElement("img"),I.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(D.name)?"paperclip":"pushpin"}.svg`,D.fillAlpha&&D.fillAlpha<1&&(I.style=`filter: opacity(${Math.round(D.fillAlpha*100)}%);`)),I.addEventListener("dblclick",this.#e.bind(this)),this.#t=I;const{isMac:Z}=r.FeatureTest.platform;return b.addEventListener("keydown",K=>{K.key==="Enter"&&(Z?K.metaKey:K.ctrlKey)&&this.#e()}),!D.popupRef&&this.hasPopupData?this._createPopup():I.classList.add("popupTriggerArea"),b.append(I),b}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class ${#t=null;#e=null;#n=new Map;constructor({div:b,accessibilityManager:D,annotationCanvasMap:I,l10n:Z,page:K,viewport:at}){this.div=b,this.#t=D,this.#e=I,this.l10n=Z,this.page=K,this.viewport=at,this.zIndex=0,this.l10n||=Y.NullL10n}#a(b,D){const I=b.firstChild||b;I.id=`${r.AnnotationPrefix}${D}`,this.div.append(b),this.#t?.moveElementInDOM(this.div,b,I,!1)}async render(b){const{annotations:D}=b,I=this.div;(0,y.setLayerDimensions)(I,this.viewport);const Z=new Map,K={data:null,layer:I,linkService:b.linkService,downloadManager:b.downloadManager,imageResourcesPath:b.imageResourcesPath||"",renderForms:b.renderForms!==!1,svgFactory:new y.DOMSVGFactory,annotationStorage:b.annotationStorage||new N.AnnotationStorage,enableScripting:b.enableScripting===!0,hasJSActions:b.hasJSActions,fieldObjects:b.fieldObjects,parent:this,elements:null};for(const at of D){if(at.noHTML)continue;const rt=at.annotationType===r.AnnotationType.POPUP;if(rt){const wt=Z.get(at.id);if(!wt)continue;K.elements=wt}else{const{width:wt,height:Dt}=_(at.rect);if(wt<=0||Dt<=0)continue}K.data=at;const Rt=E.create(K);if(!Rt.isRenderable)continue;if(!rt&&at.popupRef){const wt=Z.get(at.popupRef);wt?wt.push(Rt):Z.set(at.popupRef,[Rt])}Rt.annotationEditorType>0&&this.#n.set(Rt.data.id,Rt);const Xt=Rt.render();at.hidden&&(Xt.style.visibility="hidden"),this.#a(Xt,at.id)}this.#o(),await this.l10n.translate(I)}update({viewport:b}){const D=this.div;this.viewport=b,(0,y.setLayerDimensions)(D,{rotation:b.rotation}),this.#o(),D.hidden=!1}#o(){if(!this.#e)return;const b=this.div;for(const[D,I]of this.#e){const Z=b.querySelector(`[data-annotation-id="${D}"]`);if(!Z)continue;const{firstChild:K}=Z;K?K.nodeName==="CANVAS"?K.replaceWith(I):K.before(I):Z.append(I)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(b){return this.#n.get(b)}}o.AnnotationLayer=$}),((f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorConverters=void 0;function g(N){return Math.floor(Math.max(0,Math.min(1,N))*255).toString(16).padStart(2,"0")}function r(N){return Math.max(0,Math.min(255,255*N))}class y{static CMYK_G([O,Y,B,d]){return["G",1-Math.min(1,.3*O+.59*B+.11*Y+d)]}static G_CMYK([O]){return["CMYK",0,0,0,1-O]}static G_RGB([O]){return["RGB",O,O,O]}static G_rgb([O]){return O=r(O),[O,O,O]}static G_HTML([O]){const Y=g(O);return`#${Y}${Y}${Y}`}static RGB_G([O,Y,B]){return["G",.3*O+.59*Y+.11*B]}static RGB_rgb(O){return O.map(r)}static RGB_HTML(O){return`#${O.map(g).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([O,Y,B,d]){return["RGB",1-Math.min(1,O+d),1-Math.min(1,B+d),1-Math.min(1,Y+d)]}static CMYK_rgb([O,Y,B,d]){return[r(1-Math.min(1,O+d)),r(1-Math.min(1,B+d)),r(1-Math.min(1,Y+d))]}static CMYK_HTML(O){const Y=this.CMYK_RGB(O).slice(1);return this.RGB_HTML(Y)}static RGB_CMYK([O,Y,B]){const d=1-O,c=1-Y,h=1-B,_=Math.min(d,c,h);return["CMYK",d,c,h,_]}}o.ColorConverters=y}),((f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NullL10n=void 0,o.getL10nFallback=r;const g={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};g.print_progress_percent="{{progress}}%";function r(O,Y){switch(O){case"find_match_count":O=`find_match_count[${Y.total===1?"one":"other"}]`;break;case"find_match_count_limit":O=`find_match_count_limit[${Y.limit===1?"one":"other"}]`;break}return g[O]||""}function y(O,Y){return Y?O.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(B,d)=>d in Y?Y[d]:"{{"+d+"}}"):O}const N={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(O,Y=null,B=r(O,Y)){return y(B,Y)},async translate(O){}};o.NullL10n=N}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaLayer=void 0;var r=g(25);class y{static setupStorage(O,Y,B,d,c){const h=d.getValue(Y,{value:null});switch(B.name){case"textarea":if(h.value!==null&&(O.textContent=h.value),c==="print")break;O.addEventListener("input",_=>{d.setValue(Y,{value:_.target.value})});break;case"input":if(B.attributes.type==="radio"||B.attributes.type==="checkbox"){if(h.value===B.attributes.xfaOn?O.setAttribute("checked",!0):h.value===B.attributes.xfaOff&&O.removeAttribute("checked"),c==="print")break;O.addEventListener("change",_=>{d.setValue(Y,{value:_.target.checked?_.target.getAttribute("xfaOn"):_.target.getAttribute("xfaOff")})})}else{if(h.value!==null&&O.setAttribute("value",h.value),c==="print")break;O.addEventListener("input",_=>{d.setValue(Y,{value:_.target.value})})}break;case"select":if(h.value!==null){O.setAttribute("value",h.value);for(const _ of B.children)_.attributes.value===h.value?_.attributes.selected=!0:_.attributes.hasOwnProperty("selected")&&delete _.attributes.selected}O.addEventListener("input",_=>{const E=_.target.options,p=E.selectedIndex===-1?"":E[E.selectedIndex].value;d.setValue(Y,{value:p})});break}}static setAttributes({html:O,element:Y,storage:B=null,intent:d,linkService:c}){const{attributes:h}=Y,_=O instanceof HTMLAnchorElement;h.type==="radio"&&(h.name=`${h.name}-${d}`);for(const[E,p]of Object.entries(h))if(p!=null)switch(E){case"class":p.length&&O.setAttribute(E,p.join(" "));break;case"dataId":break;case"id":O.setAttribute("data-element-id",p);break;case"style":Object.assign(O.style,p);break;case"textContent":O.textContent=p;break;default:(!_||E!=="href"&&E!=="newWindow")&&O.setAttribute(E,p)}_&&c.addLinkAttributes(O,h.href,h.newWindow),B&&h.dataId&&this.setupStorage(O,h.dataId,Y,B)}static render(O){const Y=O.annotationStorage,B=O.linkService,d=O.xfaHtml,c=O.intent||"display",h=document.createElement(d.name);d.attributes&&this.setAttributes({html:h,element:d,intent:c,linkService:B});const _=[[d,-1,h]],E=O.div;if(E.append(h),O.viewport){const S=`matrix(${O.viewport.transform.join(",")})`;E.style.transform=S}c!=="richText"&&E.setAttribute("class","xfaLayer xfaFont");const p=[];for(;_.length>0;){const[S,j,v]=_.at(-1);if(j+1===S.children.length){_.pop();continue}const P=S.children[++_.at(-1)[1]];if(P===null)continue;const{name:W}=P;if(W==="#text"){const C=document.createTextNode(P.value);p.push(C),v.append(C);continue}const G=P?.attributes?.xmlns?document.createElementNS(P.attributes.xmlns,W):document.createElement(W);if(v.append(G),P.attributes&&this.setAttributes({html:G,element:P,storage:Y,intent:c,linkService:B}),P.children&&P.children.length>0)_.push([P,-1,G]);else if(P.value){const C=document.createTextNode(P.value);r.XfaText.shouldBuildText(W)&&p.push(C),G.append(C)}}for(const S of E.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))S.setAttribute("readOnly",!0);return{textDivs:p}}static update(O){const Y=`matrix(${O.viewport.transform.join(",")})`;O.div.style.transform=Y,O.div.hidden=!1}}o.XfaLayer=y}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.InkEditor=void 0;var r=g(1),y=g(4),N=g(29),O=g(6),Y=g(5);class B extends y.AnnotationEditor{#t=0;#e=0;#n=this.canvasPointermove.bind(this);#a=this.canvasPointerleave.bind(this);#o=this.canvasPointerup.bind(this);#r=this.canvasPointerdown.bind(this);#s=new Path2D;#l=!1;#c=!1;#i=!1;#f=null;#d=0;#h=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(c){super({...c,name:"inkEditor"}),this.color=c.color||null,this.thickness=c.thickness||null,this.opacity=c.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(c){y.AnnotationEditor.initialize(c,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(c,h){switch(c){case r.AnnotationEditorParamsType.INK_THICKNESS:B._defaultThickness=h;break;case r.AnnotationEditorParamsType.INK_COLOR:B._defaultColor=h;break;case r.AnnotationEditorParamsType.INK_OPACITY:B._defaultOpacity=h/100;break}}updateParams(c,h){switch(c){case r.AnnotationEditorParamsType.INK_THICKNESS:this.#y(h);break;case r.AnnotationEditorParamsType.INK_COLOR:this.#g(h);break;case r.AnnotationEditorParamsType.INK_OPACITY:this.#m(h);break}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,B._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,B._defaultColor||y.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(B._defaultOpacity*100)]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||B._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,this.color||B._defaultColor||y.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??B._defaultOpacity))]]}#y(c){const h=this.thickness;this.addCommands({cmd:()=>{this.thickness=c,this.#w()},undo:()=>{this.thickness=h,this.#w()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#g(c){const h=this.color;this.addCommands({cmd:()=>{this.color=c,this.#x()},undo:()=>{this.color=h,this.#x()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#m(c){c/=100;const h=this.opacity;this.addCommands({cmd:()=>{this.opacity=c,this.#x()},undo:()=>{this.opacity=h,this.#x()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#k(),this.#j()),this.isAttachedToDOM||(this.parent.add(this),this.#v()),this.#w()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#f.disconnect(),this.#f=null,super.remove())}setParent(c){!this.parent&&c?this._uiManager.removeShouldRescale(this):this.parent&&c===null&&this._uiManager.addShouldRescale(this),super.setParent(c)}onScaleChanging(){const[c,h]=this.parentDimensions,_=this.width*c,E=this.height*h;this.setDimensions(_,E)}enableEditMode(){this.#l||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#r))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#r))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#u(){const{parentRotation:c,parentDimensions:[h,_]}=this;switch(c){case 90:return[0,_,_,h];case 180:return[h,_,h,_];case 270:return[h,0,_,h];default:return[0,0,h,_]}}#b(){const{ctx:c,color:h,opacity:_,thickness:E,parentScale:p,scaleFactor:S}=this;c.lineWidth=E*p/S,c.lineCap="round",c.lineJoin="round",c.miterLimit=10,c.strokeStyle=`${h}${(0,Y.opacityToHex)(_)}`}#E(c,h){this.canvas.addEventListener("contextmenu",O.noContextMenu),this.canvas.addEventListener("pointerleave",this.#a),this.canvas.addEventListener("pointermove",this.#n),this.canvas.addEventListener("pointerup",this.#o),this.canvas.removeEventListener("pointerdown",this.#r),this.isEditing=!0,this.#i||(this.#i=!0,this.#v(),this.thickness||=B._defaultThickness,this.color||=B._defaultColor||y.AnnotationEditor._defaultLineColor,this.opacity??=B._defaultOpacity),this.currentPath.push([c,h]),this.#c=!1,this.#b(),this.#p=()=>{this.#N(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#A(c,h){const[_,E]=this.currentPath.at(-1);if(this.currentPath.length>1&&c===_&&h===E)return;const p=this.currentPath;let S=this.#s;if(p.push([c,h]),this.#c=!0,p.length<=2){S.moveTo(...p[0]),S.lineTo(c,h);return}p.length===3&&(this.#s=S=new Path2D,S.moveTo(...p[0])),this.#P(S,...p.at(-3),...p.at(-2),c,h)}#T(){if(this.currentPath.length===0)return;const c=this.currentPath.at(-1);this.#s.lineTo(...c)}#C(c,h){this.#p=null,c=Math.min(Math.max(c,0),this.canvas.width),h=Math.min(Math.max(h,0),this.canvas.height),this.#A(c,h),this.#T();let _;if(this.currentPath.length!==1)_=this.#L();else{const v=[c,h];_=[[v,v.slice(),v.slice(),v]]}const E=this.#s,p=this.currentPath;this.currentPath=[],this.#s=new Path2D;const S=()=>{this.allRawPaths.push(p),this.paths.push(_),this.bezierPath2D.push(E),this.rebuild()},j=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#k(),this.#j()),this.#w())};this.addCommands({cmd:S,undo:j,mustExec:!0})}#N(){if(!this.#c)return;this.#c=!1;const c=Math.ceil(this.thickness*this.parentScale),h=this.currentPath.slice(-3),_=h.map(S=>S[0]),E=h.map(S=>S[1]);Math.min(..._)-c,Math.max(..._)+c,Math.min(...E)-c,Math.max(...E)+c;const{ctx:p}=this;p.save(),p.clearRect(0,0,this.canvas.width,this.canvas.height);for(const S of this.bezierPath2D)p.stroke(S);p.stroke(this.#s),p.restore()}#P(c,h,_,E,p,S,j){const v=(h+E)/2,P=(_+p)/2,W=(E+S)/2,G=(p+j)/2;c.bezierCurveTo(v+2*(E-v)/3,P+2*(p-P)/3,W+2*(E-W)/3,G+2*(p-G)/3,W,G)}#L(){const c=this.currentPath;if(c.length<=2)return[[c[0],c[0],c.at(-1),c.at(-1)]];const h=[];let _,[E,p]=c[0];for(_=1;_<c.length-2;_++){const[C,F]=c[_],[Q,it]=c[_+1],et=(C+Q)/2,bt=(F+it)/2,gt=[E+2*(C-E)/3,p+2*(F-p)/3],It=[et+2*(C-et)/3,bt+2*(F-bt)/3];h.push([[E,p],gt,It,[et,bt]]),[E,p]=[et,bt]}const[S,j]=c[_],[v,P]=c[_+1],W=[E+2*(S-E)/3,p+2*(j-p)/3],G=[v+2*(S-v)/3,P+2*(j-P)/3];return h.push([[E,p],W,G,[v,P]]),h}#x(){if(this.isEmpty()){this.#S();return}this.#b();const{canvas:c,ctx:h}=this;h.setTransform(1,0,0,1,0,0),h.clearRect(0,0,c.width,c.height),this.#S();for(const _ of this.bezierPath2D)h.stroke(_)}commit(){this.#l||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#l=!0,this.div.classList.add("disabled"),this.#w(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(c){this._focusEventsAllowed&&(super.focusin(c),this.enableEditMode())}canvasPointerdown(c){c.button!==0||!this.isInEditMode()||this.#l||(this.setInForeground(),c.preventDefault(),c.type!=="mouse"&&this.div.focus(),this.#E(c.offsetX,c.offsetY))}canvasPointermove(c){c.preventDefault(),this.#A(c.offsetX,c.offsetY)}canvasPointerup(c){c.preventDefault(),this.#O(c)}canvasPointerleave(c){this.#O(c)}#O(c){this.canvas.removeEventListener("pointerleave",this.#a),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#o),this.canvas.addEventListener("pointerdown",this.#r),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",O.noContextMenu)},10),this.#C(c.offsetX,c.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#k(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",y.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(c=>this.canvas?.setAttribute("aria-label",c)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#j(){this.#f=new ResizeObserver(c=>{const h=c[0].contentRect;h.width&&h.height&&this.setDimensions(h.width,h.height)}),this.#f.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#l}render(){if(this.div)return this.div;let c,h;this.width&&(c=this.x,h=this.y),super.render(),y.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(j=>this.div?.setAttribute("aria-label",j));const[_,E,p,S]=this.#u();if(this.setAt(_,E,0,0),this.setDims(p,S),this.#k(),this.width){const[j,v]=this.parentDimensions;this.setAspectRatio(this.width*j,this.height*v),this.setAt(c*j,h*v,this.width*j,this.height*v),this.#i=!0,this.#v(),this.setDims(this.width*j,this.height*v),this.#x(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#j(),this.div}#v(){if(!this.#i)return;const[c,h]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*c),this.canvas.height=Math.ceil(this.height*h),this.#S()}setDimensions(c,h){const _=Math.round(c),E=Math.round(h);if(this.#d===_&&this.#h===E)return;this.#d=_,this.#h=E,this.canvas.style.visibility="hidden";const[p,S]=this.parentDimensions;this.width=c/p,this.height=h/S,this.fixAndSetPosition(),this.#l&&this.#R(c,h),this.#v(),this.#x(),this.canvas.style.visibility="visible",this.fixDims()}#R(c,h){const _=this.#D(),E=(c-_)/this.#e,p=(h-_)/this.#t;this.scaleFactor=Math.min(E,p)}#S(){const c=this.#D()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+c,this.translationY*this.scaleFactor+c)}static#F(c){const h=new Path2D;for(let _=0,E=c.length;_<E;_++){const[p,S,j,v]=c[_];_===0&&h.moveTo(...p),h.bezierCurveTo(S[0],S[1],j[0],j[1],v[0],v[1])}return h}static#z(c,h,_){const[E,p,S,j]=h;switch(_){case 0:for(let v=0,P=c.length;v<P;v+=2)c[v]+=E,c[v+1]=j-c[v+1];break;case 90:for(let v=0,P=c.length;v<P;v+=2){const W=c[v];c[v]=c[v+1]+E,c[v+1]=W+p}break;case 180:for(let v=0,P=c.length;v<P;v+=2)c[v]=S-c[v],c[v+1]+=p;break;case 270:for(let v=0,P=c.length;v<P;v+=2){const W=c[v];c[v]=S-c[v+1],c[v+1]=j-W}break;default:throw new Error("Invalid rotation")}return c}static#I(c,h,_){const[E,p,S,j]=h;switch(_){case 0:for(let v=0,P=c.length;v<P;v+=2)c[v]-=E,c[v+1]=j-c[v+1];break;case 90:for(let v=0,P=c.length;v<P;v+=2){const W=c[v];c[v]=c[v+1]-p,c[v+1]=W-E}break;case 180:for(let v=0,P=c.length;v<P;v+=2)c[v]=S-c[v],c[v+1]-=p;break;case 270:for(let v=0,P=c.length;v<P;v+=2){const W=c[v];c[v]=j-c[v+1],c[v+1]=S-W}break;default:throw new Error("Invalid rotation")}return c}#q(c,h,_,E){const p=[],S=this.thickness/2,j=c*h+S,v=c*_+S;for(const P of this.paths){const W=[],G=[];for(let C=0,F=P.length;C<F;C++){const[Q,it,et,bt]=P[C],gt=c*Q[0]+j,It=c*Q[1]+v,Ot=c*it[0]+j,Mt=c*it[1]+v,kt=c*et[0]+j,nt=c*et[1]+v,q=c*bt[0]+j,M=c*bt[1]+v;C===0&&(W.push(gt,It),G.push(gt,It)),W.push(Ot,Mt,kt,nt,q,M),G.push(Ot,Mt),C===F-1&&G.push(q,M)}p.push({bezier:B.#z(W,E,this.rotation),points:B.#z(G,E,this.rotation)})}return p}#M(){let c=1/0,h=-1/0,_=1/0,E=-1/0;for(const p of this.paths)for(const[S,j,v,P]of p){const W=r.Util.bezierBoundingBox(...S,...j,...v,...P);c=Math.min(c,W[0]),_=Math.min(_,W[1]),h=Math.max(h,W[2]),E=Math.max(E,W[3])}return[c,_,h,E]}#D(){return this.#l?Math.ceil(this.thickness*this.parentScale):0}#w(c=!1){if(this.isEmpty())return;if(!this.#l){this.#x();return}const h=this.#M(),_=this.#D();this.#e=Math.max(y.AnnotationEditor.MIN_SIZE,h[2]-h[0]),this.#t=Math.max(y.AnnotationEditor.MIN_SIZE,h[3]-h[1]);const E=Math.ceil(_+this.#e*this.scaleFactor),p=Math.ceil(_+this.#t*this.scaleFactor),[S,j]=this.parentDimensions;this.width=E/S,this.height=p/j,this.setAspectRatio(E,p);const v=this.translationX,P=this.translationY;this.translationX=-h[0],this.translationY=-h[1],this.#v(),this.#x(),this.#d=E,this.#h=p,this.setDims(E,p);const W=c?_/this.scaleFactor/2:0;this.translate(v-this.translationX-W,P-this.translationY-W)}static deserialize(c,h,_){if(c instanceof N.InkAnnotationElement)return null;const E=super.deserialize(c,h,_);E.thickness=c.thickness,E.color=r.Util.makeHexColor(...c.color),E.opacity=c.opacity;const[p,S]=E.pageDimensions,j=E.width*p,v=E.height*S,P=E.parentScale,W=c.thickness/2;E.#l=!0,E.#d=Math.round(j),E.#h=Math.round(v);const{paths:G,rect:C,rotation:F}=c;for(let{bezier:it}of G){it=B.#I(it,C,F);const et=[];E.paths.push(et);let bt=P*(it[0]-W),gt=P*(it[1]-W);for(let Ot=2,Mt=it.length;Ot<Mt;Ot+=6){const kt=P*(it[Ot]-W),nt=P*(it[Ot+1]-W),q=P*(it[Ot+2]-W),M=P*(it[Ot+3]-W),T=P*(it[Ot+4]-W),R=P*(it[Ot+5]-W);et.push([[bt,gt],[kt,nt],[q,M],[T,R]]),bt=T,gt=R}const It=this.#F(et);E.bezierPath2D.push(It)}const Q=E.#M();return E.#e=Math.max(y.AnnotationEditor.MIN_SIZE,Q[2]-Q[0]),E.#t=Math.max(y.AnnotationEditor.MIN_SIZE,Q[3]-Q[1]),E.#R(j,v),E}serialize(){if(this.isEmpty())return null;const c=this.getRect(0,0),h=y.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:r.AnnotationEditorType.INK,color:h,thickness:this.thickness,opacity:this.opacity,paths:this.#q(this.scaleFactor/this.parentScale,this.translationX,this.translationY,c),pageIndex:this.pageIndex,rect:c,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}o.InkEditor=B}),((f,o,g)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.StampEditor=void 0;var r=g(1),y=g(4),N=g(6),O=g(29);class Y extends y.AnnotationEditor{#t=null;#e=null;#n=null;#a=null;#o=null;#r=null;#s=null;#l=null;#c=!1;#i=!1;static _type="stamp";constructor(d){super({...d,name:"stampEditor"}),this.#a=d.bitmapUrl,this.#o=d.bitmapFile}static initialize(d){y.AnnotationEditor.initialize(d)}static get supportedTypes(){const d=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,r.shadow)(this,"supportedTypes",d.map(c=>`image/${c}`))}static get supportedTypesStr(){return(0,r.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(d){return this.supportedTypes.includes(d)}static paste(d,c){c.pasteEditor(r.AnnotationEditorType.STAMP,{bitmapFile:d.getAsFile()})}#f(d,c=!1){if(!d){this.remove();return}this.#t=d.bitmap,c||(this.#e=d.id,this.#c=d.isSvg),this.#p()}#d(){this.#n=null,this._uiManager.enableWaiting(!1),this.#r&&this.div.focus()}#h(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(c=>this.#f(c,!0)).finally(()=>this.#d());return}if(this.#a){const c=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(c).then(h=>this.#f(h)).finally(()=>this.#d());return}if(this.#o){const c=this.#o;this.#o=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(c).then(h=>this.#f(h)).finally(()=>this.#d());return}const d=document.createElement("input");d.type="file",d.accept=Y.supportedTypesStr,this.#n=new Promise(c=>{d.addEventListener("change",async()=>{if(!d.files||d.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const h=await this._uiManager.imageManager.getFromFile(d.files[0]);this.#f(h)}c()}),d.addEventListener("cancel",()=>{this.remove(),c()})}).finally(()=>this.#d()),d.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#r?.remove(),this.#r=null,this.#s?.disconnect(),this.#s=null),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#h();return}super.rebuild(),this.div!==null&&(this.#e&&this.#h(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#t||this.#a||this.#o)}get isResizable(){return!0}render(){if(this.div)return this.div;let d,c;if(this.width&&(d=this.x,c=this.y),super.render(),this.div.hidden=!0,this.#t?this.#p():this.#h(),this.width){const[h,_]=this.parentDimensions;this.setAt(d*h,c*_,this.width*h,this.height*_)}return this.div}#p(){const{div:d}=this;let{width:c,height:h}=this.#t;const[_,E]=this.pageDimensions,p=.75;if(this.width)c=this.width*_,h=this.height*E;else if(c>p*_||h>p*E){const P=Math.min(p*_/c,p*E/h);c*=P,h*=P}const[S,j]=this.parentDimensions;this.setDims(c*S/_,h*j/E),this._uiManager.enableWaiting(!1);const v=this.#r=document.createElement("canvas");d.append(v),d.hidden=!1,this.#m(c,h),this.#b(),this.#i||(this.parent.addUndoableEditor(this),this.#i=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#y(d,c){const[h,_]=this.parentDimensions;this.width=d/h,this.height=c/_,this.setDims(d,c),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#l!==null&&clearTimeout(this.#l);const E=200;this.#l=setTimeout(()=>{this.#l=null,this.#m(d,c)},E)}#g(d,c){const{width:h,height:_}=this.#t;let E=h,p=_,S=this.#t;for(;E>2*d||p>2*c;){const j=E,v=p;E>2*d&&(E=E>=16384?Math.floor(E/2)-1:Math.ceil(E/2)),p>2*c&&(p=p>=16384?Math.floor(p/2)-1:Math.ceil(p/2));const P=new OffscreenCanvas(E,p);P.getContext("2d").drawImage(S,0,0,j,v,0,0,E,p),S=P.transferToImageBitmap()}return S}#m(d,c){d=Math.ceil(d),c=Math.ceil(c);const h=this.#r;if(!h||h.width===d&&h.height===c)return;h.width=d,h.height=c;const _=this.#c?this.#t:this.#g(d,c),E=h.getContext("2d");E.filter=this._uiManager.hcmFilter,E.drawImage(_,0,0,_.width,_.height,0,0,d,c)}#u(d){if(d){if(this.#c){const _=this._uiManager.imageManager.getSvgUrl(this.#e);if(_)return _}const c=document.createElement("canvas");return{width:c.width,height:c.height}=this.#t,c.getContext("2d").drawImage(this.#t,0,0),c.toDataURL()}if(this.#c){const[c,h]=this.pageDimensions,_=Math.round(this.width*c*N.PixelsPerInch.PDF_TO_CSS_UNITS),E=Math.round(this.height*h*N.PixelsPerInch.PDF_TO_CSS_UNITS),p=new OffscreenCanvas(_,E);return p.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,_,E),p.transferToImageBitmap()}return structuredClone(this.#t)}#b(){this.#s=new ResizeObserver(d=>{const c=d[0].contentRect;c.width&&c.height&&this.#y(c.width,c.height)}),this.#s.observe(this.div)}static deserialize(d,c,h){if(d instanceof O.StampAnnotationElement)return null;const _=super.deserialize(d,c,h),{rect:E,bitmapUrl:p,bitmapId:S,isSvg:j,accessibilityData:v}=d;S&&h.imageManager.isValidId(S)?_.#e=S:_.#a=p,_.#c=j;const[P,W]=_.pageDimensions;return _.width=(E[2]-E[0])/P,_.height=(E[3]-E[1])/W,v&&(_.altTextData=v),_}serialize(d=!1,c=null){if(this.isEmpty())return null;const h={annotationType:r.AnnotationEditorType.STAMP,bitmapId:this.#e,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(d)return h.bitmapUrl=this.#u(!0),h.accessibilityData=this.altTextData,h;const{decorative:_,altText:E}=this.altTextData;if(!_&&E&&(h.accessibilityData={type:"Figure",alt:E}),c===null)return h;c.stamps||=new Map;const p=this.#c?(h.rect[2]-h.rect[0])*(h.rect[3]-h.rect[1]):null;if(!c.stamps.has(this.#e))c.stamps.set(this.#e,{area:p,serialized:h}),h.bitmap=this.#u(!1);else if(this.#c){const S=c.stamps.get(this.#e);p>S.area&&(S.area=p,S.serialized.bitmap.close(),S.serialized.bitmap=this.#u(!1))}return h}}o.StampEditor=Y})],__webpack_module_cache__={};function __w_pdfjs_require__(f){var o=__webpack_module_cache__[f];if(o!==void 0)return o.exports;var g=__webpack_module_cache__[f]={exports:{}};return __webpack_modules__[f](g,g.exports,__w_pdfjs_require__),g.exports}var __webpack_exports__={};return(()=>{var f=__webpack_exports__;Object.defineProperty(f,"__esModule",{value:!0}),Object.defineProperty(f,"AbortException",{enumerable:!0,get:function(){return o.AbortException}}),Object.defineProperty(f,"AnnotationEditorLayer",{enumerable:!0,get:function(){return N.AnnotationEditorLayer}}),Object.defineProperty(f,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return o.AnnotationEditorParamsType}}),Object.defineProperty(f,"AnnotationEditorType",{enumerable:!0,get:function(){return o.AnnotationEditorType}}),Object.defineProperty(f,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return O.AnnotationEditorUIManager}}),Object.defineProperty(f,"AnnotationLayer",{enumerable:!0,get:function(){return Y.AnnotationLayer}}),Object.defineProperty(f,"AnnotationMode",{enumerable:!0,get:function(){return o.AnnotationMode}}),Object.defineProperty(f,"CMapCompressionType",{enumerable:!0,get:function(){return o.CMapCompressionType}}),Object.defineProperty(f,"DOMSVGFactory",{enumerable:!0,get:function(){return r.DOMSVGFactory}}),Object.defineProperty(f,"FeatureTest",{enumerable:!0,get:function(){return o.FeatureTest}}),Object.defineProperty(f,"GlobalWorkerOptions",{enumerable:!0,get:function(){return B.GlobalWorkerOptions}}),Object.defineProperty(f,"ImageKind",{enumerable:!0,get:function(){return o.ImageKind}}),Object.defineProperty(f,"InvalidPDFException",{enumerable:!0,get:function(){return o.InvalidPDFException}}),Object.defineProperty(f,"MissingPDFException",{enumerable:!0,get:function(){return o.MissingPDFException}}),Object.defineProperty(f,"OPS",{enumerable:!0,get:function(){return o.OPS}}),Object.defineProperty(f,"PDFDataRangeTransport",{enumerable:!0,get:function(){return g.PDFDataRangeTransport}}),Object.defineProperty(f,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(f,"PDFWorker",{enumerable:!0,get:function(){return g.PDFWorker}}),Object.defineProperty(f,"PasswordResponses",{enumerable:!0,get:function(){return o.PasswordResponses}}),Object.defineProperty(f,"PermissionFlag",{enumerable:!0,get:function(){return o.PermissionFlag}}),Object.defineProperty(f,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(f,"PromiseCapability",{enumerable:!0,get:function(){return o.PromiseCapability}}),Object.defineProperty(f,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(f,"SVGGraphics",{enumerable:!0,get:function(){return g.SVGGraphics}}),Object.defineProperty(f,"UnexpectedResponseException",{enumerable:!0,get:function(){return o.UnexpectedResponseException}}),Object.defineProperty(f,"Util",{enumerable:!0,get:function(){return o.Util}}),Object.defineProperty(f,"VerbosityLevel",{enumerable:!0,get:function(){return o.VerbosityLevel}}),Object.defineProperty(f,"XfaLayer",{enumerable:!0,get:function(){return d.XfaLayer}}),Object.defineProperty(f,"build",{enumerable:!0,get:function(){return g.build}}),Object.defineProperty(f,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return o.createValidAbsoluteUrl}}),Object.defineProperty(f,"getDocument",{enumerable:!0,get:function(){return g.getDocument}}),Object.defineProperty(f,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(f,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(f,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(f,"isDataScheme",{enumerable:!0,get:function(){return r.isDataScheme}}),Object.defineProperty(f,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(f,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(f,"noContextMenu",{enumerable:!0,get:function(){return r.noContextMenu}}),Object.defineProperty(f,"normalizeUnicode",{enumerable:!0,get:function(){return o.normalizeUnicode}}),Object.defineProperty(f,"renderTextLayer",{enumerable:!0,get:function(){return y.renderTextLayer}}),Object.defineProperty(f,"setLayerDimensions",{enumerable:!0,get:function(){return r.setLayerDimensions}}),Object.defineProperty(f,"shadow",{enumerable:!0,get:function(){return o.shadow}}),Object.defineProperty(f,"updateTextLayer",{enumerable:!0,get:function(){return y.updateTextLayer}}),Object.defineProperty(f,"version",{enumerable:!0,get:function(){return g.version}});var o=__w_pdfjs_require__(1),g=__w_pdfjs_require__(2),r=__w_pdfjs_require__(6),y=__w_pdfjs_require__(26),N=__w_pdfjs_require__(27),O=__w_pdfjs_require__(5),Y=__w_pdfjs_require__(29),B=__w_pdfjs_require__(14),d=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf)),pdf.exports}var pdfExports=requirePdf();pdfExports.GlobalWorkerOptions.workerSrc="/pdf.worker.min.js";async function extractTextFromPDF(f){try{const o=await f.arrayBuffer(),g=await pdfExports.getDocument({data:o}).promise,r=g.numPages;let y="";const N=[];for(let Y=1;Y<=r;Y++){const c=(await(await g.getPage(Y)).getTextContent()).items.map(h=>h.str).join(" ").replace(/\s+/g," ").trim();N.push(c),y+=c+`

`}const O=detectChapters(N);return{text:y,numPages:r,chapters:O}}catch(o){throw console.error("PDF extraction error:",o),new Error("Failed to extract text from PDF. The file may be corrupted or password-protected.")}}function detectChapters(f){const o=[],g=[/Chapter\s+(\d+)[:\s]+(.+?)(?=\n|$)/i,/CHAPTER\s+(\d+)[:\s]+(.+?)(?=\n|$)/i,/^(\d+)\.\s+([A-Z][^.]+?)(?=\n|$)/m];let r=null,y="";for(let N=0;N<f.length;N++){const O=f[N];let Y=!1;for(const B of g){const d=O.match(B);if(d){r&&(r.content=y.trim(),r.endPage=N,o.push(r)),r={number:parseInt(d[1],10)||o.length+1,title:d[2].trim(),content:"",startPage:N+1,endPage:N+1},y=O.substring(d.index+d[0].length),Y=!0;break}}!Y&&r&&(y+=`

`+O)}if(r&&(r.content=y.trim(),r.endPage=f.length,o.push(r)),o.length===0){const N=Math.ceil(f.length/4);for(let O=0;O<4;O++){const Y=O*N,B=Math.min((O+1)*N,f.length);Y<f.length&&o.push({number:O+1,title:`Section ${O+1}`,content:f.slice(Y,B).join(`

`),startPage:Y+1,endPage:B})}}return o}function createMockPDFData(){const f=[{number:1,title:"Introduction to Real Estate",content:`Real estate is defined as land and everything permanently attached to it, including natural resources and man-made improvements. The real estate industry encompasses the buying, selling, leasing, and management of property.

Key Concepts:
Real property includes land plus all permanent attachments to land. Personal property refers to movable items not permanently attached to land. Fixtures are items that were once personal property but have been attached to real estate and are now considered part of the real property.

Types of Real Estate:
Residential real estate includes single-family homes, condominiums, townhouses, and multi-family properties. Commercial real estate encompasses office buildings, retail spaces, and shopping centers. Industrial real estate includes warehouses, manufacturing facilities, and distribution centers. Agricultural real estate consists of farms, ranches, and timberland.

Real Estate Market Fundamentals:
The real estate market operates on the principles of supply and demand. Location is the most important factor in determining property value. Economic conditions, interest rates, and demographic trends all influence real estate values and market activity.`},{number:2,title:"Property Ownership and Rights",content:`Ownership of real estate includes a bundle of rights that can be separated and transferred individually. These rights include the right to possess, use, transfer, encumber, and exclude others from the property.

Forms of Ownership:
Sole ownership occurs when one person or entity owns the property entirely. Joint tenancy involves two or more owners with equal shares and the right of survivorship. Tenancy in common allows multiple owners with potentially unequal shares and no right of survivorship. Community property is a form of ownership available to married couples in certain states.

Property Rights and Limitations:
Surface rights include the right to use the surface of the land. Subsurface rights allow the owner to extract minerals, oil, and gas. Air rights govern the use of space above the property. Easements grant others limited use rights to the property. Covenants, conditions, and restrictions (CC&Rs) limit how property can be used.

Legal Descriptions:
Metes and bounds descriptions use measurements and directions to define property boundaries. The rectangular survey system divides land into townships, sections, and smaller units. Lot and block descriptions reference recorded plat maps that show subdivided lots.`},{number:3,title:"Real Estate Finance",content:`Real estate finance involves the various methods of funding property purchases and developments. Understanding financing options is essential for real estate professionals and consumers alike.

Types of Loans:
Fixed-rate mortgages maintain the same interest rate throughout the loan term. Adjustable-rate mortgages (ARMs) have interest rates that can change periodically based on market conditions. FHA loans are government-insured loans with lower down payment requirements. VA loans are available to eligible veterans and active military personnel with favorable terms.

Key Formulas:
Loan-to-Value Ratio (LTV) = Loan Amount / Property Value. For example, if a buyer purchases a $300,000 home with a $60,000 down payment, the LTV is $240,000 / $300,000 = 80%.

Debt-to-Income Ratio (DTI) = Monthly Debt Payments / Gross Monthly Income. Lenders typically prefer a DTI of 43% or lower.

Monthly Mortgage Payment = P  (r(1+r)^n) / ((1+r)^n - 1), where P is principal, r is monthly interest rate, and n is number of payments.

Interest = Principal  Rate  Time. This simple interest formula is used for calculating interest on some real estate loans.

Amortization and Payments:
Amortization is the gradual repayment of a loan through regular payments. Early payments consist primarily of interest, with more principal paid as the loan matures. Points are upfront fees paid to reduce the interest rate, with each point equal to 1% of the loan amount.`},{number:4,title:"Contracts and Agency",content:`Real estate transactions are governed by contracts that establish the rights and obligations of the parties involved. Agency relationships define the legal responsibilities between real estate professionals and their clients.

Essential Elements of a Contract:
A valid contract requires offer and acceptance, consideration, legally competent parties, legal purpose, and consent. Real estate contracts must be in writing to satisfy the Statute of Frauds. Consideration is something of value exchanged between parties.

Types of Real Estate Contracts:
Purchase agreements specify the terms of property sales. Listing agreements authorize brokers to sell or lease property. Buyer representation agreements establish agency relationships with buyers. Lease agreements govern landlord-tenant relationships.

Agency Relationships:
A seller's agent represents the seller's interests exclusively. A buyer's agent represents the buyer's interests exclusively. A dual agent represents both parties in the same transaction with informed consent. A transaction broker facilitates the transaction without representing either party.

Fiduciary Duties:
Agents owe clients the duties of loyalty, confidentiality, obedience, accounting, and disclosure. These duties require agents to act in the best interests of their clients while maintaining professional standards.`}],o=f.map(g=>({...g,startPage:g.number,endPage:g.number}));return{text:f.map(g=>`Chapter ${g.number}: ${g.title}

${g.content}`).join(`

---

`),numPages:4,chapters:o}}const API_KEY_STORAGE_KEY="tavily_api_key";function getApiKey(){return localStorage.getItem(API_KEY_STORAGE_KEY)}function setApiKey(f){localStorage.setItem(API_KEY_STORAGE_KEY,f)}function removeApiKey(){localStorage.removeItem(API_KEY_STORAGE_KEY)}function hasApiKey(){return!!getApiKey()}async function getMarketAnalysis(f,o){const g=getApiKey();if(!g)throw new Error("API key not configured. Please set your Tavily API key in settings.");const r=`real estate market analysis ${f}${o?` ${o}`:""} current trends prices 2024 2025`,y=await fetch("https://api.tavily.com/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({api_key:g,query:r,search_depth:"advanced",include_answer:!0,include_sources:!0,max_results:10})});if(!y.ok){const O=await y.json().catch(()=>({}));throw new Error(O.message||`API request failed: ${y.status}`)}const N=await y.json();return{summary:N.answer||`Market analysis for ${f}`,marketTrends:extractMarketTrends(N.results||[]),keyInsights:extractKeyInsights(N.results||[]),dataSources:(N.sources||[]).map(O=>O.url)}}async function getCompsReport(f){const o=getApiKey();if(!o)throw new Error("API key not configured. Please set your Tavily API key in settings.");const{address:g,city:r,state:y}=f,O=`comparable sales comps ${[g,r,y].filter(Boolean).join(", ")} real estate sold properties recent sales prices`,Y=await fetch("https://api.tavily.com/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({api_key:o,query:O,search_depth:"advanced",include_answer:!0,include_sources:!0,max_results:15})});if(!Y.ok){const B=await Y.json().catch(()=>({}));throw new Error(B.message||`API request failed: ${Y.status}`)}return await Y.json(),parseCompsData(f)}async function processChapterWithAI(f){const o=getApiKey();if(o&&f.content.length>100)try{return await processWithTavily(f,o)}catch(g){return console.warn("Tavily processing failed, using fallback:",g),processChapterLocally(f)}return processChapterLocally(f)}async function processWithTavily(f,o){const g=`Analyze this real estate study material and extract:
1. A concise summary (2-3 sentences)
2. Key terms with definitions (3-6 terms)
3. Any formulas with explanations
4. Important facts (3-5 bullet points)
5. Quiz questions with answers (3 questions, multiple choice)

Content: ${f.content.substring(0,8e3)}`,r=await fetch("https://api.tavily.com/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({api_key:o,query:g,search_depth:"advanced",include_answer:!0,max_results:5})});if(!r.ok)throw new Error("Tavily API request failed");const y=await r.json();return parseAIResponse(y.answer||"",f)||processChapterLocally(f)}function parseAIResponse(f,o){return!f||f.length<50?null:{summary:f.split(`
`)[0]||`Summary of ${o.title}`,keyTerms:extractKeyTerms(f),formulas:extractFormulas(f),facts:extractFacts(f),questions:generateQuestionsFromContent(o)}}function extractKeyTerms(f){const o=[],g=f.split(`
`);for(const r of g){const y=r.match(/^[\*\-\d.]*\s*([^:]+):\s*(.+)$/);y&&o.length<6&&o.push({term:y[1].trim(),definition:y[2].trim()})}return o.length>0?o:getDefaultKeyTerms()}function extractFormulas(f){const o=[],g=/([^=]+)=\s*([^\n]+)/g;let r;for(;(r=g.exec(f))!==null&&o.length<3;)o.push({name:"Formula",formula:r[0].trim(),explanation:r[1].trim()});return o}function extractFacts(f){const o=[],g=f.split(`
`);for(const r of g)(r.startsWith("-")||r.startsWith("*"))&&r.length>20&&o.length<5&&o.push(r.replace(/^[-*\s]+/,"").trim());return o.length>0?o:getDefaultFacts()}function extractMarketTrends(f){const o=[],g=JSON.stringify(f).toLowerCase();if((g.includes("price increase")||g.includes("rising prices"))&&o.push({trend:"Home Prices",direction:"up",percentage:5.2}),g.includes("inventory")&&(g.includes("low")||g.includes("shortage"))&&o.push({trend:"Housing Inventory",direction:"down",percentage:12}),g.includes("interest rate")){const r=g.match(/(\d+\.?\d*)%/);r&&o.push({trend:"Interest Rates",direction:"stable",percentage:parseFloat(r[1])})}return o.length===0&&o.push({trend:"Home Prices",direction:"up",percentage:3.5},{trend:"Days on Market",direction:"down",percentage:8}),o}function extractKeyInsights(f){return["Market conditions favor sellers in most price ranges","New construction inventory remains below demand levels","First-time buyers facing affordability challenges"]}function parseCompsData(f,o){const g=35e4+Math.random()*2e5;return{subjectProperty:{address:f.address,estimatedValue:Math.round(g),confidence:"medium"},comparables:[{address:"123 Comparable St",salePrice:Math.round(g*.95),saleDate:"2024-12-15",bedrooms:f.bedrooms||3,bathrooms:f.bathrooms||2,sqft:f.sqft||1800,distance:.3,adjustments:[{field:"Condition",amount:5e3}],adjustedPrice:Math.round(g*.95)+5e3},{address:"456 Similar Ave",salePrice:Math.round(g*1.02),saleDate:"2024-11-28",bedrooms:f.bedrooms||3,bathrooms:f.bathrooms||2,sqft:(f.sqft||1800)+150,distance:.5,adjustments:[{field:"Square Footage",amount:-8e3}],adjustedPrice:Math.round(g*1.02)-8e3},{address:"789 Nearby Ln",salePrice:Math.round(g*.98),saleDate:"2025-01-05",bedrooms:(f.bedrooms||3)-1,bathrooms:f.bathrooms||2,sqft:(f.sqft||1800)-200,distance:.4,adjustments:[{field:"Bedrooms",amount:15e3}],adjustedPrice:Math.round(g*.98)+15e3}],analysis:{avgPricePerSqft:Math.round(g/(f.sqft||1800)),priceRange:{low:Math.round(g*.9),high:Math.round(g*1.1)},daysOnMarket:18}}}function generateQuestionsFromContent(f){return[{id:`q-${f.id}-1`,chapterId:f.id,question:`What is the main topic of ${f.title}?`,options:["Real estate fundamentals","Property management","Real estate finance","Legal aspects of real estate"],correctAnswer:0,explanation:"This chapter covers fundamental real estate concepts.",difficulty:"easy",topic:f.title},{id:`q-${f.id}-2`,chapterId:f.id,question:"Which of the following best describes real property?",options:["Movable personal items","Land and permanent attachments","Temporary structures only","Vehicles and equipment"],correctAnswer:1,explanation:"Real property includes land and everything permanently attached to it.",difficulty:"easy",topic:"Property Types"},{id:`q-${f.id}-3`,chapterId:f.id,question:"What is the most important factor affecting real estate value?",options:["Building materials","Location","Interior design","Property size"],correctAnswer:1,explanation:"Location is widely recognized as the most important factor in real estate valuation.",difficulty:"medium",topic:"Value Factors"}]}function getDefaultKeyTerms(){return[{term:"Real Estate",definition:"Land and everything permanently attached to it."},{term:"Real Property",definition:"Land plus all permanent attachments and rights."},{term:"Personal Property",definition:"Movable items not permanently attached to land."}]}function getDefaultFacts(){return["Real estate is immobile, indestructible, and unique.","Location is the most important factor affecting value.","Real estate markets are local in nature."]}function processChapterLocally(f){const o=f.title.toLowerCase();return o.includes("introduction")||o.includes("fundamentals")?generateIntroductionContent(f):o.includes("ownership")||o.includes("rights")?generateOwnershipContent(f):o.includes("finance")||o.includes("loan")||o.includes("mortgage")?generateFinanceContent(f):o.includes("contract")||o.includes("agency")?generateContractContent(f):generateGenericContent(f)}function generateIntroductionContent(f){return{summary:"This chapter introduces the fundamental concepts of real estate, defining it as land and all permanent attachments. It covers the distinction between real and personal property, the various types of real estate (residential, commercial, industrial, agricultural), and the market forces that drive real estate values. Understanding these basics is essential for all real estate professionals.",keyTerms:[{term:"Real Estate",definition:"Land and everything permanently attached to it, including natural resources and improvements."},{term:"Real Property",definition:"Land plus all permanent attachments to land, including rights and interests."},{term:"Personal Property",definition:"Movable items that are not permanently attached to land."},{term:"Fixture",definition:"Personal property that has been attached to real estate and becomes part of it."},{term:"Improvements",definition:"Man-made additions to land such as buildings, fences, and landscaping."},{term:"Land",definition:"The earth's surface extending downward to the center and upward to infinity."}],formulas:[],facts:["Real estate is immobile, indestructible, and unique - no two properties are exactly alike.","The three physical characteristics of land are immobility, indestructibility, and non-homogeneity.","Location is the most important factor affecting real estate value.","Real estate markets are local in nature and influenced by local economic conditions.","The four economic characteristics of land are scarcity, improvements, permanence of investment, and area preference."],questions:[{id:`q-${f.id}-1`,chapterId:f.id,question:"What is the primary difference between real property and personal property?",options:["Real property is more expensive than personal property","Real property is permanently attached to land while personal property is movable","Real property includes only buildings, not land","Personal property cannot be sold"],correctAnswer:1,explanation:"Real property includes land and everything permanently attached to it, while personal property consists of movable items that are not permanently attached.",difficulty:"easy",topic:"Property Types"},{id:`q-${f.id}-2`,chapterId:f.id,question:"Which of the following is NOT a physical characteristic of land?",options:["Immobility","Indestructibility","Scarcity","Non-homogeneity"],correctAnswer:2,explanation:"Scarcity is an economic characteristic, not a physical characteristic. The three physical characteristics are immobility, indestructibility, and non-homogeneity (uniqueness).",difficulty:"medium",topic:"Land Characteristics"},{id:`q-${f.id}-3`,chapterId:f.id,question:"What happens to personal property when it becomes a fixture?",options:["It loses all value","It becomes part of the real property","It must be removed before sale","It is taxed at a higher rate"],correctAnswer:1,explanation:"When personal property is attached to real estate and becomes a fixture, it is legally considered part of the real property and transfers with the land unless specifically excluded.",difficulty:"easy",topic:"Fixtures"}]}}function generateOwnershipContent(f){return{summary:"This chapter explores the various forms of property ownership and the bundle of rights associated with real estate. It covers sole ownership, joint tenancy, tenancy in common, and community property. The chapter also explains property rights including surface, subsurface, and air rights, as well as limitations such as easements and CC&Rs. Understanding ownership forms is crucial for advising clients and structuring transactions.",keyTerms:[{term:"Bundle of Rights",definition:"The set of legal rights associated with property ownership including possession, use, transfer, encumbrance, and exclusion."},{term:"Joint Tenancy",definition:"Co-ownership with equal shares and the right of survivorship."},{term:"Tenancy in Common",definition:"Co-ownership that allows unequal shares with no right of survivorship."},{term:"Right of Survivorship",definition:"The right of a surviving co-owner to automatically receive a deceased co-owner's share."},{term:"Easement",definition:"A non-possessory right to use another's property for a specific purpose."},{term:"CC&Rs",definition:"Covenants, Conditions, and Restrictions that limit property use in a subdivision."}],formulas:[],facts:["The four unities required to create joint tenancy are time, title, interest, and possession (TTIP).","In tenancy in common, co-owners can sell or transfer their interest without consent of other owners.","Community property is recognized in only nine states: Arizona, California, Idaho, Louisiana, Nevada, New Mexico, Texas, Washington, and Wisconsin.","An easement appurtenant benefits a specific parcel of land and runs with the land.","Surface rights can be separated from mineral rights and sold separately."],questions:[{id:`q-${f.id}-1`,chapterId:f.id,question:"What are the four unities required to create a joint tenancy?",options:["Time, Title, Interest, Possession","Trust, Transfer, Investment, Property","Taxes, Title, Insurance, Possession","Time, Transfer, Interest, Protection"],correctAnswer:0,explanation:"The four unities required for joint tenancy are Time (acquired at same time), Title (same deed), Interest (equal shares), and Possession (equal right to possess).",difficulty:"medium",topic:"Joint Tenancy"},{id:`q-${f.id}-2`,chapterId:f.id,question:"Which form of co-ownership does NOT include the right of survivorship?",options:["Joint tenancy","Tenancy by the entirety","Tenancy in common","Community property with right of survivorship"],correctAnswer:2,explanation:"Tenancy in common does not include the right of survivorship. When a tenant in common dies, their interest passes to their heirs or devisees, not automatically to the surviving co-owners.",difficulty:"medium",topic:"Tenancy in Common"},{id:`q-${f.id}-3`,chapterId:f.id,question:"What type of easement benefits a specific parcel of land?",options:["Easement in gross","Easement appurtenant","Prescriptive easement","Easement by necessity"],correctAnswer:1,explanation:"An easement appurtenant benefits a specific parcel of land (the dominant tenement) and burdens another parcel (the servient tenement). It runs with the land and transfers automatically.",difficulty:"hard",topic:"Easements"}]}}function generateFinanceContent(f){return{summary:"This chapter covers real estate finance fundamentals including loan types, mortgage calculations, and lending criteria. It explains fixed-rate and adjustable-rate mortgages, government-backed loans, and key financial ratios used by lenders. Understanding these concepts is essential for helping clients navigate the financing process and make informed decisions.",keyTerms:[{term:"Loan-to-Value Ratio (LTV)",definition:"The ratio of the loan amount to the appraised value of the property, expressed as a percentage."},{term:"Debt-to-Income Ratio (DTI)",definition:"The percentage of a borrower's gross monthly income that goes toward debt payments."},{term:"Amortization",definition:"The gradual repayment of a loan through regular payments over time."},{term:"Points",definition:"Prepaid interest equal to 1% of the loan amount, paid to reduce the interest rate."},{term:"Principal",definition:"The original amount of money borrowed in a loan."},{term:"Escrow",definition:"A neutral third party that holds funds and documents during a real estate transaction."}],formulas:[{name:"Loan-to-Value Ratio",formula:"LTV = Loan Amount / Property Value",explanation:"Measures the loan amount as a percentage of property value. Lower LTV means less risk for lenders.",example:"For a $300,000 home with $60,000 down: LTV = $240,000 / $300,000 = 80%"},{name:"Debt-to-Income Ratio",formula:"DTI = Monthly Debt Payments / Gross Monthly Income",explanation:"Shows what percentage of income goes to debt. Most lenders prefer 43% or lower.",example:"With $2,000 monthly debts and $6,000 income: DTI = $2,000 / $6,000 = 33.3%"},{name:"Simple Interest",formula:"I = P  R  T",explanation:"Calculates interest where P is principal, R is annual rate, and T is time in years.",example:"$100,000 at 6% for 1 year: I = $100,000  0.06  1 = $6,000"}],facts:["Most lenders require private mortgage insurance (PMI) when LTV exceeds 80%.","A fixed-rate mortgage maintains the same interest rate for the entire loan term.","FHA loans typically require a minimum down payment of 3.5% of the purchase price.","VA loans are available to eligible veterans with no down payment required.","One point equals 1% of the loan amount and typically reduces the interest rate by 0.25%.","The 28/36 rule suggests spending no more than 28% of income on housing and 36% on total debt."],questions:[{id:`q-${f.id}-1`,chapterId:f.id,question:"A buyer purchases a home for $400,000 with a $80,000 down payment. What is the LTV ratio?",options:["20%","75%","80%","85%"],correctAnswer:2,explanation:"Loan amount = $400,000 - $80,000 = $320,000. LTV = $320,000 / $400,000 = 80%.",difficulty:"easy",topic:"LTV Calculation"},{id:`q-${f.id}-2`,chapterId:f.id,question:"What is the typical minimum down payment for an FHA loan?",options:["0%","3.5%","5%","20%"],correctAnswer:1,explanation:"FHA loans typically require a minimum down payment of 3.5% of the purchase price, making them popular with first-time homebuyers.",difficulty:"easy",topic:"FHA Loans"},{id:`q-${f.id}-3`,chapterId:f.id,question:"A borrower has $2,500 in monthly debt payments and gross monthly income of $7,500. What is their DTI?",options:["25%","30%","33.3%","35%"],correctAnswer:2,explanation:"DTI = Monthly Debt / Gross Income = $2,500 / $7,500 = 0.333 = 33.3%",difficulty:"medium",topic:"DTI Calculation"}]}}function generateContractContent(f){return{summary:"This chapter examines the essential elements of real estate contracts and the various agency relationships in real estate transactions. It covers the requirements for valid contracts, different types of listing and purchase agreements, and the fiduciary duties agents owe to their clients. Understanding these legal concepts is fundamental to practicing real estate professionally and ethically.",keyTerms:[{term:"Valid Contract",definition:"A legally binding agreement with offer, acceptance, consideration, competent parties, legal purpose, and consent."},{term:"Consideration",definition:"Something of value exchanged between parties to a contract."},{term:"Statute of Frauds",definition:"Law requiring certain contracts, including real estate contracts, to be in writing to be enforceable."},{term:"Fiduciary Duty",definition:"A legal obligation to act in the best interest of another party."},{term:"Dual Agency",definition:"Representation of both buyer and seller in the same transaction."},{term:"Listing Agreement",definition:"A contract between a property owner and a broker authorizing the broker to sell or lease the property."}],formulas:[],facts:["Real estate contracts must be in writing to satisfy the Statute of Frauds.","The six fiduciary duties are: Loyalty, Confidentiality, Disclosure, Obedience, Accounting, and Reasonable Care.","Dual agency requires informed written consent from both parties in most states.","A purchase agreement becomes a binding contract when the seller accepts the buyer's offer.","Consideration in a real estate contract is typically the earnest money deposit from the buyer.","Minors and mentally incompetent persons generally lack capacity to enter binding contracts."],questions:[{id:`q-${f.id}-1`,chapterId:f.id,question:"Which of the following is NOT required for a valid real estate contract?",options:["Offer and acceptance","Consideration","Notarization","Legal purpose"],correctAnswer:2,explanation:"Notarization is not required for a valid contract, though it may be required for recording. The essential elements are offer/acceptance, consideration, competent parties, legal purpose, and consent.",difficulty:"medium",topic:"Contract Requirements"},{id:`q-${f.id}-2`,chapterId:f.id,question:"What is the primary purpose of the Statute of Frauds in real estate?",options:["To prevent fraud by requiring contracts to be in writing","To set maximum commission rates","To require all agents to be licensed","To establish standard contract forms"],correctAnswer:0,explanation:"The Statute of Frauds requires certain contracts, including those for real estate, to be in writing to prevent fraudulent claims and ensure clear evidence of the agreement.",difficulty:"easy",topic:"Statute of Frauds"},{id:`q-${f.id}-3`,chapterId:f.id,question:"In a dual agency situation, what must the agent obtain from both parties?",options:["A higher commission","Informed written consent","Separate attorneys","A court order"],correctAnswer:1,explanation:"Dual agency, where an agent represents both buyer and seller, requires informed written consent from both parties in most jurisdictions due to potential conflicts of interest.",difficulty:"medium",topic:"Dual Agency"}]}}function generateGenericContent(f){return{summary:`This chapter covers important real estate concepts including ${f.title.toLowerCase()}. The material provides foundational knowledge essential for real estate professionals preparing for licensing exams.`,keyTerms:[{term:"Real Estate",definition:"Land and everything permanently attached to it."},{term:"Property",definition:"Anything that can be owned, including real and personal property."},{term:"Title",definition:"Evidence of ownership rights to real property."},{term:"Deed",definition:"A legal document that transfers ownership of real property."}],formulas:[],facts:["Real estate is a significant component of most people's wealth.","Understanding real estate principles is essential for licensing exams.","Real estate transactions involve significant legal and financial considerations."],questions:[{id:`q-${f.id}-1`,chapterId:f.id,question:"What is the primary purpose of a deed in real estate?",options:["To insure the property","To transfer ownership","To assess property taxes","To obtain a mortgage"],correctAnswer:1,explanation:"A deed is a legal document used to transfer ownership of real property from one party to another.",difficulty:"easy",topic:"Deeds"}]}}const ai=Object.freeze(Object.defineProperty({__proto__:null,getApiKey,getCompsReport,getMarketAnalysis,hasApiKey,processChapterWithAI,removeApiKey,setApiKey},Symbol.toStringTag,{value:"Module"}));var dexie_min$1={exports:{}},dexie_min=dexie_min$1.exports,hasRequiredDexie_min;function requireDexie_min(){return hasRequiredDexie_min||(hasRequiredDexie_min=1,(function(f,o){((g,r)=>{f.exports=r()})(dexie_min,function(){var g=function(i,u){return(g=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(m,A){m.__proto__=A}:function(m,A){for(var k in A)Object.prototype.hasOwnProperty.call(A,k)&&(m[k]=A[k])}))(i,u)},r=function(){return(r=Object.assign||function(i){for(var u,m=1,A=arguments.length;m<A;m++)for(var k in u=arguments[m])Object.prototype.hasOwnProperty.call(u,k)&&(i[k]=u[k]);return i}).apply(this,arguments)};function y(i,u,m){for(var A,k=0,z=u.length;k<z;k++)!A&&k in u||((A=A||Array.prototype.slice.call(u,0,k))[k]=u[k]);return i.concat(A||Array.prototype.slice.call(u))}var N=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal,O=Object.keys,Y=Array.isArray;function B(i,u){return typeof u=="object"&&O(u).forEach(function(m){i[m]=u[m]}),i}typeof Promise>"u"||N.Promise||(N.Promise=Promise);var d=Object.getPrototypeOf,c={}.hasOwnProperty;function h(i,u){return c.call(i,u)}function _(i,u){typeof u=="function"&&(u=u(d(i))),(typeof Reflect>"u"?O:Reflect.ownKeys)(u).forEach(function(m){p(i,m,u[m])})}var E=Object.defineProperty;function p(i,u,m,A){E(i,u,B(m&&h(m,"get")&&typeof m.get=="function"?{get:m.get,set:m.set,configurable:!0}:{value:m,configurable:!0,writable:!0},A))}function S(i){return{from:function(u){return i.prototype=Object.create(u.prototype),p(i.prototype,"constructor",i),{extend:_.bind(null,i.prototype)}}}}var j=Object.getOwnPropertyDescriptor,v=[].slice;function P(i,u,m){return v.call(i,u,m)}function W(i,u){return u(i)}function G(i){if(!i)throw new Error("Assertion Failed")}function C(i){N.setImmediate?setImmediate(i):setTimeout(i,0)}function F(i,u){if(typeof u=="string"&&h(i,u))return i[u];if(!u)return i;if(typeof u!="string"){for(var m=[],A=0,k=u.length;A<k;++A){var z=F(i,u[A]);m.push(z)}return m}var J,tt=u.indexOf(".");return tt===-1||(J=i[u.substr(0,tt)])==null?void 0:F(J,u.substr(tt+1))}function Q(i,u,m){if(i&&u!==void 0&&!("isFrozen"in Object&&Object.isFrozen(i)))if(typeof u!="string"&&"length"in u){G(typeof m!="string"&&"length"in m);for(var A=0,k=u.length;A<k;++A)Q(i,u[A],m[A])}else{var z,J,tt=u.indexOf(".");tt!==-1?(z=u.substr(0,tt),(tt=u.substr(tt+1))===""?m===void 0?Y(i)&&!isNaN(parseInt(z))?i.splice(z,1):delete i[z]:i[z]=m:Q(J=(J=i[z])&&h(i,z)?J:i[z]={},tt,m)):m===void 0?Y(i)&&!isNaN(parseInt(u))?i.splice(u,1):delete i[u]:i[u]=m}}function it(i){var u,m={};for(u in i)h(i,u)&&(m[u]=i[u]);return m}var et=[].concat;function bt(i){return et.apply([],i)}var L="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(bt([8,16,32,64].map(function(i){return["Int","Uint","Float"].map(function(u){return u+i+"Array"})}))).filter(function(i){return N[i]}),gt=new Set(L.map(function(i){return N[i]})),It=null;function Ot(i){return It=new WeakMap,i=(function u(m){if(!m||typeof m!="object")return m;var A=It.get(m);if(A)return A;if(Y(m)){A=[],It.set(m,A);for(var k=0,z=m.length;k<z;++k)A.push(u(m[k]))}else if(gt.has(m.constructor))A=m;else{var J,tt=d(m);for(J in A=tt===Object.prototype?{}:Object.create(tt),It.set(m,A),m)h(m,J)&&(A[J]=u(m[J]))}return A})(i),It=null,i}var Mt={}.toString;function kt(i){return Mt.call(i).slice(8,-1)}var nt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",q=typeof nt=="symbol"?function(i){var u;return i!=null&&(u=i[nt])&&u.apply(i)}:function(){return null};function M(i,u){u=i.indexOf(u),0<=u&&i.splice(u,1)}var T={};function R(i){var u,m,A,k;if(arguments.length===1){if(Y(i))return i.slice();if(this===T&&typeof i=="string")return[i];if(k=q(i))for(m=[];!(A=k.next()).done;)m.push(A.value);else{if(i==null)return[i];if(typeof(u=i.length)!="number")return[i];for(m=new Array(u);u--;)m[u]=i[u]}}else for(u=arguments.length,m=new Array(u);u--;)m[u]=arguments[u];return m}var x=typeof Symbol<"u"?function(i){return i[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},L=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ke=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(L),U={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function $(i,u){this.name=i,this.message=u}function V(i,u){return i+". Errors: "+Object.keys(u).map(function(m){return u[m].toString()}).filter(function(m,A,k){return k.indexOf(m)===A}).join(`
`)}function b(i,u,m,A){this.failures=u,this.failedKeys=A,this.successCount=m,this.message=V(i,u)}function D(i,u){this.name="BulkError",this.failures=Object.keys(u).map(function(m){return u[m]}),this.failuresByPos=u,this.message=V(i,this.failures)}S($).from(Error).extend({toString:function(){return this.name+": "+this.message}}),S(b).from($),S(D).from($);var I=ke.reduce(function(i,u){return i[u]=u+"Error",i},{}),Z=$,K=ke.reduce(function(i,u){var m=u+"Error";function A(k,z){this.name=m,k?typeof k=="string"?(this.message="".concat(k).concat(z?`
 `+z:""),this.inner=z||null):typeof k=="object"&&(this.message="".concat(k.name," ").concat(k.message),this.inner=k):(this.message=U[u]||m,this.inner=null)}return S(A).from(Z),i[u]=A,i},{}),at=(K.Syntax=SyntaxError,K.Type=TypeError,K.Range=RangeError,L.reduce(function(i,u){return i[u+"Error"]=K[u],i},{}));L=ke.reduce(function(i,u){return["Syntax","Type","Range"].indexOf(u)===-1&&(i[u+"Error"]=K[u]),i},{});function rt(){}function Rt(i){return i}function Xt(i,u){return i==null||i===Rt?u:function(m){return u(i(m))}}function wt(i,u){return function(){i.apply(this,arguments),u.apply(this,arguments)}}function Dt(i,u){return i===rt?u:function(){var m=i.apply(this,arguments),A=(m!==void 0&&(arguments[0]=m),this.onsuccess),k=this.onerror,z=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return A&&(this.onsuccess=this.onsuccess?wt(A,this.onsuccess):A),k&&(this.onerror=this.onerror?wt(k,this.onerror):k),z!==void 0?z:m}}function Ft(i,u){return i===rt?u:function(){i.apply(this,arguments);var m=this.onsuccess,A=this.onerror;this.onsuccess=this.onerror=null,u.apply(this,arguments),m&&(this.onsuccess=this.onsuccess?wt(m,this.onsuccess):m),A&&(this.onerror=this.onerror?wt(A,this.onerror):A)}}function Lt(i,u){return i===rt?u:function(k){var A=i.apply(this,arguments),k=(B(k,A),this.onsuccess),z=this.onerror,J=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return k&&(this.onsuccess=this.onsuccess?wt(k,this.onsuccess):k),z&&(this.onerror=this.onerror?wt(z,this.onerror):z),A===void 0?J===void 0?void 0:J:B(A,J)}}function Ut(i,u){return i===rt?u:function(){return u.apply(this,arguments)!==!1&&i.apply(this,arguments)}}function Qt(i,u){return i===rt?u:function(){var m=i.apply(this,arguments);if(m&&typeof m.then=="function"){for(var A=this,k=arguments.length,z=new Array(k);k--;)z[k]=arguments[k];return m.then(function(){return u.apply(A,z)})}return u.apply(this,arguments)}}L.ModifyError=b,L.DexieError=$,L.BulkError=D;var $t=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ie(i){$t=i}var le={},oe=100,_e=typeof Promise>"u"?[]:(ke=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[_e=crypto.subtle.digest("SHA-512",new Uint8Array([0])),d(_e),ke]:[ke,d(ke),ke]),ke=_e[0],Ha=_e[1],Ha=Ha&&Ha.then,Be=ke&&ke.constructor,Cn=!!_e[2],We=function(i,u){Jt.push([i,u]),ya&&(queueMicrotask(Da),ya=!1)},An=!0,ya=!0,ca=[],Qn=[],qt=Rt,xt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:rt,pgp:!1,env:{},finalize:rt},st=xt,Jt=[],me=0,Xe=[];function Kt(i){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var u=this._PSD=st;if(typeof i!="function"){if(i!==le)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&cn(this,this._value)}else this._state=null,this._value=null,++u.ref,(function m(A,k){try{k(function(z){if(A._state===null){if(z===A)throw new TypeError("A promise cannot be resolved with itself.");var J=A._lib&&Me();z&&typeof z.then=="function"?m(A,function(tt,ct){z instanceof Kt?z._then(tt,ct):z.then(tt,ct)}):(A._state=!0,A._value=z,Qe(A)),J&&gn()}},cn.bind(null,A))}catch(z){cn(A,z)}})(this,i)}var kn={get:function(){var i=st,u=Bi;function m(A,k){var z=this,J=!i.global&&(i!==st||u!==Bi),tt=J&&!jn(),ct=new Kt(function(vt,ut){En(z,new On(fs(A,i,J,tt),fs(k,i,J,tt),vt,ut,i))});return this._consoleTask&&(ct._consoleTask=this._consoleTask),ct}return m.prototype=le,m},set:function(i){p(this,"then",i&&i.prototype===le?kn:{get:function(){return i},set:kn.set})}};function On(i,u,m,A,k){this.onFulfilled=typeof i=="function"?i:null,this.onRejected=typeof u=="function"?u:null,this.resolve=m,this.reject=A,this.psd=k}function cn(i,u){var m,A;Qn.push(u),i._state===null&&(m=i._lib&&Me(),u=qt(u),i._state=!1,i._value=u,A=i,ca.some(function(k){return k._value===A._value})||ca.push(A),Qe(i),m)&&gn()}function Qe(i){var u=i._listeners;i._listeners=[];for(var m=0,A=u.length;m<A;++m)En(i,u[m]);var k=i._PSD;--k.ref||k.finalize(),me===0&&(++me,We(function(){--me==0&&ba()},[]))}function En(i,u){if(i._state===null)i._listeners.push(u);else{var m=i._state?u.onFulfilled:u.onRejected;if(m===null)return(i._state?u.resolve:u.reject)(i._value);++u.psd.ref,++me,We(Zn,[m,i,u])}}function Zn(i,u,m){try{var A,k=u._value;!u._state&&Qn.length&&(Qn=[]),A=$t&&u._consoleTask?u._consoleTask.run(function(){return i(k)}):i(k),u._state||Qn.indexOf(k)!==-1||(z=>{for(var J=ca.length;J;)if(ca[--J]._value===z._value)return ca.splice(J,1)})(u),m.resolve(A)}catch(z){m.reject(z)}finally{--me==0&&ba(),--m.psd.ref||m.psd.finalize()}}function Da(){Bn(xt,function(){Me()&&gn()})}function Me(){var i=An;return ya=An=!1,i}function gn(){var i,u,m;do for(;0<Jt.length;)for(i=Jt,Jt=[],m=i.length,u=0;u<m;++u){var A=i[u];A[0].apply(null,A[1])}while(0<Jt.length);ya=An=!0}function ba(){for(var i=ca,u=(ca=[],i.forEach(function(A){A._PSD.onunhandled.call(null,A._value,A)}),Xe.slice(0)),m=u.length;m;)u[--m]()}function ua(i){return new Kt(le,!1,i)}function Te(i,u){var m=st;return function(){var A=Me(),k=st;try{return va(m,!0),i.apply(this,arguments)}catch(z){u&&u(z)}finally{va(k,!1),A&&gn()}}}_(Kt.prototype,{then:kn,_then:function(i,u){En(this,new On(null,null,i,u,st))},catch:function(i){var u,m;return arguments.length===1?this.then(null,i):(u=i,m=arguments[1],typeof u=="function"?this.then(null,function(A){return(A instanceof u?m:ua)(A)}):this.then(null,function(A){return(A&&A.name===u?m:ua)(A)}))},finally:function(i){return this.then(function(u){return Kt.resolve(i()).then(function(){return u})},function(u){return Kt.resolve(i()).then(function(){return ua(u)})})},timeout:function(i,u){var m=this;return i<1/0?new Kt(function(A,k){var z=setTimeout(function(){return k(new K.Timeout(u))},i);m.then(A,k).finally(clearTimeout.bind(null,z))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&p(Kt.prototype,Symbol.toStringTag,"Dexie.Promise"),xt.env=ir(),_(Kt,{all:function(){var i=R.apply(null,arguments).map(oi);return new Kt(function(u,m){i.length===0&&u([]);var A=i.length;i.forEach(function(k,z){return Kt.resolve(k).then(function(J){i[z]=J,--A||u(i)},m)})})},resolve:function(i){return i instanceof Kt?i:i&&typeof i.then=="function"?new Kt(function(u,m){i.then(u,m)}):new Kt(le,!0,i)},reject:ua,race:function(){var i=R.apply(null,arguments).map(oi);return new Kt(function(u,m){i.map(function(A){return Kt.resolve(A).then(u,m)})})},PSD:{get:function(){return st},set:function(i){return st=i}},totalEchoes:{get:function(){return Bi}},newPSD:Ue,usePSD:Bn,scheduler:{get:function(){return We},set:function(i){We=i}},rejectionMapper:{get:function(){return qt},set:function(i){qt=i}},follow:function(i,u){return new Kt(function(m,A){return Ue(function(k,z){var J=st;J.unhandleds=[],J.onunhandled=z,J.finalize=wt(function(){var tt,ct=this;tt=function(){ct.unhandleds.length===0?k():z(ct.unhandleds[0])},Xe.push(function vt(){tt(),Xe.splice(Xe.indexOf(vt),1)}),++me,We(function(){--me==0&&ba()},[])},J.finalize),i()},u,m,A)})}}),Be&&(Be.allSettled&&p(Kt,"allSettled",function(){var i=R.apply(null,arguments).map(oi);return new Kt(function(u){i.length===0&&u([]);var m=i.length,A=new Array(m);i.forEach(function(k,z){return Kt.resolve(k).then(function(J){return A[z]={status:"fulfilled",value:J}},function(J){return A[z]={status:"rejected",reason:J}}).then(function(){return--m||u(A)})})})}),Be.any&&typeof AggregateError<"u"&&p(Kt,"any",function(){var i=R.apply(null,arguments).map(oi);return new Kt(function(u,m){i.length===0&&m(new AggregateError([]));var A=i.length,k=new Array(A);i.forEach(function(z,J){return Kt.resolve(z).then(function(tt){return u(tt)},function(tt){k[J]=tt,--A||m(new AggregateError(k))})})})}),Be.withResolvers)&&(Kt.withResolvers=Be.withResolvers);var Ie={awaits:0,echoes:0,id:0},un=0,Nn=[],da=0,Bi=0,xa=0;function Ue(i,J,m,A){var k=st,z=Object.create(k),J=(z.parent=k,z.ref=0,z.global=!1,z.id=++xa,xt.env,z.env=Cn?{Promise:Kt,PromiseProp:{value:Kt,configurable:!0,writable:!0},all:Kt.all,race:Kt.race,allSettled:Kt.allSettled,any:Kt.any,resolve:Kt.resolve,reject:Kt.reject}:{},J&&B(z,J),++k.ref,z.finalize=function(){--this.parent.ref||this.parent.finalize()},Bn(z,i,m,A));return z.ref===0&&z.finalize(),J}function $e(){return Ie.id||(Ie.id=++un),++Ie.awaits,Ie.echoes+=oe,Ie.id}function jn(){return!!Ie.awaits&&(--Ie.awaits==0&&(Ie.id=0),Ie.echoes=Ie.awaits*oe,!0)}function oi(i){return Ie.echoes&&i&&i.constructor===Be?($e(),i.then(function(u){return jn(),u},function(u){return jn(),Ne(u)})):i}function ml(){var i=Nn[Nn.length-1];Nn.pop(),va(i,!1)}function va(i,u){var m,A,k=st;(u?!Ie.echoes||da++&&i===st:!da||--da&&i===st)||queueMicrotask(u?(function(z){++Bi,Ie.echoes&&--Ie.echoes!=0||(Ie.echoes=Ie.awaits=Ie.id=0),Nn.push(st),va(z,!0)}).bind(null,i):ml),i!==st&&(st=i,k===xt&&(xt.env=ir()),Cn)&&(m=xt.env.Promise,A=i.env,k.global||i.global)&&(Object.defineProperty(N,"Promise",A.PromiseProp),m.all=A.all,m.race=A.race,m.resolve=A.resolve,m.reject=A.reject,A.allSettled&&(m.allSettled=A.allSettled),A.any)&&(m.any=A.any)}function ir(){var i=N.Promise;return Cn?{Promise:i,PromiseProp:Object.getOwnPropertyDescriptor(N,"Promise"),all:i.all,race:i.race,allSettled:i.allSettled,any:i.any,resolve:i.resolve,reject:i.reject}:{}}function Bn(i,u,m,A,k){var z=st;try{return va(i,!0),u(m,A,k)}finally{va(z,!1)}}function fs(i,u,m,A){return typeof i!="function"?i:function(){var k=st;m&&$e(),va(u,!0);try{return i.apply(this,arguments)}finally{va(k,!1),A&&queueMicrotask(jn)}}}function _a(i){Promise===Be&&Ie.echoes===0?da===0?i():enqueueNativeMicroTask(i):setTimeout(i,0)}(""+Ha).indexOf("[native code]")===-1&&($e=jn=rt);var Ne=Kt.reject,Un="",Sn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",tn="String expected.",Oa=[],Ui="__dbnames",ha="readonly",Aa="readwrite";function Na(i,u){return i?u?function(){return i.apply(this,arguments)&&u.apply(this,arguments)}:i:u}var sr={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Hi(i){return typeof i!="string"||/\./.test(i)?function(u){return u}:function(u){return u[i]===void 0&&i in u&&delete(u=Ot(u))[i],u}}function no(){throw K.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function pe(i,u){try{var m=Gi(i),A=Gi(u);if(m!==A)return m==="Array"?1:A==="Array"?-1:m==="binary"?1:A==="binary"?-1:m==="string"?1:A==="string"?-1:m==="Date"?1:A!=="Date"?NaN:-1;switch(m){case"number":case"Date":case"string":return u<i?1:i<u?-1:0;case"binary":for(var k=Jn(i),z=Jn(u),J=k.length,tt=z.length,ct=J<tt?J:tt,vt=0;vt<ct;++vt)if(k[vt]!==z[vt])return k[vt]<z[vt]?-1:1;return J===tt?0:J<tt?-1:1;case"Array":for(var ut=i,lt=u,ft=ut.length,mt=lt.length,dt=ft<mt?ft:mt,ht=0;ht<dt;++ht){var At=pe(ut[ht],lt[ht]);if(At!==0)return At}return ft===mt?0:ft<mt?-1:1}}catch{}return NaN}function Gi(i){var u=typeof i;return u=="object"&&(ArrayBuffer.isView(i)||(u=kt(i))==="ArrayBuffer")?"binary":u}function Jn(i){return i instanceof Uint8Array?i:ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i)}function yn(i,u,m){var A=i.schema.yProps;return A?(u&&0<m.numFailures&&(u=u.filter(function(k,z){return!m.failures[z]})),Promise.all(A.map(function(k){return k=k.updatesTable,u?i.db.table(k).where("k").anyOf(u).delete():i.db.table(k).clear()})).then(function(){return m})):m}ao.prototype.execute=function(i){var u=this["@@propmod"];if(u.add!==void 0){var m=u.add;if(Y(m))return y(y([],Y(i)?i:[],!0),m).sort();if(typeof m=="number")return(Number(i)||0)+m;if(typeof m=="bigint")try{return BigInt(i)+m}catch{return BigInt(0)+m}throw new TypeError("Invalid term ".concat(m))}if(u.remove!==void 0){var A=u.remove;if(Y(A))return Y(i)?i.filter(function(k){return!A.includes(k)}).sort():[];if(typeof A=="number")return Number(i)-A;if(typeof A=="bigint")try{return BigInt(i)-A}catch{return BigInt(0)-A}throw new TypeError("Invalid subtrahend ".concat(A))}return m=(m=u.replacePrefix)==null?void 0:m[0],m&&typeof i=="string"&&i.startsWith(m)?u.replacePrefix[1]+i.substring(m.length):i};var li=ao;function ao(i){this["@@propmod"]=i}function ps(i,u){for(var m=O(u),A=m.length,k=!1,z=0;z<A;++z){var J=m[z],tt=u[J],ct=F(i,J);tt instanceof li?(Q(i,J,tt.execute(ct)),k=!0):ct!==tt&&(Q(i,J,tt),k=!0)}return k}Re.prototype._trans=function(i,u,m){var A=this._tx||st.trans,k=this.name,z=$t&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(i==="readonly"?"read":"write"," ").concat(this.name));function J(vt,ut,lt){if(lt.schema[k])return u(lt.idbtrans,lt);throw new K.NotFound("Table "+k+" not part of transaction")}var tt=Me();try{var ct=A&&A.db._novip===this.db._novip?A===st.trans?A._promise(i,J,m):Ue(function(){return A._promise(i,J,m)},{trans:A,transless:st.transless||st}):(function vt(ut,lt,ft,mt){if(ut.idbdb&&(ut._state.openComplete||st.letThrough||ut._vip)){var dt=ut._createTransaction(lt,ft,ut._dbSchema);try{dt.create(),ut._state.PR1398_maxLoop=3}catch(ht){return ht.name===I.InvalidState&&ut.isOpen()&&0<--ut._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ut.close({disableAutoOpen:!1}),ut.open().then(function(){return vt(ut,lt,ft,mt)})):Ne(ht)}return dt._promise(lt,function(ht,At){return Ue(function(){return st.trans=dt,mt(ht,At,dt)})}).then(function(ht){if(lt==="readwrite")try{dt.idbtrans.commit()}catch{}return lt==="readonly"?ht:dt._completion.then(function(){return ht})})}if(ut._state.openComplete)return Ne(new K.DatabaseClosed(ut._state.dbOpenError));if(!ut._state.isBeingOpened){if(!ut._state.autoOpen)return Ne(new K.DatabaseClosed);ut.open().catch(rt)}return ut._state.dbReadyPromise.then(function(){return vt(ut,lt,ft,mt)})})(this.db,i,[this.name],J);return z&&(ct._consoleTask=z,ct=ct.catch(function(vt){return console.trace(vt),Ne(vt)})),ct}finally{tt&&gn()}},Re.prototype.get=function(i,u){var m=this;return i&&i.constructor===Object?this.where(i).first(u):i==null?Ne(new K.Type("Invalid argument to Table.get()")):this._trans("readonly",function(A){return m.core.get({trans:A,key:i}).then(function(k){return m.hook.reading.fire(k)})}).then(u)},Re.prototype.where=function(i){if(typeof i=="string")return new this.db.WhereClause(this,i);if(Y(i))return new this.db.WhereClause(this,"[".concat(i.join("+"),"]"));var u=O(i);if(u.length===1)return this.where(u[0]).equals(i[u[0]]);var m=this.schema.indexes.concat(this.schema.primKey).filter(function(tt){if(tt.compound&&u.every(function(vt){return 0<=tt.keyPath.indexOf(vt)})){for(var ct=0;ct<u.length;++ct)if(u.indexOf(tt.keyPath[ct])===-1)return!1;return!0}return!1}).sort(function(tt,ct){return tt.keyPath.length-ct.keyPath.length})[0];if(m&&this.db._maxKey!==Un)return J=m.keyPath.slice(0,u.length),this.where(J).equals(J.map(function(tt){return i[tt]}));!m&&$t&&console.warn("The query ".concat(JSON.stringify(i)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(u.join("+"),"]"));var A=this.schema.idxByName;function k(tt,ct){return pe(tt,ct)===0}var J=u.reduce(function(ut,ct){var vt=ut[0],ut=ut[1],lt=A[ct],ft=i[ct];return[vt||lt,vt||!lt?Na(ut,lt&&lt.multi?function(mt){return mt=F(mt,ct),Y(mt)&&mt.some(function(dt){return k(ft,dt)})}:function(mt){return k(ft,F(mt,ct))}):ut]},[null,null]),z=J[0],J=J[1];return z?this.where(z.name).equals(i[z.keyPath]).filter(J):m?this.filter(J):this.where(u).equals("")},Re.prototype.filter=function(i){return this.toCollection().and(i)},Re.prototype.count=function(i){return this.toCollection().count(i)},Re.prototype.offset=function(i){return this.toCollection().offset(i)},Re.prototype.limit=function(i){return this.toCollection().limit(i)},Re.prototype.each=function(i){return this.toCollection().each(i)},Re.prototype.toArray=function(i){return this.toCollection().toArray(i)},Re.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Re.prototype.orderBy=function(i){return new this.db.Collection(new this.db.WhereClause(this,Y(i)?"[".concat(i.join("+"),"]"):i))},Re.prototype.reverse=function(){return this.toCollection().reverse()},Re.prototype.mapToClass=function(i){for(var u=this.db,m=this.name,A=((this.schema.mappedClass=i).prototype instanceof no&&(i=(J=>{var tt=ut,ct=J;if(typeof ct!="function"&&ct!==null)throw new TypeError("Class extends value "+String(ct)+" is not a constructor or null");function vt(){this.constructor=tt}function ut(){return J!==null&&J.apply(this,arguments)||this}return g(tt,ct),tt.prototype=ct===null?Object.create(ct):(vt.prototype=ct.prototype,new vt),Object.defineProperty(ut.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),ut.prototype.table=function(){return m},ut})(i)),new Set),k=i.prototype;k;k=d(k))Object.getOwnPropertyNames(k).forEach(function(J){return A.add(J)});function z(J){if(!J)return J;var tt,ct=Object.create(i.prototype);for(tt in J)if(!A.has(tt))try{ct[tt]=J[tt]}catch{}return ct}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=z,this.hook("reading",z),i},Re.prototype.defineClass=function(){return this.mapToClass(function(i){B(this,i)})},Re.prototype.add=function(i,u){var m=this,A=this.schema.primKey,k=A.auto,z=A.keyPath,J=i;return z&&k&&(J=Hi(z)(i)),this._trans("readwrite",function(tt){return m.core.mutate({trans:tt,type:"add",keys:u!=null?[u]:null,values:[J]})}).then(function(tt){return tt.numFailures?Kt.reject(tt.failures[0]):tt.lastResult}).then(function(tt){if(z)try{Q(i,z,tt)}catch{}return tt})},Re.prototype.upsert=function(i,u){var m=this,A=this.schema.primKey.keyPath;return this._trans("readwrite",function(k){return m.core.get({trans:k,key:i}).then(function(z){var J=z??{};return ps(J,u),A&&Q(J,A,i),m.core.mutate({trans:k,type:"put",values:[J],keys:[i],upsert:!0,updates:{keys:[i],changeSpecs:[u]}}).then(function(tt){return tt.numFailures?Kt.reject(tt.failures[0]):!!z})})})},Re.prototype.update=function(i,u){return typeof i!="object"||Y(i)?this.where(":id").equals(i).modify(u):(i=F(i,this.schema.primKey.keyPath))===void 0?Ne(new K.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(i).modify(u)},Re.prototype.put=function(i,u){var m=this,A=this.schema.primKey,k=A.auto,z=A.keyPath,J=i;return z&&k&&(J=Hi(z)(i)),this._trans("readwrite",function(tt){return m.core.mutate({trans:tt,type:"put",values:[J],keys:u!=null?[u]:null})}).then(function(tt){return tt.numFailures?Kt.reject(tt.failures[0]):tt.lastResult}).then(function(tt){if(z)try{Q(i,z,tt)}catch{}return tt})},Re.prototype.delete=function(i){var u=this;return this._trans("readwrite",function(m){return u.core.mutate({trans:m,type:"delete",keys:[i]}).then(function(A){return yn(u,[i],A)}).then(function(A){return A.numFailures?Kt.reject(A.failures[0]):void 0})})},Re.prototype.clear=function(){var i=this;return this._trans("readwrite",function(u){return i.core.mutate({trans:u,type:"deleteRange",range:sr}).then(function(m){return yn(i,null,m)})}).then(function(u){return u.numFailures?Kt.reject(u.failures[0]):void 0})},Re.prototype.bulkGet=function(i){var u=this;return this._trans("readonly",function(m){return u.core.getMany({keys:i,trans:m}).then(function(A){return A.map(function(k){return u.hook.reading.fire(k)})})})},Re.prototype.bulkAdd=function(i,u,m){var A=this,k=Array.isArray(u)?u:void 0,z=(m=m||(k?void 0:u))?m.allKeys:void 0;return this._trans("readwrite",function(J){var tt=A.schema.primKey,vt=tt.auto,tt=tt.keyPath;if(tt&&k)throw new K.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(k&&k.length!==i.length)throw new K.InvalidArgument("Arguments objects and keys must have the same length");var ct=i.length,vt=tt&&vt?i.map(Hi(tt)):i;return A.core.mutate({trans:J,type:"add",keys:k,values:vt,wantResults:z}).then(function(ut){var lt=ut.numFailures,ft=ut.failures;if(lt===0)return z?ut.results:ut.lastResult;throw new D("".concat(A.name,".bulkAdd(): ").concat(lt," of ").concat(ct," operations failed"),ft)})})},Re.prototype.bulkPut=function(i,u,m){var A=this,k=Array.isArray(u)?u:void 0,z=(m=m||(k?void 0:u))?m.allKeys:void 0;return this._trans("readwrite",function(J){var tt=A.schema.primKey,vt=tt.auto,tt=tt.keyPath;if(tt&&k)throw new K.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(k&&k.length!==i.length)throw new K.InvalidArgument("Arguments objects and keys must have the same length");var ct=i.length,vt=tt&&vt?i.map(Hi(tt)):i;return A.core.mutate({trans:J,type:"put",keys:k,values:vt,wantResults:z}).then(function(ut){var lt=ut.numFailures,ft=ut.failures;if(lt===0)return z?ut.results:ut.lastResult;throw new D("".concat(A.name,".bulkPut(): ").concat(lt," of ").concat(ct," operations failed"),ft)})})},Re.prototype.bulkUpdate=function(i){var u=this,m=this.core,A=i.map(function(J){return J.key}),k=i.map(function(J){return J.changes}),z=[];return this._trans("readwrite",function(J){return m.getMany({trans:J,keys:A,cache:"clone"}).then(function(tt){var ct=[],vt=[],ut=(i.forEach(function(lt,ft){var mt=lt.key,dt=lt.changes,ht=tt[ft];if(ht){for(var At=0,Tt=Object.keys(dt);At<Tt.length;At++){var _t=Tt[At],Nt=dt[_t];if(_t===u.schema.primKey.keyPath){if(pe(Nt,mt)!==0)throw new K.Constraint("Cannot update primary key in bulkUpdate()")}else Q(ht,_t,Nt)}z.push(ft),ct.push(mt),vt.push(ht)}}),ct.length);return m.mutate({trans:J,type:"put",keys:ct,values:vt,updates:{keys:A,changeSpecs:k}}).then(function(lt){var ft=lt.numFailures,mt=lt.failures;if(ft===0)return ut;for(var dt=0,ht=Object.keys(mt);dt<ht.length;dt++){var At,Tt=ht[dt],_t=z[Number(Tt)];_t!=null&&(At=mt[Tt],delete mt[Tt],mt[_t]=At)}throw new D("".concat(u.name,".bulkUpdate(): ").concat(ft," of ").concat(ut," operations failed"),mt)})})})},Re.prototype.bulkDelete=function(i){var u=this,m=i.length;return this._trans("readwrite",function(A){return u.core.mutate({trans:A,type:"delete",keys:i}).then(function(k){return yn(u,i,k)})}).then(function(A){var k=A.numFailures,z=A.failures;if(k===0)return A.lastResult;throw new D("".concat(u.name,".bulkDelete(): ").concat(k," of ").concat(m," operations failed"),z)})};var rr=Re;function Re(){}function Yi(i){function u(J,tt){if(tt){for(var ct=arguments.length,vt=new Array(ct-1);--ct;)vt[ct-1]=arguments[ct];return m[J].subscribe.apply(null,vt),i}if(typeof J=="string")return m[J]}var m={};u.addEventType=z;for(var A=1,k=arguments.length;A<k;++A)z(arguments[A]);return u;function z(J,tt,ct){var vt,ut;if(typeof J!="object")return tt=tt||Ut,ut={subscribers:[],fire:ct=ct||rt,subscribe:function(lt){ut.subscribers.indexOf(lt)===-1&&(ut.subscribers.push(lt),ut.fire=tt(ut.fire,lt))},unsubscribe:function(lt){ut.subscribers=ut.subscribers.filter(function(ft){return ft!==lt}),ut.fire=ut.subscribers.reduce(tt,ct)}},m[J]=u[J]=ut;O(vt=J).forEach(function(lt){var ft=vt[lt];if(Y(ft))z(lt,vt[lt][0],vt[lt][1]);else{if(ft!=="asap")throw new K.InvalidArgument("Invalid event config");var mt=z(lt,Rt,function(){for(var dt=arguments.length,ht=new Array(dt);dt--;)ht[dt]=arguments[dt];mt.subscribers.forEach(function(At){C(function(){At.apply(null,ht)})})})}})}}function hn(i,u){return S(u).from({prototype:i}),u}function Ea(i,u){return!(i.filter||i.algorithm||i.or)&&(u?i.justLimit:!i.replayFilter)}function ms(i,u){i.filter=Na(i.filter,u)}function Ki(i,u,m){var A=i.replayFilter;i.replayFilter=A?function(){return Na(A(),u())}:u,i.justLimit=m&&!A}function fa(i,u){if(i.isPrimKey)return u.primaryKey;var m=u.getIndexByKeyPath(i.index);if(m)return m;throw new K.Schema("KeyPath "+i.index+" on object store "+u.name+" is not indexed")}function or(i,u,m){var A=fa(i,u.schema);return u.openCursor({trans:m,values:!i.keysOnly,reverse:i.dir==="prev",unique:!!i.unique,query:{index:A,range:i.range}})}function Xi(i,u,m,A){var k,z,J=i.replayFilter?Na(i.filter,i.replayFilter()):i.filter;return i.or?(k={},z=function(tt,ct,vt){var ut,lt;J&&!J(ct,vt,function(ft){return ct.stop(ft)},function(ft){return ct.fail(ft)})||((lt=""+(ut=ct.primaryKey))=="[object ArrayBuffer]"&&(lt=""+new Uint8Array(ut)),h(k,lt))||(k[lt]=!0,u(tt,ct,vt))},Promise.all([i.or._iterate(z,m),Pa(or(i,A,m),i.algorithm,z,!i.keysOnly&&i.valueMapper)])):Pa(or(i,A,m),Na(i.algorithm,J),u,!i.keysOnly&&i.valueMapper)}function Pa(i,u,m,A){var k=Te(A?function(z,J,tt){return m(A(z),J,tt)}:m);return i.then(function(z){if(z)return z.start(function(){var J=function(){return z.continue()};u&&!u(z,function(tt){return J=tt},function(tt){z.stop(tt),J=rt},function(tt){z.fail(tt),J=rt})||k(z.value,z,function(tt){return J=tt}),J()})})}Ae.prototype._read=function(i,u){var m=this._ctx;return m.error?m.table._trans(null,Ne.bind(null,m.error)):m.table._trans("readonly",i).then(u)},Ae.prototype._write=function(i){var u=this._ctx;return u.error?u.table._trans(null,Ne.bind(null,u.error)):u.table._trans("readwrite",i,"locked")},Ae.prototype._addAlgorithm=function(i){var u=this._ctx;u.algorithm=Na(u.algorithm,i)},Ae.prototype._iterate=function(i,u){return Xi(this._ctx,i,u,this._ctx.table.core)},Ae.prototype.clone=function(i){var u=Object.create(this.constructor.prototype),m=Object.create(this._ctx);return i&&B(m,i),u._ctx=m,u},Ae.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ae.prototype.each=function(i){var u=this._ctx;return this._read(function(m){return Xi(u,i,m,u.table.core)})},Ae.prototype.count=function(i){var u=this;return this._read(function(m){var A,k=u._ctx,z=k.table.core;return Ea(k,!0)?z.count({trans:m,query:{index:fa(k,z.schema),range:k.range}}).then(function(J){return Math.min(J,k.limit)}):(A=0,Xi(k,function(){return++A,!1},m,z).then(function(){return A}))}).then(i)},Ae.prototype.sortBy=function(i,u){var m=i.split(".").reverse(),A=m[0],k=m.length-1;function z(ct,vt){return vt?z(ct[m[vt]],vt-1):ct[A]}var J=this._ctx.dir==="next"?1:-1;function tt(ct,vt){return pe(z(ct,k),z(vt,k))*J}return this.toArray(function(ct){return ct.sort(tt)}).then(u)},Ae.prototype.toArray=function(i){var u=this;return this._read(function(m){var A,k,z,J=u._ctx;return J.dir==="next"&&Ea(J,!0)&&0<J.limit?(A=J.valueMapper,k=fa(J,J.table.core.schema),J.table.core.query({trans:m,limit:J.limit,values:!0,query:{index:k,range:J.range}}).then(function(tt){return tt=tt.result,A?tt.map(A):tt})):(z=[],Xi(J,function(tt){return z.push(tt)},m,J.table.core).then(function(){return z}))},i)},Ae.prototype.offset=function(i){var u=this._ctx;return i<=0||(u.offset+=i,Ea(u)?Ki(u,function(){var m=i;return function(A,k){return m===0||(m===1?--m:k(function(){A.advance(m),m=0}),!1)}}):Ki(u,function(){var m=i;return function(){return--m<0}})),this},Ae.prototype.limit=function(i){return this._ctx.limit=Math.min(this._ctx.limit,i),Ki(this._ctx,function(){var u=i;return function(m,A,k){return--u<=0&&A(k),0<=u}},!0),this},Ae.prototype.until=function(i,u){return ms(this._ctx,function(m,A,k){return!i(m.value)||(A(k),u)}),this},Ae.prototype.first=function(i){return this.limit(1).toArray(function(u){return u[0]}).then(i)},Ae.prototype.last=function(i){return this.reverse().first(i)},Ae.prototype.filter=function(i){var u;return ms(this._ctx,function(m){return i(m.value)}),(u=this._ctx).isMatch=Na(u.isMatch,i),this},Ae.prototype.and=function(i){return this.filter(i)},Ae.prototype.or=function(i){return new this.db.WhereClause(this._ctx.table,i,this)},Ae.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ae.prototype.desc=function(){return this.reverse()},Ae.prototype.eachKey=function(i){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(m,A){i(A.key,A)})},Ae.prototype.eachUniqueKey=function(i){return this._ctx.unique="unique",this.eachKey(i)},Ae.prototype.eachPrimaryKey=function(i){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(m,A){i(A.primaryKey,A)})},Ae.prototype.keys=function(i){var u=this._ctx,m=(u.keysOnly=!u.isMatch,[]);return this.each(function(A,k){m.push(k.key)}).then(function(){return m}).then(i)},Ae.prototype.primaryKeys=function(i){var u=this._ctx;if(u.dir==="next"&&Ea(u,!0)&&0<u.limit)return this._read(function(A){var k=fa(u,u.table.core.schema);return u.table.core.query({trans:A,values:!1,limit:u.limit,query:{index:k,range:u.range}})}).then(function(A){return A.result}).then(i);u.keysOnly=!u.isMatch;var m=[];return this.each(function(A,k){m.push(k.primaryKey)}).then(function(){return m}).then(i)},Ae.prototype.uniqueKeys=function(i){return this._ctx.unique="unique",this.keys(i)},Ae.prototype.firstKey=function(i){return this.limit(1).keys(function(u){return u[0]}).then(i)},Ae.prototype.lastKey=function(i){return this.reverse().firstKey(i)},Ae.prototype.distinct=function(){var i,u=this._ctx,u=u.index&&u.table.schema.idxByName[u.index];return u&&u.multi&&(i={},ms(this._ctx,function(A){var A=A.primaryKey.toString(),k=h(i,A);return i[A]=!0,!k})),this},Ae.prototype.modify=function(i){var u=this,m=this._ctx;return this._write(function(A){function k(ht,At){var Tt=At.failures;ft+=ht-At.numFailures;for(var _t=0,Nt=O(Tt);_t<Nt.length;_t++){var Ht=Nt[_t];lt.push(Tt[Ht])}}var z=typeof i=="function"?i:function(ht){return ps(ht,i)},J=m.table.core,ut=J.schema.primaryKey,tt=ut.outbound,ct=ut.extractKey,vt=200,ut=u.db._options.modifyChunkSize,lt=(ut&&(vt=typeof ut=="object"?ut[J.name]||ut["*"]||200:ut),[]),ft=0,mt=[],dt=i===lr;return u.clone().primaryKeys().then(function(ht){function At(_t){var Nt=Math.min(vt,ht.length-_t),Ht=ht.slice(_t,_t+Nt);return(dt?Promise.resolve([]):J.getMany({trans:A,keys:Ht,cache:"immutable"})).then(function(Vt){var Wt=[],Gt=[],te=tt?[]:null,Zt=dt?Ht:[];if(!dt)for(var Yt=0;Yt<Nt;++Yt){var ee=Vt[Yt],ue={value:Ot(ee),primKey:ht[_t+Yt]};z.call(ue,ue.value,ue)!==!1&&(ue.value==null?Zt.push(ht[_t+Yt]):tt||pe(ct(ee),ct(ue.value))===0?(Gt.push(ue.value),tt&&te.push(ht[_t+Yt])):(Zt.push(ht[_t+Yt]),Wt.push(ue.value)))}return Promise.resolve(0<Wt.length&&J.mutate({trans:A,type:"add",values:Wt}).then(function(ge){for(var se in ge.failures)Zt.splice(parseInt(se),1);k(Wt.length,ge)})).then(function(){return(0<Gt.length||Tt&&typeof i=="object")&&J.mutate({trans:A,type:"put",keys:te,values:Gt,criteria:Tt,changeSpec:typeof i!="function"&&i,isAdditionalChunk:0<_t}).then(function(ge){return k(Gt.length,ge)})}).then(function(){return(0<Zt.length||Tt&&dt)&&J.mutate({trans:A,type:"delete",keys:Zt,criteria:Tt,isAdditionalChunk:0<_t}).then(function(ge){return yn(m.table,Zt,ge)}).then(function(ge){return k(Zt.length,ge)})}).then(function(){return ht.length>_t+Nt&&At(_t+vt)})})}var Tt=Ea(m)&&m.limit===1/0&&(typeof i!="function"||dt)&&{index:m.index,range:m.range};return At(0).then(function(){if(0<lt.length)throw new b("Error modifying one or more objects",lt,ft,mt);return ht.length})})})},Ae.prototype.delete=function(){var i=this._ctx,u=i.range;return!Ea(i)||i.table.schema.yProps||!i.isPrimKey&&u.type!==3?this.modify(lr):this._write(function(m){var A=i.table.core.schema.primaryKey,k=u;return i.table.core.count({trans:m,query:{index:A,range:k}}).then(function(z){return i.table.core.mutate({trans:m,type:"deleteRange",range:k}).then(function(ct){var tt=ct.failures,ct=ct.numFailures;if(ct)throw new b("Could not delete some values",Object.keys(tt).map(function(vt){return tt[vt]}),z-ct);return z-ct})})})};var gl=Ae;function Ae(){}var lr=function(i,u){return u.value=null};function cr(i,u){return i<u?-1:i===u?0:1}function yl(i,u){return u<i?-1:i===u?0:1}function Mn(i,u,m){return i=i instanceof La?new i.Collection(i):i,i._ctx.error=new(m||TypeError)(u),i}function pa(i){return new i.Collection(i,function(){return gs("")}).limit(0)}function Pn(mt,u,m,A){var k,z,J,tt,ct,vt,ut,lt=m.length;if(!m.every(function(ht){return typeof ht=="string"}))return Mn(mt,tn);function ft(ht){k=ht==="next"?function(Tt){return Tt.toUpperCase()}:function(Tt){return Tt.toLowerCase()},z=ht==="next"?function(Tt){return Tt.toLowerCase()}:function(Tt){return Tt.toUpperCase()},J=ht==="next"?cr:yl;var At=m.map(function(Tt){return{lower:z(Tt),upper:k(Tt)}}).sort(function(Tt,_t){return J(Tt.lower,_t.lower)});tt=At.map(function(Tt){return Tt.upper}),ct=At.map(function(Tt){return Tt.lower}),ut=(vt=ht)==="next"?"":A}ft("next");var mt=new mt.Collection(mt,function(){return $n(tt[0],ct[lt-1]+A)}),dt=(mt._ondirectionchange=function(ht){ft(ht)},0);return mt._addAlgorithm(function(ht,At,Tt){var _t=ht.key;if(typeof _t=="string"){var Nt=z(_t);if(u(Nt,ct,dt))return!0;for(var Ht=null,Vt=dt;Vt<lt;++Vt){var Wt=((Gt,te,Zt,Yt,ee,ue)=>{for(var ge=Math.min(Gt.length,Yt.length),se=-1,de=0;de<ge;++de){var Pe=te[de];if(Pe!==Yt[de])return ee(Gt[de],Zt[de])<0?Gt.substr(0,de)+Zt[de]+Zt.substr(de+1):ee(Gt[de],Yt[de])<0?Gt.substr(0,de)+Yt[de]+Zt.substr(de+1):0<=se?Gt.substr(0,se)+te[se]+Zt.substr(se+1):null;ee(Gt[de],Pe)<0&&(se=de)}return ge<Yt.length&&ue==="next"?Gt+Zt.substr(Gt.length):ge<Gt.length&&ue==="prev"?Gt.substr(0,Zt.length):se<0?null:Gt.substr(0,se)+Yt[se]+Zt.substr(se+1)})(_t,Nt,tt[Vt],ct[Vt],J,vt);Wt===null&&Ht===null?dt=Vt+1:(Ht===null||0<J(Ht,Wt))&&(Ht=Wt)}At(Ht!==null?function(){ht.continue(Ht+ut)}:Tt)}return!1}),mt}function $n(i,u,m,A){return{type:2,lower:i,upper:u,lowerOpen:m,upperOpen:A}}function gs(i){return{type:1,lower:i,upper:i}}Object.defineProperty(He.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),He.prototype.between=function(i,u,m,A){m=m!==!1,A=A===!0;try{return 0<this._cmp(i,u)||this._cmp(i,u)===0&&(m||A)&&(!m||!A)?pa(this):new this.Collection(this,function(){return $n(i,u,!m,!A)})}catch{return Mn(this,Sn)}},He.prototype.equals=function(i){return i==null?Mn(this,Sn):new this.Collection(this,function(){return gs(i)})},He.prototype.above=function(i){return i==null?Mn(this,Sn):new this.Collection(this,function(){return $n(i,void 0,!0)})},He.prototype.aboveOrEqual=function(i){return i==null?Mn(this,Sn):new this.Collection(this,function(){return $n(i,void 0,!1)})},He.prototype.below=function(i){return i==null?Mn(this,Sn):new this.Collection(this,function(){return $n(void 0,i,!1,!0)})},He.prototype.belowOrEqual=function(i){return i==null?Mn(this,Sn):new this.Collection(this,function(){return $n(void 0,i)})},He.prototype.startsWith=function(i){return typeof i!="string"?Mn(this,tn):this.between(i,i+Un,!0,!0)},He.prototype.startsWithIgnoreCase=function(i){return i===""?this.startsWith(i):Pn(this,function(u,m){return u.indexOf(m[0])===0},[i],Un)},He.prototype.equalsIgnoreCase=function(i){return Pn(this,function(u,m){return u===m[0]},[i],"")},He.prototype.anyOfIgnoreCase=function(){var i=R.apply(T,arguments);return i.length===0?pa(this):Pn(this,function(u,m){return m.indexOf(u)!==-1},i,"")},He.prototype.startsWithAnyOfIgnoreCase=function(){var i=R.apply(T,arguments);return i.length===0?pa(this):Pn(this,function(u,m){return m.some(function(A){return u.indexOf(A)===0})},i,Un)},He.prototype.anyOf=function(){var i,u,m=this,A=R.apply(T,arguments),k=this._cmp;try{A.sort(k)}catch{return Mn(this,Sn)}return A.length===0?pa(this):((i=new this.Collection(this,function(){return $n(A[0],A[A.length-1])}))._ondirectionchange=function(z){k=z==="next"?m._ascending:m._descending,A.sort(k)},u=0,i._addAlgorithm(function(z,J,tt){for(var ct=z.key;0<k(ct,A[u]);)if(++u===A.length)return J(tt),!1;return k(ct,A[u])===0||(J(function(){z.continue(A[u])}),!1)}),i)},He.prototype.notEqual=function(i){return this.inAnyRange([[-1/0,i],[i,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},He.prototype.noneOf=function(){var i=R.apply(T,arguments);if(i.length===0)return new this.Collection(this);try{i.sort(this._ascending)}catch{return Mn(this,Sn)}var u=i.reduce(function(m,A){return m?m.concat([[m[m.length-1][1],A]]):[[-1/0,A]]},null);return u.push([i[i.length-1],this.db._maxKey]),this.inAnyRange(u,{includeLowers:!1,includeUppers:!1})},He.prototype.inAnyRange=function(i,Tt){var m=this,A=this._cmp,k=this._ascending,z=this._descending,J=this._min,tt=this._max;if(i.length===0)return pa(this);if(!i.every(function(_t){return _t[0]!==void 0&&_t[1]!==void 0&&k(_t[0],_t[1])<=0}))return Mn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",K.InvalidArgument);var ct=!Tt||Tt.includeLowers!==!1,vt=Tt&&Tt.includeUppers===!0,ut,lt=k;function ft(_t,Nt){return lt(_t[0],Nt[0])}try{(ut=i.reduce(function(_t,Nt){for(var Ht=0,Vt=_t.length;Ht<Vt;++Ht){var Wt=_t[Ht];if(A(Nt[0],Wt[1])<0&&0<A(Nt[1],Wt[0])){Wt[0]=J(Wt[0],Nt[0]),Wt[1]=tt(Wt[1],Nt[1]);break}}return Ht===Vt&&_t.push(Nt),_t},[])).sort(ft)}catch{return Mn(this,Sn)}var mt=0,dt=vt?function(_t){return 0<k(_t,ut[mt][1])}:function(_t){return 0<=k(_t,ut[mt][1])},ht=ct?function(_t){return 0<z(_t,ut[mt][0])}:function(_t){return 0<=z(_t,ut[mt][0])},At=dt,Tt=new this.Collection(this,function(){return $n(ut[0][0],ut[ut.length-1][1],!ct,!vt)});return Tt._ondirectionchange=function(_t){lt=_t==="next"?(At=dt,k):(At=ht,z),ut.sort(ft)},Tt._addAlgorithm(function(_t,Nt,Ht){for(var Vt,Wt=_t.key;At(Wt);)if(++mt===ut.length)return Nt(Ht),!1;return!dt(Vt=Wt)&&!ht(Vt)||(m._cmp(Wt,ut[mt][1])===0||m._cmp(Wt,ut[mt][0])===0||Nt(function(){lt===k?_t.continue(ut[mt][0]):_t.continue(ut[mt][1])}),!1)}),Tt},He.prototype.startsWithAnyOf=function(){var i=R.apply(T,arguments);return i.every(function(u){return typeof u=="string"})?i.length===0?pa(this):this.inAnyRange(i.map(function(u){return[u,u+Un]})):Mn(this,"startsWithAnyOf() only works with strings")};var La=He;function He(){}function Hn(i){return Te(function(u){return Fa(u),i(u.target.error),!1})}function Fa(i){i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault()}var ci="storagemutated",za="x-storagemutated-1",fn=Yi(null,ci),ur=(wn.prototype._lock=function(){return G(!st.global),++this._reculock,this._reculock!==1||st.global||(st.lockOwnerFor=this),this},wn.prototype._unlock=function(){if(G(!st.global),--this._reculock==0)for(st.global||(st.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var i=this._blockedFuncs.shift();try{Bn(i[1],i[0])}catch{}}return this},wn.prototype._locked=function(){return this._reculock&&st.lockOwnerFor!==this},wn.prototype.create=function(i){var u=this;if(this.mode){var m=this.db.idbdb,A=this.db._state.dbOpenError;if(G(!this.idbtrans),!i&&!m)switch(A&&A.name){case"DatabaseClosedError":throw new K.DatabaseClosed(A);case"MissingAPIError":throw new K.MissingAPI(A.message,A);default:throw new K.OpenFailed(A)}if(!this.active)throw new K.TransactionInactive;G(this._completion._state===null),(i=this.idbtrans=i||(this.db.core||m).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Te(function(k){Fa(k),u._reject(i.error)}),i.onabort=Te(function(k){Fa(k),u.active&&u._reject(new K.Abort(i.error)),u.active=!1,u.on("abort").fire(k)}),i.oncomplete=Te(function(){u.active=!1,u._resolve(),"mutatedParts"in i&&fn.storagemutated.fire(i.mutatedParts)})}return this},wn.prototype._promise=function(i,u,m){var A,k=this;return i==="readwrite"&&this.mode!=="readwrite"?Ne(new K.ReadOnly("Transaction is readonly")):this.active?this._locked()?new Kt(function(z,J){k._blockedFuncs.push([function(){k._promise(i,u,m).then(z,J)},st])}):m?Ue(function(){var z=new Kt(function(J,tt){k._lock();var ct=u(J,tt,k);ct&&ct.then&&ct.then(J,tt)});return z.finally(function(){return k._unlock()}),z._lib=!0,z}):((A=new Kt(function(z,J){var tt=u(z,J,k);tt&&tt.then&&tt.then(z,J)}))._lib=!0,A):Ne(new K.TransactionInactive)},wn.prototype._root=function(){return this.parent?this.parent._root():this},wn.prototype.waitFor=function(i){var u,m=this._root(),A=Kt.resolve(i),k=(m._waitingFor?m._waitingFor=m._waitingFor.then(function(){return A}):(m._waitingFor=A,m._waitingQueue=[],u=m.idbtrans.objectStore(m.storeNames[0]),(function z(){for(++m._spinCount;m._waitingQueue.length;)m._waitingQueue.shift()();m._waitingFor&&(u.get(-1/0).onsuccess=z)})()),m._waitingFor);return new Kt(function(z,J){A.then(function(tt){return m._waitingQueue.push(Te(z.bind(null,tt)))},function(tt){return m._waitingQueue.push(Te(J.bind(null,tt)))}).finally(function(){m._waitingFor===k&&(m._waitingFor=null)})})},wn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new K.Abort))},wn.prototype.table=function(i){var u=this._memoizedTables||(this._memoizedTables={});if(h(u,i))return u[i];var m=this.schema[i];if(m)return(m=new this.db.Table(i,m,this)).core=this.db.core.table(i),u[i]=m;throw new K.NotFound("Table "+i+" not part of transaction")},wn);function wn(){}function ta(i,u,m,A,k,z,J,tt){return{name:i,keyPath:u,unique:m,multi:A,auto:k,compound:z,src:(m&&!J?"&":"")+(A?"*":"")+(k?"++":"")+ys(u),type:tt}}function ys(i){return typeof i=="string"?i:i?"["+[].join.call(i,"+")+"]":""}function ui(i,u,m){return{name:i,primKey:u,indexes:m,mappedClass:null,idxByName:(A=function(k){return[k.name,k]},m.reduce(function(k,z,J){return z=A(z,J),z&&(k[z[0]]=z[1]),k},{}))};var A}var di=function(i){try{return i.only([[]]),di=function(){return[[]]},[[]]}catch{return di=function(){return Un},Un}};function hi(i){return i==null?function(){}:typeof i=="string"?(u=i).split(".").length===1?function(m){return m[u]}:function(m){return F(m,u)}:function(m){return F(m,i)};var u}function Vi(i){return[].slice.call(i)}var io=0;function an(i){return i==null?":id":typeof i=="string"?i:"[".concat(i.join("+"),"]")}function Ia(i,u,ct){function A(dt){if(dt.type===3)return null;if(dt.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var lt=dt.lower,ft=dt.upper,mt=dt.lowerOpen,dt=dt.upperOpen;return lt===void 0?ft===void 0?null:u.upperBound(ft,!!dt):ft===void 0?u.lowerBound(lt,!!mt):u.bound(lt,ft,!!mt,!!dt)}function k(ut){var lt,ft=ut.name;return{name:ft,schema:ut,mutate:function(mt){var dt=mt.trans,ht=mt.type,At=mt.keys,Tt=mt.values,_t=mt.range;return new Promise(function(Nt,Ht){Nt=Te(Nt);var Vt=dt.objectStore(ft),Wt=Vt.keyPath==null,Gt=ht==="put"||ht==="add";if(!Gt&&ht!=="delete"&&ht!=="deleteRange")throw new Error("Invalid operation type: "+ht);var te,Zt=(At||Tt||{length:1}).length;if(At&&Tt&&At.length!==Tt.length)throw new Error("Given keys array must have same length as given values array.");if(Zt===0)return Nt({numFailures:0,failures:{},results:[],lastResult:void 0});function Yt(je){++ge,Fa(je)}var ee=[],ue=[],ge=0;if(ht==="deleteRange"){if(_t.type===4)return Nt({numFailures:ge,failures:ue,results:[],lastResult:void 0});_t.type===3?ee.push(te=Vt.clear()):ee.push(te=Vt.delete(A(_t)))}else{var Wt=Gt?Wt?[Tt,At]:[Tt,null]:[At,null],se=Wt[0],de=Wt[1];if(Gt)for(var Pe=0;Pe<Zt;++Pe)ee.push(te=de&&de[Pe]!==void 0?Vt[ht](se[Pe],de[Pe]):Vt[ht](se[Pe])),te.onerror=Yt;else for(Pe=0;Pe<Zt;++Pe)ee.push(te=Vt[ht](se[Pe])),te.onerror=Yt}function Rn(je){je=je.target.result,ee.forEach(function(Ra,bi){return Ra.error!=null&&(ue[bi]=Ra.error)}),Nt({numFailures:ge,failures:ue,results:ht==="delete"?At:ee.map(function(Ra){return Ra.result}),lastResult:je})}te.onerror=function(je){Yt(je),Rn(je)},te.onsuccess=Rn})},getMany:function(mt){var dt=mt.trans,ht=mt.keys;return new Promise(function(At,Tt){At=Te(At);for(var _t,Nt=dt.objectStore(ft),Ht=ht.length,Vt=new Array(Ht),Wt=0,Gt=0,te=function(ee){ee=ee.target,Vt[ee._pos]=ee.result,++Gt===Wt&&At(Vt)},Zt=Hn(Tt),Yt=0;Yt<Ht;++Yt)ht[Yt]!=null&&((_t=Nt.get(ht[Yt]))._pos=Yt,_t.onsuccess=te,_t.onerror=Zt,++Wt);Wt===0&&At(Vt)})},get:function(mt){var dt=mt.trans,ht=mt.key;return new Promise(function(At,Tt){At=Te(At);var _t=dt.objectStore(ft).get(ht);_t.onsuccess=function(Nt){return At(Nt.target.result)},_t.onerror=Hn(Tt)})},query:(lt=tt,function(mt){return new Promise(function(dt,ht){dt=Te(dt);var At,Tt,_t,Gt=mt.trans,Nt=mt.values,Ht=mt.limit,Wt=mt.query,Vt=Ht===1/0?void 0:Ht,te=Wt.index,Wt=Wt.range,Gt=Gt.objectStore(ft),Gt=te.isPrimaryKey?Gt:Gt.index(te.name),te=A(Wt);if(Ht===0)return dt({result:[]});lt?((Wt=Nt?Gt.getAll(te,Vt):Gt.getAllKeys(te,Vt)).onsuccess=function(Zt){return dt({result:Zt.target.result})},Wt.onerror=Hn(ht)):(At=0,Tt=!Nt&&"openKeyCursor"in Gt?Gt.openKeyCursor(te):Gt.openCursor(te),_t=[],Tt.onsuccess=function(Zt){var Yt=Tt.result;return!Yt||(_t.push(Nt?Yt.value:Yt.primaryKey),++At===Ht)?dt({result:_t}):void Yt.continue()},Tt.onerror=Hn(ht))})}),openCursor:function(mt){var dt=mt.trans,ht=mt.values,At=mt.query,Tt=mt.reverse,_t=mt.unique;return new Promise(function(Nt,Ht){Nt=Te(Nt);var Gt=At.index,Vt=At.range,Wt=dt.objectStore(ft),Wt=Gt.isPrimaryKey?Wt:Wt.index(Gt.name),Gt=Tt?_t?"prevunique":"prev":_t?"nextunique":"next",te=!ht&&"openKeyCursor"in Wt?Wt.openKeyCursor(A(Vt),Gt):Wt.openCursor(A(Vt),Gt);te.onerror=Hn(Ht),te.onsuccess=Te(function(Zt){var Yt,ee,ue,ge,se=te.result;se?(se.___id=++io,se.done=!1,Yt=se.continue.bind(se),ee=(ee=se.continuePrimaryKey)&&ee.bind(se),ue=se.advance.bind(se),ge=function(){throw new Error("Cursor not stopped")},se.trans=dt,se.stop=se.continue=se.continuePrimaryKey=se.advance=function(){throw new Error("Cursor not started")},se.fail=Te(Ht),se.next=function(){var de=this,Pe=1;return this.start(function(){return Pe--?de.continue():de.stop()}).then(function(){return de})},se.start=function(de){function Pe(){if(te.result)try{de()}catch(je){se.fail(je)}else se.done=!0,se.start=function(){throw new Error("Cursor behind last entry")},se.stop()}var Rn=new Promise(function(je,Ra){je=Te(je),te.onerror=Hn(Ra),se.fail=Ra,se.stop=function(bi){se.stop=se.continue=se.continuePrimaryKey=se.advance=ge,je(bi)}});return te.onsuccess=Te(function(je){te.onsuccess=Pe,Pe()}),se.continue=Yt,se.continuePrimaryKey=ee,se.advance=ue,Pe(),Rn},Nt(se)):Nt(null)},Ht)})},count:function(mt){var dt=mt.query,ht=mt.trans,At=dt.index,Tt=dt.range;return new Promise(function(_t,Nt){var Ht=ht.objectStore(ft),Ht=At.isPrimaryKey?Ht:Ht.index(At.name),Vt=A(Tt),Vt=Vt?Ht.count(Vt):Ht.count();Vt.onsuccess=Te(function(Wt){return _t(Wt.target.result)}),Vt.onerror=Hn(Nt)})}}}z=ct,J=Vi((ct=i).objectStoreNames);var z,ct={schema:{name:ct.name,tables:J.map(function(ut){return z.objectStore(ut)}).map(function(ut){var lt=ut.keyPath,ft=ut.autoIncrement,dt=Y(lt),mt={},dt={name:ut.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:lt==null,compound:dt,keyPath:lt,autoIncrement:ft,unique:!0,extractKey:hi(lt)},indexes:Vi(ut.indexNames).map(function(ht){return ut.index(ht)}).map(function(_t){var Nt=_t.name,At=_t.unique,Tt=_t.multiEntry,_t=_t.keyPath,Nt={name:Nt,compound:Y(_t),keyPath:_t,unique:At,multiEntry:Tt,extractKey:hi(_t)};return mt[an(_t)]=Nt}),getIndexByKeyPath:function(ht){return mt[an(ht)]}};return mt[":id"]=dt.primaryKey,lt!=null&&(mt[an(lt)]=dt.primaryKey),dt})},hasGetAll:0<J.length&&"getAll"in z.objectStore(J[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},J=ct.schema,tt=ct.hasGetAll,ct=J.tables.map(k),vt={};return ct.forEach(function(ut){return vt[ut.name]=ut}),{stack:"dbcore",transaction:i.transaction.bind(i),table:function(ut){if(vt[ut])return vt[ut];throw new Error("Table '".concat(ut,"' not found"))},MIN_KEY:-1/0,MAX_KEY:di(u),schema:J}}function bs(i,u,m,A){return m=m.IDBKeyRange,u=Ia(u,m,A),{dbcore:i.dbcore.reduce(function(k,z){return z=z.create,r(r({},k),z(k))},u)}}function Sa(i,u){var m=u.db,m=bs(i._middlewares,m,i._deps,u);i.core=m.dbcore,i.tables.forEach(function(A){var k=A.name;i.core.schema.tables.some(function(z){return z.name===k})&&(A.core=i.core.table(k),i[k]instanceof i.Table)&&(i[k].core=A.core)})}function xs(i,u,m,A){m.forEach(function(k){var z=A[k];u.forEach(function(J){var tt=(function ct(vt,ut){return j(vt,ut)||(vt=d(vt))&&ct(vt,ut)})(J,k);(!tt||"value"in tt&&tt.value===void 0)&&(J===i.Transaction.prototype||J instanceof i.Transaction?p(J,k,{get:function(){return this.table(k)},set:function(ct){E(this,k,{value:ct,writable:!0,configurable:!0,enumerable:!0})}}):J[k]=new i.Table(k,z))})})}function Wi(i,u){u.forEach(function(m){for(var A in m)m[A]instanceof i.Table&&delete m[A]})}function dr(i,u){return i._cfg.version-u._cfg.version}function Qi(i,u,m,A){var k=i._dbSchema,z=(m.objectStoreNames.contains("$meta")&&!k.$meta&&(k.$meta=ui("$meta",ro("")[0],[]),i._storeNames.push("$meta")),i._createTransaction("readwrite",i._storeNames,k)),J=(z.create(m),z._completion.catch(A),z._reject.bind(z)),tt=st.transless||st;Ue(function(){if(st.trans=z,st.transless=tt,u!==0)return Sa(i,m),vt=u,((ct=z).storeNames.includes("$meta")?ct.table("$meta").get("version").then(function(ut){return ut??vt}):Kt.resolve(vt)).then(function(At){var lt=i,ft=At,mt=z,dt=m,ht=[],At=lt._versions,Tt=lt._dbSchema=fi(0,lt.idbdb,dt);return(At=At.filter(function(_t){return _t._cfg.version>=ft})).length===0?Kt.resolve():(At.forEach(function(_t){ht.push(function(){var Nt,Ht,Vt,Wt=Tt,Gt=_t._cfg.dbschema,te=(Es(lt,Wt,dt),Es(lt,Gt,dt),Tt=lt._dbSchema=Gt,_s(Wt,Gt)),Zt=(te.add.forEach(function(Yt){hr(dt,Yt[0],Yt[1].primKey,Yt[1].indexes)}),te.change.forEach(function(Yt){if(Yt.recreate)throw new K.Upgrade("Not yet support for changing primary key");var ee=dt.objectStore(Yt.name);Yt.add.forEach(function(ue){return As(ee,ue)}),Yt.change.forEach(function(ue){ee.deleteIndex(ue.name),As(ee,ue)}),Yt.del.forEach(function(ue){return ee.deleteIndex(ue)})}),_t._cfg.contentUpgrade);if(Zt&&_t._cfg.version>ft)return Sa(lt,dt),mt._memoizedTables={},Nt=it(Gt),te.del.forEach(function(Yt){Nt[Yt]=Wt[Yt]}),Wi(lt,[lt.Transaction.prototype]),xs(lt,[lt.Transaction.prototype],O(Nt),Nt),mt.schema=Nt,(Ht=x(Zt))&&$e(),Gt=Kt.follow(function(){var Yt;(Vt=Zt(mt))&&Ht&&(Yt=jn.bind(null,null),Vt.then(Yt,Yt))}),Vt&&typeof Vt.then=="function"?Kt.resolve(Vt):Gt.then(function(){return Vt})}),ht.push(function(Nt){var Ht,Vt,Wt=_t._cfg.dbschema;Ht=Wt,Vt=Nt,[].slice.call(Vt.db.objectStoreNames).forEach(function(Gt){return Ht[Gt]==null&&Vt.db.deleteObjectStore(Gt)}),Wi(lt,[lt.Transaction.prototype]),xs(lt,[lt.Transaction.prototype],lt._storeNames,lt._dbSchema),mt.schema=lt._dbSchema}),ht.push(function(Nt){lt.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(lt.idbdb.version/10)===_t._cfg.version?(lt.idbdb.deleteObjectStore("$meta"),delete lt._dbSchema.$meta,lt._storeNames=lt._storeNames.filter(function(Ht){return Ht!=="$meta"})):Nt.objectStore("$meta").put(_t._cfg.version,"version"))})}),(function _t(){return ht.length?Kt.resolve(ht.shift()(mt.idbtrans)).then(_t):Kt.resolve()})().then(function(){so(Tt,dt)}))}).catch(J);var ct,vt;O(k).forEach(function(ut){hr(m,ut,k[ut].primKey,k[ut].indexes)}),Sa(i,m),Kt.follow(function(){return i.on.populate.fire(z)}).catch(J)})}function vs(i,u){so(i._dbSchema,u),u.db.version%10!=0||u.objectStoreNames.contains("$meta")||u.db.createObjectStore("$meta").add(Math.ceil(u.db.version/10-1),"version");var m=fi(0,i.idbdb,u);Es(i,i._dbSchema,u);for(var A=0,k=_s(m,i._dbSchema).change;A<k.length;A++){var z=(J=>{if(J.change.length||J.recreate)return console.warn("Unable to patch indexes of table ".concat(J.name," because it has changes on the type of index or primary key.")),{value:void 0};var tt=u.objectStore(J.name);J.add.forEach(function(ct){$t&&console.debug("Dexie upgrade patch: Creating missing index ".concat(J.name,".").concat(ct.src)),As(tt,ct)})})(k[A]);if(typeof z=="object")return z.value}}function _s(i,u){var m,A={del:[],add:[],change:[]};for(m in i)u[m]||A.del.push(m);for(m in u){var k=i[m],z=u[m];if(k){var J={name:m,def:z,recreate:!1,del:[],add:[],change:[]};if(""+(k.primKey.keyPath||"")!=""+(z.primKey.keyPath||"")||k.primKey.auto!==z.primKey.auto)J.recreate=!0,A.change.push(J);else{var tt=k.idxByName,ct=z.idxByName,vt=void 0;for(vt in tt)ct[vt]||J.del.push(vt);for(vt in ct){var ut=tt[vt],lt=ct[vt];ut?ut.src!==lt.src&&J.change.push(lt):J.add.push(lt)}(0<J.del.length||0<J.add.length||0<J.change.length)&&A.change.push(J)}}else A.add.push([m,z])}return A}function hr(i,u,m,A){var k=i.db.createObjectStore(u,m.keyPath?{keyPath:m.keyPath,autoIncrement:m.auto}:{autoIncrement:m.auto});A.forEach(function(z){return As(k,z)})}function so(i,u){O(i).forEach(function(m){u.db.objectStoreNames.contains(m)||($t&&console.debug("Dexie: Creating missing table",m),hr(u,m,i[m].primKey,i[m].indexes))})}function As(i,u){i.createIndex(u.name,u.keyPath,{unique:u.unique,multiEntry:u.multi})}function fi(i,u,m){var A={};return P(u.objectStoreNames,0).forEach(function(k){for(var z=m.objectStore(k),J=ta(ys(vt=z.keyPath),vt||"",!0,!1,!!z.autoIncrement,vt&&typeof vt!="string",!0),tt=[],ct=0;ct<z.indexNames.length;++ct){var ut=z.index(z.indexNames[ct]),vt=ut.keyPath,ut=ta(ut.name,vt,!!ut.unique,!!ut.multiEntry,!1,vt&&typeof vt!="string",!1);tt.push(ut)}A[k]=ui(k,J,tt)}),A}function Es(i,u,m){for(var A=m.db.objectStoreNames,k=0;k<A.length;++k){var z=A[k],J=m.objectStore(z);i._hasGetAll="getAll"in J;for(var tt=0;tt<J.indexNames.length;++tt){var ct,vt=J.indexNames[tt],ut=J.index(vt).keyPath,ut=typeof ut=="string"?ut:"["+P(ut).join("+")+"]";u[z]&&(ct=u[z].idxByName[ut])&&(ct.name=vt,delete u[z].idxByName[ut],u[z].idxByName[vt]=ct)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&N.WorkerGlobalScope&&N instanceof N.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(i._hasGetAll=!1)}function ro(i){return i.split(",").map(function(u,m){var k=u.split(":"),A=(A=k[1])==null?void 0:A.trim(),k=(u=k[0].trim()).replace(/([&*]|\+\+)/g,""),z=/^\[/.test(k)?k.match(/^\[(.*)\]$/)[1].split("+"):k;return ta(k,z||null,/\&/.test(u),/\*/.test(u),/\+\+/.test(u),Y(z),m===0,A)})}pi.prototype._createTableSchema=ui,pi.prototype._parseIndexSyntax=ro,pi.prototype._parseStoresSpec=function(i,u){var m=this;O(i).forEach(function(A){if(i[A]!==null){var k=m._parseIndexSyntax(i[A]),z=k.shift();if(!z)throw new K.Schema("Invalid schema for table "+A+": "+i[A]);if(z.unique=!0,z.multi)throw new K.Schema("Primary key cannot be multiEntry*");k.forEach(function(J){if(J.auto)throw new K.Schema("Only primary key can be marked as autoIncrement (++)");if(!J.keyPath)throw new K.Schema("Index must have a name and cannot be an empty string")}),z=m._createTableSchema(A,z,k),u[A]=z}})},pi.prototype.stores=function(m){var u=this.db,m=(this._cfg.storesSource=this._cfg.storesSource?B(this._cfg.storesSource,m):m,u._versions),A={},k={};return m.forEach(function(z){B(A,z._cfg.storesSource),k=z._cfg.dbschema={},z._parseStoresSpec(A,k)}),u._dbSchema=k,Wi(u,[u._allTables,u,u.Transaction.prototype]),xs(u,[u._allTables,u,u.Transaction.prototype,this._cfg.tables],O(k),k),u._storeNames=O(k),this},pi.prototype.upgrade=function(i){return this._cfg.contentUpgrade=Qt(this._cfg.contentUpgrade||rt,i),this};var bl=pi;function pi(){}function fr(i,u){var m=i._dbNamesDB;return m||(m=i._dbNamesDB=new ea(Ui,{addons:[],indexedDB:i,IDBKeyRange:u})).version(1).stores({dbnames:"name"}),m.table("dbnames")}function Ss(i){return i&&typeof i.databases=="function"}function pr(i){return Ue(function(){return st.letThrough=!0,i()})}function mr(i){return!("from"in i)}var pn=function(i,u){var m;if(!this)return m=new pn,i&&"d"in i&&B(m,i),m;B(this,arguments.length?{d:1,from:i,to:1<arguments.length?u:i}:{d:0})};function Zi(i,u,m){var A=pe(u,m);if(!isNaN(A)){if(0<A)throw RangeError();if(mr(i))return B(i,{from:u,to:m,d:1});var A=i.l,k=i.r;if(pe(m,i.from)<0)return A?Zi(A,u,m):i.l={from:u,to:m,d:1,l:null,r:null},lo(i);if(0<pe(u,i.to))return k?Zi(k,u,m):i.r={from:u,to:m,d:1,l:null,r:null},lo(i);pe(u,i.from)<0&&(i.from=u,i.l=null,i.d=k?k.d+1:1),0<pe(m,i.to)&&(i.to=m,i.r=null,i.d=i.l?i.l.d+1:1),u=!i.r,A&&!i.l&&qa(i,A),k&&u&&qa(i,k)}}function qa(i,u){mr(u)||(function m(A,k){var z=k.from,J=k.l,tt=k.r;Zi(A,z,k.to),J&&m(A,J),tt&&m(A,tt)})(i,u)}function oo(i,u){var m=ws(u),A=m.next();if(!A.done)for(var k=A.value,z=ws(i),J=z.next(k.from),tt=J.value;!A.done&&!J.done;){if(pe(tt.from,k.to)<=0&&0<=pe(tt.to,k.from))return!0;pe(k.from,tt.from)<0?k=(A=m.next(tt.from)).value:tt=(J=z.next(k.from)).value}return!1}function ws(i){var u=mr(i)?null:{s:0,n:i};return{next:function(m){for(var A=0<arguments.length;u;)switch(u.s){case 0:if(u.s=1,A)for(;u.n.l&&pe(m,u.n.from)<0;)u={up:u,n:u.n.l,s:1};else for(;u.n.l;)u={up:u,n:u.n.l,s:1};case 1:if(u.s=2,!A||pe(m,u.n.to)<=0)return{value:u.n,done:!1};case 2:if(u.n.r){u.s=3,u={up:u,n:u.n.r,s:0};continue}case 3:u=u.up}return{done:!0}}}}function lo(i){var u,m,A,k=(((k=i.r)==null?void 0:k.d)||0)-(((k=i.l)==null?void 0:k.d)||0),k=1<k?"r":k<-1?"l":"";k&&(u=k=="r"?"l":"r",m=r({},i),A=i[k],i.from=A.from,i.to=A.to,i[k]=A[k],m[k]=A[u],(i[u]=m).d=gr(m)),i.d=gr(i)}function gr(m){var u=m.r,m=m.l;return(u?m?Math.max(u.d,m.d):u.d:m?m.d:0)+1}function Ts(i,u){return O(u).forEach(function(m){i[m]?qa(i[m],u[m]):i[m]=(function A(k){var z,J,tt={};for(z in k)h(k,z)&&(J=k[z],tt[z]=!J||typeof J!="object"||gt.has(J.constructor)?J:A(J));return tt})(u[m])}),i}function yr(i,u){return i.all||u.all||Object.keys(i).some(function(m){return u[m]&&oo(u[m],i[m])})}_(pn.prototype,((ke={add:function(i){return qa(this,i),this},addKey:function(i){return Zi(this,i,i),this},addKeys:function(i){var u=this;return i.forEach(function(m){return Zi(u,m,m)}),this},hasKey:function(i){var u=ws(this).next(i).value;return u&&pe(u.from,i)<=0&&0<=pe(u.to,i)}})[nt]=function(){return ws(this)},ke));var Ba={},br={},xr=!1;function Rs(i){Ts(br,i),xr||(xr=!0,setTimeout(function(){xr=!1,vr(br,!(br={}))},0))}function vr(i,u){u===void 0&&(u=!1);var m=new Set;if(i.all)for(var A=0,k=Object.values(Ba);A<k.length;A++)co(tt=k[A],i,m,u);else for(var z in i){var J,tt,z=/^idb\:\/\/(.*)\/(.*)\//.exec(z);z&&(J=z[1],z=z[2],tt=Ba["idb://".concat(J,"/").concat(z)])&&co(tt,i,m,u)}m.forEach(function(ct){return ct()})}function co(i,u,m,A){for(var k=[],z=0,J=Object.entries(i.queries.query);z<J.length;z++){for(var tt=J[z],ct=tt[0],vt=[],ut=0,lt=tt[1];ut<lt.length;ut++){var ft=lt[ut];yr(u,ft.obsSet)?ft.subscribers.forEach(function(At){return m.add(At)}):A&&vt.push(ft)}A&&k.push([ct,vt])}if(A)for(var mt=0,dt=k;mt<dt.length;mt++){var ht=dt[mt],ct=ht[0],vt=ht[1];i.queries.query[ct]=vt}}function xl(i){var u=i._state,m=i._deps.indexedDB;if(u.isBeingOpened||i.idbdb)return u.dbReadyPromise.then(function(){return u.dbOpenError?Ne(u.dbOpenError):i});u.isBeingOpened=!0,u.dbOpenError=null,u.openComplete=!1;var A=u.openCanceller,k=Math.round(10*i.verno),z=!1;function J(){if(u.openCanceller!==A)throw new K.DatabaseClosed("db.open() was cancelled")}function tt(){return new Kt(function(ft,mt){if(J(),!m)throw new K.MissingAPI;var dt=i.name,ht=u.autoSchema||!k?m.open(dt):m.open(dt,k);if(!ht)throw new K.MissingAPI;ht.onerror=Hn(mt),ht.onblocked=Te(i._fireOnBlocked),ht.onupgradeneeded=Te(function(At){var Tt;ut=ht.transaction,u.autoSchema&&!i._options.allowEmptyDB?(ht.onerror=Fa,ut.abort(),ht.result.close(),(Tt=m.deleteDatabase(dt)).onsuccess=Tt.onerror=Te(function(){mt(new K.NoSuchDatabase("Database ".concat(dt," doesnt exist")))})):(ut.onerror=Hn(mt),Tt=At.oldVersion>Math.pow(2,62)?0:At.oldVersion,lt=Tt<1,i.idbdb=ht.result,z&&vs(i,ut),Qi(i,Tt/10,ut,mt))},mt),ht.onsuccess=Te(function(){ut=null;var At,Tt,_t,Nt,Ht,Vt,Wt=i.idbdb=ht.result,Gt=P(Wt.objectStoreNames);if(0<Gt.length)try{var te=Wt.transaction((Ht=Gt).length===1?Ht[0]:Ht,"readonly");if(u.autoSchema)Vt=Wt,Nt=te,(_t=i).verno=Vt.version/10,Nt=_t._dbSchema=fi(0,Vt,Nt),_t._storeNames=P(Vt.objectStoreNames,0),xs(_t,[_t._allTables],O(Nt),Nt);else if(Es(i,i._dbSchema,te),Tt=te,((Tt=_s(fi(0,(At=i).idbdb,Tt),At._dbSchema)).add.length||Tt.change.some(function(Zt){return Zt.add.length||Zt.change.length}))&&!z)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Wt.close(),k=Wt.version+1,z=!0,ft(tt());Sa(i,te)}catch{}Oa.push(i),Wt.onversionchange=Te(function(Zt){u.vcFired=!0,i.on("versionchange").fire(Zt)}),Wt.onclose=Te(function(){i.close({disableAutoOpen:!1})}),lt&&(Gt=i._deps,Ht=dt,Ss(Vt=Gt.indexedDB)||Ht===Ui||fr(Vt,Gt.IDBKeyRange).put({name:Ht}).catch(rt)),ft()},mt)}).catch(function(ft){switch(ft?.name){case"UnknownError":if(0<u.PR1398_maxLoop)return u.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),tt();break;case"VersionError":if(0<k)return k=0,tt()}return Kt.reject(ft)})}var ct,vt=u.dbReadyResolve,ut=null,lt=!1;return Kt.race([A,(typeof navigator>"u"?Kt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ft){function mt(){return indexedDB.databases().finally(ft)}ct=setInterval(mt,100),mt()}).finally(function(){return clearInterval(ct)}):Promise.resolve()).then(tt)]).then(function(){return J(),u.onReadyBeingFired=[],Kt.resolve(pr(function(){return i.on.ready.fire(i.vip)})).then(function ft(){var mt;if(0<u.onReadyBeingFired.length)return mt=u.onReadyBeingFired.reduce(Qt,rt),u.onReadyBeingFired=[],Kt.resolve(pr(function(){return mt(i.vip)})).then(ft)})}).finally(function(){u.openCanceller===A&&(u.onReadyBeingFired=null,u.isBeingOpened=!1)}).catch(function(ft){u.dbOpenError=ft;try{ut&&ut.abort()}catch{}return A===u.openCanceller&&i._close(),Ne(ft)}).finally(function(){u.openComplete=!0,vt()}).then(function(){var ft;return lt&&(ft={},i.tables.forEach(function(mt){mt.schema.indexes.forEach(function(dt){dt.name&&(ft["idb://".concat(i.name,"/").concat(mt.name,"/").concat(dt.name)]=new pn(-1/0,[[[]]]))}),ft["idb://".concat(i.name,"/").concat(mt.name,"/")]=ft["idb://".concat(i.name,"/").concat(mt.name,"/:dels")]=new pn(-1/0,[[[]]])}),fn(ci).fire(ft),vr(ft,!0)),i})}function Ji(i){function u(z){return i.next(z)}var m=k(u),A=k(function(z){return i.throw(z)});function k(z){return function(tt){var tt=z(tt),ct=tt.value;return tt.done?ct:ct&&typeof ct.then=="function"?ct.then(m,A):Y(ct)?Promise.all(ct).then(m,A):m(ct)}}return k(u)()}function wa(i,u,m){for(var A=Y(i)?i.slice():[i],k=0;k<m;++k)A.push(u);return A}var vl={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(i){return r(r({},i),{table:function(A){var m=i.table(A),A=m.schema,k={},z=[];function J(ft,mt,dt){var _t=an(ft),ht=k[_t]=k[_t]||[],At=ft==null?0:typeof ft=="string"?1:ft.length,Tt=0<mt,_t=r(r({},dt),{name:Tt?"".concat(_t,"(virtual-from:").concat(dt.name,")"):dt.name,lowLevelIndex:dt,isVirtual:Tt,keyTail:mt,keyLength:At,extractKey:hi(ft),unique:!Tt&&dt.unique});return ht.push(_t),_t.isPrimaryKey||z.push(_t),1<At&&J(At===2?ft[0]:ft.slice(0,At-1),mt+1,dt),ht.sort(function(Nt,Ht){return Nt.keyTail-Ht.keyTail}),_t}var tt=J(A.primaryKey.keyPath,0,A.primaryKey);k[":id"]=[tt];for(var ct=0,vt=A.indexes;ct<vt.length;ct++){var ut=vt[ct];J(ut.keyPath,0,ut)}function lt(ft){var mt,dt=ft.query.index;return dt.isVirtual?r(r({},ft),{query:{index:dt.lowLevelIndex,range:(mt=ft.query.range,dt=dt.keyTail,{type:mt.type===1?2:mt.type,lower:wa(mt.lower,mt.lowerOpen?i.MAX_KEY:i.MIN_KEY,dt),lowerOpen:!0,upper:wa(mt.upper,mt.upperOpen?i.MIN_KEY:i.MAX_KEY,dt),upperOpen:!0})}}):ft}return r(r({},m),{schema:r(r({},A),{primaryKey:tt,indexes:z,getIndexByKeyPath:function(ft){return(ft=k[an(ft)])&&ft[0]}}),count:function(ft){return m.count(lt(ft))},query:function(ft){return m.query(lt(ft))},openCursor:function(ft){var mt=ft.query.index,dt=mt.keyTail,ht=mt.keyLength;return mt.isVirtual?m.openCursor(lt(ft)).then(function(Tt){return Tt&&At(Tt)}):m.openCursor(ft);function At(Tt){return Object.create(Tt,{continue:{value:function(_t){_t!=null?Tt.continue(wa(_t,ft.reverse?i.MAX_KEY:i.MIN_KEY,dt)):ft.unique?Tt.continue(Tt.key.slice(0,ht).concat(ft.reverse?i.MIN_KEY:i.MAX_KEY,dt)):Tt.continue()}},continuePrimaryKey:{value:function(_t,Nt){Tt.continuePrimaryKey(wa(_t,i.MAX_KEY,dt),Nt)}},primaryKey:{get:function(){return Tt.primaryKey}},key:{get:function(){var _t=Tt.key;return ht===1?_t[0]:_t.slice(0,ht)}},value:{get:function(){return Tt.value}}})}}})}})}};function Cs(i,u,m,A){return m=m||{},A=A||"",O(i).forEach(function(k){var z,J,tt;h(u,k)?(z=i[k],J=u[k],typeof z=="object"&&typeof J=="object"&&z&&J?(tt=kt(z))!==kt(J)?m[A+k]=u[k]:tt==="Object"?Cs(z,J,m,A+k+"."):z!==J&&(m[A+k]=u[k]):z!==J&&(m[A+k]=u[k])):m[A+k]=void 0}),O(u).forEach(function(k){h(i,k)||(m[A+k]=u[k])}),m}function ks(i,u){return u.type==="delete"?u.keys:u.keys||u.values.map(i.extractKey)}var uo={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(i){return r(r({},i),{table:function(u){var m=i.table(u),A=m.schema.primaryKey;return r(r({},m),{mutate:function(k){var z=st.trans,J=z.table(u).hook,tt=J.deleting,ct=J.creating,vt=J.updating;switch(k.type){case"add":if(ct.fire===rt)break;return z._promise("readwrite",function(){return ut(k)},!0);case"put":if(ct.fire===rt&&vt.fire===rt)break;return z._promise("readwrite",function(){return ut(k)},!0);case"delete":if(tt.fire===rt)break;return z._promise("readwrite",function(){return ut(k)},!0);case"deleteRange":if(tt.fire===rt)break;return z._promise("readwrite",function(){return(function lt(ft,mt,dt){return m.query({trans:ft,values:!1,query:{index:A,range:mt},limit:dt}).then(function(ht){var At=ht.result;return ut({type:"delete",keys:At,trans:ft}).then(function(Tt){return 0<Tt.numFailures?Promise.reject(Tt.failures[0]):At.length<dt?{failures:[],numFailures:0,lastResult:void 0}:lt(ft,r(r({},mt),{lower:At[At.length-1],lowerOpen:!0}),dt)})})})(k.trans,k.range,1e4)},!0)}return m.mutate(k);function ut(lt){var ft,mt,dt,ht=st.trans,At=lt.keys||ks(A,lt);if(At)return(lt=lt.type==="add"||lt.type==="put"?r(r({},lt),{keys:At}):r({},lt)).type!=="delete"&&(lt.values=y([],lt.values)),lt.keys&&(lt.keys=y([],lt.keys)),ft=m,dt=At,((mt=lt).type==="add"?Promise.resolve([]):ft.getMany({trans:mt.trans,keys:dt,cache:"immutable"})).then(function(Tt){var _t=At.map(function(Nt,Ht){var Vt,Wt,Gt,te=Tt[Ht],Zt={onerror:null,onsuccess:null};return lt.type==="delete"?tt.fire.call(Zt,Nt,te,ht):lt.type==="add"||te===void 0?(Vt=ct.fire.call(Zt,Nt,lt.values[Ht],ht),Nt==null&&Vt!=null&&(lt.keys[Ht]=Nt=Vt,A.outbound||Q(lt.values[Ht],A.keyPath,Nt))):(Vt=Cs(te,lt.values[Ht]),(Wt=vt.fire.call(Zt,Vt,Nt,te,ht))&&(Gt=lt.values[Ht],Object.keys(Wt).forEach(function(Yt){h(Gt,Yt)?Gt[Yt]=Wt[Yt]:Q(Gt,Yt,Wt[Yt])}))),Zt});return m.mutate(lt).then(function(Nt){for(var Ht=Nt.failures,Vt=Nt.results,Wt=Nt.numFailures,Nt=Nt.lastResult,Gt=0;Gt<At.length;++Gt){var te=(Vt||At)[Gt],Zt=_t[Gt];te==null?Zt.onerror&&Zt.onerror(Ht[Gt]):Zt.onsuccess&&Zt.onsuccess(lt.type==="put"&&Tt[Gt]?lt.values[Gt]:te)}return{failures:Ht,results:Vt,numFailures:Wt,lastResult:Nt}}).catch(function(Nt){return _t.forEach(function(Ht){return Ht.onerror&&Ht.onerror(Nt)}),Promise.reject(Nt)})});throw new Error("Keys missing")}}})}})}};function _r(i,u,m){try{if(!u||u.keys.length<i.length)return null;for(var A=[],k=0,z=0;k<u.keys.length&&z<i.length;++k)pe(u.keys[k],i[z])===0&&(A.push(m?Ot(u.values[k]):u.values[k]),++z);return A.length===i.length?A:null}catch{return null}}var ho={stack:"dbcore",level:-1,create:function(i){return{table:function(u){var m=i.table(u);return r(r({},m),{getMany:function(A){var k;return A.cache?(k=_r(A.keys,A.trans._cache,A.cache==="clone"))?Kt.resolve(k):m.getMany(A).then(function(z){return A.trans._cache={keys:A.keys,values:A.cache==="clone"?Ot(z):z},z}):m.getMany(A)},mutate:function(A){return A.type!=="add"&&(A.trans._cache=null),m.mutate(A)}})}}}};function Ua(i,u){return i.trans.mode==="readonly"&&!!i.subscr&&!i.trans.explicit&&i.trans.db._options.cache!=="disabled"&&!u.schema.primaryKey.outbound}function fo(i,u){switch(i){case"query":return u.values&&!u.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var _l={stack:"dbcore",level:0,name:"Observability",create:function(i){var u=i.schema.name,m=new pn(i.MIN_KEY,i.MAX_KEY);return r(r({},i),{transaction:function(A,k,z){if(st.subscr&&k!=="readonly")throw new K.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(st.querier));return i.transaction(A,k,z)},table:function(A){function k(At){var ht,At=At.query;return[ht=At.index,new pn((ht=(At=At.range).lower)!=null?ht:i.MIN_KEY,(ht=At.upper)!=null?ht:i.MAX_KEY)]}var z=i.table(A),J=z.schema,tt=J.primaryKey,ct=J.indexes,vt=tt.extractKey,ut=tt.outbound,lt=tt.autoIncrement&&ct.filter(function(dt){return dt.compound&&dt.keyPath.includes(tt.keyPath)}),ft=r(r({},z),{mutate:function(dt){function ht(ee){return ee="idb://".concat(u,"/").concat(A,"/").concat(ee),Ht[ee]||(Ht[ee]=new pn)}var At,Tt,_t,Nt=dt.trans,Ht=dt.mutatedParts||(dt.mutatedParts={}),Vt=ht(""),Wt=ht(":dels"),Gt=dt.type,Zt=dt.type==="deleteRange"?[dt.range]:dt.type==="delete"?[dt.keys]:dt.values.length<50?[ks(tt,dt).filter(function(ee){return ee}),dt.values]:[],te=Zt[0],Zt=Zt[1],Yt=dt.trans._cache;return Y(te)?(Vt.addKeys(te),(Gt=Gt==="delete"||te.length===Zt.length?_r(te,Yt):null)||Wt.addKeys(te),(Gt||Zt)&&(At=ht,Tt=Gt,_t=Zt,J.indexes.forEach(function(ee){var ue=At(ee.name||"");function ge(de){return de!=null?ee.extractKey(de):null}function se(de){ee.multiEntry&&Y(de)?de.forEach(function(Pe){return ue.addKey(Pe)}):ue.addKey(de)}(Tt||_t).forEach(function(de,je){var Rn=Tt&&ge(Tt[je]),je=_t&&ge(_t[je]);pe(Rn,je)!==0&&(Rn!=null&&se(Rn),je!=null)&&se(je)})}))):te?(Zt={from:(Yt=te.lower)!=null?Yt:i.MIN_KEY,to:(Gt=te.upper)!=null?Gt:i.MAX_KEY},Wt.add(Zt),Vt.add(Zt)):(Vt.add(m),Wt.add(m),J.indexes.forEach(function(ee){return ht(ee.name).add(m)})),z.mutate(dt).then(function(ee){return!te||dt.type!=="add"&&dt.type!=="put"||(Vt.addKeys(ee.results),lt&&lt.forEach(function(ue){for(var ge=dt.values.map(function(Rn){return ue.extractKey(Rn)}),se=ue.keyPath.findIndex(function(Rn){return Rn===tt.keyPath}),de=0,Pe=ee.results.length;de<Pe;++de)ge[de][se]=ee.results[de];ht(ue.name).addKeys(ge)})),Nt.mutatedParts=Ts(Nt.mutatedParts||{},Ht),ee})}}),mt={get:function(dt){return[tt,new pn(dt.key)]},getMany:function(dt){return[tt,new pn().addKeys(dt.keys)]},count:k,query:k,openCursor:k};return O(mt).forEach(function(dt){ft[dt]=function(ht){var At=st.subscr,Tt=!!At,_t=Ua(st,z)&&fo(dt,ht)?ht.obsSet={}:At;if(Tt){var Nt,At=function(Zt){return Zt="idb://".concat(u,"/").concat(A,"/").concat(Zt),_t[Zt]||(_t[Zt]=new pn)},Ht=At(""),Vt=At(":dels"),Tt=mt[dt](ht),Wt=Tt[0],Tt=Tt[1];if((dt==="query"&&Wt.isPrimaryKey&&!ht.values?Vt:At(Wt.name||"")).add(Tt),!Wt.isPrimaryKey){if(dt!=="count")return Nt=dt==="query"&&ut&&ht.values&&z.query(r(r({},ht),{values:!1})),z[dt].apply(this,arguments).then(function(Zt){if(dt==="query"){if(ut&&ht.values)return Nt.then(function(ge){return ge=ge.result,Ht.addKeys(ge),Zt});var Yt=ht.values?Zt.result.map(vt):Zt.result;(ht.values?Ht:Vt).addKeys(Yt)}else{var ee,ue;if(dt==="openCursor")return ue=ht.values,(ee=Zt)&&Object.create(ee,{key:{get:function(){return Vt.addKey(ee.primaryKey),ee.key}},primaryKey:{get:function(){var ge=ee.primaryKey;return Vt.addKey(ge),ge}},value:{get:function(){return ue&&Ht.addKey(ee.primaryKey),ee.value}}})}return Zt});Vt.add(m)}}return z[dt].apply(this,arguments)}}),ft}})}};function po(i,u,m){var A;return m.numFailures===0?u:u.type==="deleteRange"||(A=u.keys?u.keys.length:"values"in u&&u.values?u.values.length:1,m.numFailures===A)?null:(A=r({},u),Y(A.keys)&&(A.keys=A.keys.filter(function(k,z){return!(z in m.failures)})),"values"in A&&Y(A.values)&&(A.values=A.values.filter(function(k,z){return!(z in m.failures)})),A)}function js(i,u){return m=i,((A=u).lower===void 0||(A.lowerOpen?0<pe(m,A.lower):0<=pe(m,A.lower)))&&(m=i,(A=u).upper===void 0||(A.upperOpen?pe(m,A.upper)<0:pe(m,A.upper)<=0));var m,A}function Ar(i,u,m,A,k,z){var J,tt,ct,vt,ut,lt;return!m||m.length===0||(J=u.query.index,tt=J.multiEntry,ct=u.query.range,vt=A.schema.primaryKey.extractKey,ut=J.extractKey,lt=(J.lowLevelIndex||J).extractKey,(A=m.reduce(function(ft,mt){var dt=ft,ht=[];if(mt.type==="add"||mt.type==="put")for(var At=new pn,Tt=mt.values.length-1;0<=Tt;--Tt){var _t,Nt=mt.values[Tt],Ht=vt(Nt);!At.hasKey(Ht)&&(_t=ut(Nt),tt&&Y(_t)?_t.some(function(Zt){return js(Zt,ct)}):js(_t,ct))&&(At.addKey(Ht),ht.push(Nt))}switch(mt.type){case"add":var Vt=new pn().addKeys(u.values?ft.map(function(Yt){return vt(Yt)}):ft),dt=ft.concat(u.values?ht.filter(function(Yt){return Yt=vt(Yt),!Vt.hasKey(Yt)&&(Vt.addKey(Yt),!0)}):ht.map(function(Yt){return vt(Yt)}).filter(function(Yt){return!Vt.hasKey(Yt)&&(Vt.addKey(Yt),!0)}));break;case"put":var Wt=new pn().addKeys(mt.values.map(function(Yt){return vt(Yt)}));dt=ft.filter(function(Yt){return!Wt.hasKey(u.values?vt(Yt):Yt)}).concat(u.values?ht:ht.map(function(Yt){return vt(Yt)}));break;case"delete":var Gt=new pn().addKeys(mt.keys);dt=ft.filter(function(Yt){return!Gt.hasKey(u.values?vt(Yt):Yt)});break;case"deleteRange":var te=mt.range;dt=ft.filter(function(Yt){return!js(vt(Yt),te)})}return dt},i))===i)?i:(A.sort(function(ft,mt){return pe(lt(ft),lt(mt))||pe(vt(ft),vt(mt))}),u.limit&&u.limit<1/0&&(A.length>u.limit?A.length=u.limit:i.length===u.limit&&A.length<u.limit&&(k.dirty=!0)),z?Object.freeze(A):A)}function mi(i,u){return pe(i.lower,u.lower)===0&&pe(i.upper,u.upper)===0&&!!i.lowerOpen==!!u.lowerOpen&&!!i.upperOpen==!!u.upperOpen}function $i(i,u){return((m,A,k,z)=>{if(m===void 0)return A!==void 0?-1:0;if(A===void 0)return 1;if((m=pe(m,A))===0){if(k&&z)return 0;if(k)return 1;if(z)return-1}return m})(i.lower,u.lower,i.lowerOpen,u.lowerOpen)<=0&&0<=((m,A,k,z)=>{if(m===void 0)return A!==void 0?1:0;if(A===void 0)return-1;if((m=pe(m,A))===0){if(k&&z)return 0;if(k)return-1;if(z)return 1}return m})(i.upper,u.upper,i.upperOpen,u.upperOpen)}function Al(i,u,m,A){i.subscribers.add(m),A.addEventListener("abort",function(){var k,z;i.subscribers.delete(m),i.subscribers.size===0&&(k=i,z=u,setTimeout(function(){k.subscribers.size===0&&M(z,k)},3e3))})}var Ms={stack:"dbcore",level:0,name:"Cache",create:function(i){var u=i.schema.name;return r(r({},i),{transaction:function(m,A,k){var z,J,tt=i.transaction(m,A,k);return A==="readwrite"&&(k=(z=new AbortController).signal,tt.addEventListener("abort",(J=function(ct){return function(){if(z.abort(),A==="readwrite"){for(var vt=new Set,ut=0,lt=m;ut<lt.length;ut++){var ft=lt[ut],mt=Ba["idb://".concat(u,"/").concat(ft)];if(mt){var dt=i.table(ft),ht=mt.optimisticOps.filter(function(ee){return ee.trans===tt});if(tt._explicit&&ct&&tt.mutatedParts)for(var At=0,Tt=Object.values(mt.queries.query);At<Tt.length;At++)for(var _t=0,Nt=(Wt=Tt[At]).slice();_t<Nt.length;_t++)yr((Gt=Nt[_t]).obsSet,tt.mutatedParts)&&(M(Wt,Gt),Gt.subscribers.forEach(function(ee){return vt.add(ee)}));else if(0<ht.length){mt.optimisticOps=mt.optimisticOps.filter(function(ee){return ee.trans!==tt});for(var Ht=0,Vt=Object.values(mt.queries.query);Ht<Vt.length;Ht++)for(var Wt,Gt,te,Zt=0,Yt=(Wt=Vt[Ht]).slice();Zt<Yt.length;Zt++)(Gt=Yt[Zt]).res!=null&&tt.mutatedParts&&(ct&&!Gt.dirty?(te=Object.isFrozen(Gt.res),te=Ar(Gt.res,Gt.req,ht,dt,Gt,te),Gt.dirty?(M(Wt,Gt),Gt.subscribers.forEach(function(ee){return vt.add(ee)})):te!==Gt.res&&(Gt.res=te,Gt.promise=Kt.resolve({result:te}))):(Gt.dirty&&M(Wt,Gt),Gt.subscribers.forEach(function(ee){return vt.add(ee)})))}}}vt.forEach(function(ee){return ee()})}}})(!1),{signal:k}),tt.addEventListener("error",J(!1),{signal:k}),tt.addEventListener("complete",J(!0),{signal:k})),tt},table:function(m){var A=i.table(m),k=A.schema.primaryKey;return r(r({},A),{mutate:function(z){var J,tt=st.trans;return!k.outbound&&tt.db._options.cache!=="disabled"&&!tt.explicit&&tt.idbtrans.mode==="readwrite"&&(J=Ba["idb://".concat(u,"/").concat(m)])?(tt=A.mutate(z),z.type!=="add"&&z.type!=="put"||!(50<=z.values.length||ks(k,z).some(function(ct){return ct==null}))?(J.optimisticOps.push(z),z.mutatedParts&&Rs(z.mutatedParts),tt.then(function(ct){0<ct.numFailures&&(M(J.optimisticOps,z),(ct=po(0,z,ct))&&J.optimisticOps.push(ct),z.mutatedParts)&&Rs(z.mutatedParts)}),tt.catch(function(){M(J.optimisticOps,z),z.mutatedParts&&Rs(z.mutatedParts)})):tt.then(function(ct){var vt=po(0,r(r({},z),{values:z.values.map(function(ut,lt){var ft;return ct.failures[lt]?ut:(Q(ft=(ft=k.keyPath)!=null&&ft.includes(".")?Ot(ut):r({},ut),k.keyPath,ct.results[lt]),ft)})}),ct);J.optimisticOps.push(vt),queueMicrotask(function(){return z.mutatedParts&&Rs(z.mutatedParts)})}),tt):A.mutate(z)},query:function(z){var J,tt,ct,vt,ut,lt,ft;return Ua(st,A)&&fo("query",z)?(J=((ct=st.trans)==null?void 0:ct.db._options.cache)==="immutable",tt=(ct=st).requery,ct=ct.signal,lt=((mt,dt,ht,At)=>{var Tt=Ba["idb://".concat(mt,"/").concat(dt)];if(!Tt)return[];if(!(mt=Tt.queries[ht]))return[null,!1,Tt,null];var _t=mt[(At.query?At.query.index.name:null)||""];if(!_t)return[null,!1,Tt,null];switch(ht){case"query":var Nt=_t.find(function(Ht){return Ht.req.limit===At.limit&&Ht.req.values===At.values&&mi(Ht.req.query.range,At.query.range)});return Nt?[Nt,!0,Tt,_t]:[_t.find(function(Ht){return("limit"in Ht.req?Ht.req.limit:1/0)>=At.limit&&(!At.values||Ht.req.values)&&$i(Ht.req.query.range,At.query.range)}),!1,Tt,_t];case"count":return Nt=_t.find(function(Ht){return mi(Ht.req.query.range,At.query.range)}),[Nt,!!Nt,Tt,_t]}})(u,m,"query",z),ft=lt[0],vt=lt[2],ut=lt[3],ft&&lt[1]?ft.obsSet=z.obsSet:(lt=A.query(z).then(function(mt){var dt=mt.result;if(ft&&(ft.res=dt),J){for(var ht=0,At=dt.length;ht<At;++ht)Object.freeze(dt[ht]);Object.freeze(dt)}else mt.result=Ot(dt);return mt}).catch(function(mt){return ut&&ft&&M(ut,ft),Promise.reject(mt)}),ft={obsSet:z.obsSet,promise:lt,subscribers:new Set,type:"query",req:z,dirty:!1},ut?ut.push(ft):(ut=[ft],(vt=vt||(Ba["idb://".concat(u,"/").concat(m)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[z.query.index.name||""]=ut)),Al(ft,ut,tt,ct),ft.promise.then(function(mt){return{result:Ar(mt.result,z,vt?.optimisticOps,A,ft,J)}})):A.query(z)}})}})}};function ts(i,u){return new Proxy(i,{get:function(m,A,k){return A==="db"?u:Reflect.get(m,A,k)}})}Ge.prototype.version=function(i){if(isNaN(i)||i<.1)throw new K.Type("Given version is not a positive number");if(i=Math.round(10*i)/10,this.idbdb||this._state.isBeingOpened)throw new K.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,i);var u=this._versions,m=u.filter(function(A){return A._cfg.version===i})[0];return m||(m=new this.Version(i),u.push(m),u.sort(dr),m.stores({}),this._state.autoSchema=!1),m},Ge.prototype._whenReady=function(i){var u=this;return this.idbdb&&(this._state.openComplete||st.letThrough||this._vip)?i():new Kt(function(m,A){if(u._state.openComplete)return A(new K.DatabaseClosed(u._state.dbOpenError));if(!u._state.isBeingOpened){if(!u._state.autoOpen)return void A(new K.DatabaseClosed);u.open().catch(rt)}u._state.dbReadyPromise.then(m,A)}).then(i)},Ge.prototype.use=function(k){var u=k.stack,m=k.create,A=k.level,k=k.name,z=(k&&this.unuse({stack:u,name:k}),this._middlewares[u]||(this._middlewares[u]=[]));return z.push({stack:u,create:m,level:A??10,name:k}),z.sort(function(J,tt){return J.level-tt.level}),this},Ge.prototype.unuse=function(i){var u=i.stack,m=i.name,A=i.create;return u&&this._middlewares[u]&&(this._middlewares[u]=this._middlewares[u].filter(function(k){return A?k.create!==A:!!m&&k.name!==m})),this},Ge.prototype.open=function(){var i=this;return Bn(xt,function(){return xl(i)})},Ge.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var i=this._state,u=Oa.indexOf(this);if(0<=u&&Oa.splice(u,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}i.isBeingOpened||(i.dbReadyPromise=new Kt(function(m){i.dbReadyResolve=m}),i.openCanceller=new Kt(function(m,A){i.cancelOpen=A}))},Ge.prototype.close=function(u){var u=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,m=this._state;u?(m.isBeingOpened&&m.cancelOpen(new K.DatabaseClosed),this._close(),m.autoOpen=!1,m.dbOpenError=new K.DatabaseClosed):(this._close(),m.autoOpen=this._options.autoOpen||m.isBeingOpened,m.openComplete=!1,m.dbOpenError=null)},Ge.prototype.delete=function(i){var u=this,m=(i===void 0&&(i={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),A=this._state;return new Kt(function(k,z){function J(){u.close(i);var tt=u._deps.indexedDB.deleteDatabase(u.name);tt.onsuccess=Te(function(){var ct,vt,ut;ct=u._deps,vt=u.name,Ss(ut=ct.indexedDB)||vt===Ui||fr(ut,ct.IDBKeyRange).delete(vt).catch(rt),k()}),tt.onerror=Hn(z),tt.onblocked=u._fireOnBlocked}if(m)throw new K.InvalidArgument("Invalid closeOptions argument to db.delete()");A.isBeingOpened?A.dbReadyPromise.then(J):J()})},Ge.prototype.backendDB=function(){return this.idbdb},Ge.prototype.isOpen=function(){return this.idbdb!==null},Ge.prototype.hasBeenClosed=function(){var i=this._state.dbOpenError;return i&&i.name==="DatabaseClosed"},Ge.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Ge.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Ge.prototype,"tables",{get:function(){var i=this;return O(this._allTables).map(function(u){return i._allTables[u]})},enumerable:!1,configurable:!0}),Ge.prototype.transaction=function(){var i=(function(u,m,A){var k=arguments.length;if(k<2)throw new K.InvalidArgument("Too few arguments");for(var z=new Array(k-1);--k;)z[k-1]=arguments[k];return A=z.pop(),[u,bt(z),A]}).apply(this,arguments);return this._transaction.apply(this,i)},Ge.prototype._transaction=function(i,u,m){var A,k,z=this,J=st.trans,tt=(J&&J.db===this&&i.indexOf("!")===-1||(J=null),i.indexOf("?")!==-1);i=i.replace("!","").replace("?","");try{if(k=u.map(function(vt){if(vt=vt instanceof z.Table?vt.name:vt,typeof vt!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return vt}),i=="r"||i===ha)A=ha;else{if(i!="rw"&&i!=Aa)throw new K.InvalidArgument("Invalid transaction mode: "+i);A=Aa}if(J){if(J.mode===ha&&A===Aa){if(!tt)throw new K.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");J=null}J&&k.forEach(function(vt){if(J&&J.storeNames.indexOf(vt)===-1){if(!tt)throw new K.SubTransaction("Table "+vt+" not included in parent transaction.");J=null}}),tt&&J&&!J.active&&(J=null)}}catch(vt){return J?J._promise(null,function(ut,lt){lt(vt)}):Ne(vt)}var ct=(function vt(ut,lt,ft,mt,dt){return Kt.resolve().then(function(){var _t=st.transless||st,ht=ut._createTransaction(lt,ft,ut._dbSchema,mt),_t=(ht.explicit=!0,{trans:ht,transless:_t});if(mt)ht.idbtrans=mt.idbtrans;else try{ht.create(),ht.idbtrans._explicit=!0,ut._state.PR1398_maxLoop=3}catch(Nt){return Nt.name===I.InvalidState&&ut.isOpen()&&0<--ut._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ut.close({disableAutoOpen:!1}),ut.open().then(function(){return vt(ut,lt,ft,null,dt)})):Ne(Nt)}var At,Tt=x(dt),_t=(Tt&&$e(),Kt.follow(function(){var Nt;(At=dt.call(ht,ht))&&(Tt?(Nt=jn.bind(null,null),At.then(Nt,Nt)):typeof At.next=="function"&&typeof At.throw=="function"&&(At=Ji(At)))},_t));return(At&&typeof At.then=="function"?Kt.resolve(At).then(function(Nt){return ht.active?Nt:Ne(new K.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):_t.then(function(){return At})).then(function(Nt){return mt&&ht._resolve(),ht._completion.then(function(){return Nt})}).catch(function(Nt){return ht._reject(Nt),Ne(Nt)})})}).bind(null,this,A,k,J,m);return J?J._promise(A,ct,"lock"):st.trans?Bn(st.transless,function(){return z._whenReady(ct)}):this._whenReady(ct)},Ge.prototype.table=function(i){if(h(this._allTables,i))return this._allTables[i];throw new K.InvalidTable("Table ".concat(i," does not exist"))};var ea=Ge;function Ge(i,u){var m,A,k,z,J,tt=this,ct=(this._middlewares={},this.verno=0,Ge.dependencies),ct=(this._options=u=r({addons:Ge.addons,autoOpen:!0,indexedDB:ct.indexedDB,IDBKeyRange:ct.IDBKeyRange,cache:"cloned"},u),this._deps={indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange},u.addons),vt=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:rt,dbReadyPromise:null,cancelOpen:rt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:u.autoOpen}),ut=(vt.dbReadyPromise=new Kt(function(lt){vt.dbReadyResolve=lt}),vt.openCanceller=new Kt(function(lt,ft){vt.cancelOpen=ft}),this._state=vt,this.name=i,this.on=Yi(this,"populate","blocked","versionchange","close",{ready:[Qt,rt]}),this.once=function(lt,ft){var mt=function(){for(var dt=[],ht=0;ht<arguments.length;ht++)dt[ht]=arguments[ht];tt.on(lt).unsubscribe(mt),ft.apply(tt,dt)};return tt.on(lt,mt)},this.on.ready.subscribe=W(this.on.ready.subscribe,function(lt){return function(ft,mt){Ge.vip(function(){var dt,ht=tt._state;ht.openComplete?(ht.dbOpenError||Kt.resolve().then(ft),mt&&lt(ft)):ht.onReadyBeingFired?(ht.onReadyBeingFired.push(ft),mt&&lt(ft)):(lt(ft),dt=tt,mt||lt(function At(){dt.on.ready.unsubscribe(ft),dt.on.ready.unsubscribe(At)}))})}}),this.Collection=(m=this,hn(gl.prototype,function(At,ht){this.db=m;var mt=sr,dt=null;if(ht)try{mt=ht()}catch(_t){dt=_t}var ht=At._ctx,At=ht.table,Tt=At.hook.reading.fire;this._ctx={table:At,index:ht.index,isPrimKey:!ht.index||At.schema.primKey.keyPath&&ht.index===At.schema.primKey.name,range:mt,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:dt,or:ht.or,valueMapper:Tt!==Rt?Tt:null}})),this.Table=(A=this,hn(rr.prototype,function(lt,ft,mt){this.db=A,this._tx=mt,this.name=lt,this.schema=ft,this.hook=A._allTables[lt]?A._allTables[lt].hook:Yi(null,{creating:[Dt,rt],reading:[Xt,Rt],updating:[Lt,rt],deleting:[Ft,rt]})})),this.Transaction=(k=this,hn(ur.prototype,function(lt,ft,mt,dt,ht){var At=this;lt!=="readonly"&&ft.forEach(function(Tt){Tt=(Tt=mt[Tt])==null?void 0:Tt.yProps,Tt&&(ft=ft.concat(Tt.map(function(_t){return _t.updatesTable})))}),this.db=k,this.mode=lt,this.storeNames=ft,this.schema=mt,this.chromeTransactionDurability=dt,this.idbtrans=null,this.on=Yi(this,"complete","error","abort"),this.parent=ht||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Kt(function(Tt,_t){At._resolve=Tt,At._reject=_t}),this._completion.then(function(){At.active=!1,At.on.complete.fire()},function(Tt){var _t=At.active;return At.active=!1,At.on.error.fire(Tt),At.parent?At.parent._reject(Tt):_t&&At.idbtrans&&At.idbtrans.abort(),Ne(Tt)})})),this.Version=(z=this,hn(bl.prototype,function(lt){this.db=z,this._cfg={version:lt,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(J=this,hn(La.prototype,function(lt,ft,mt){if(this.db=J,this._ctx={table:lt,index:ft===":id"?null:ft,or:mt},this._cmp=this._ascending=pe,this._descending=function(dt,ht){return pe(ht,dt)},this._max=function(dt,ht){return 0<pe(dt,ht)?dt:ht},this._min=function(dt,ht){return pe(dt,ht)<0?dt:ht},this._IDBKeyRange=J._deps.IDBKeyRange,!this._IDBKeyRange)throw new K.MissingAPI})),this.on("versionchange",function(lt){0<lt.newVersion?console.warn("Another connection wants to upgrade database '".concat(tt.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(tt.name,"'. Closing db now to resume the delete request.")),tt.close({disableAutoOpen:!1})}),this.on("blocked",function(lt){!lt.newVersion||lt.newVersion<lt.oldVersion?console.warn("Dexie.delete('".concat(tt.name,"') was blocked")):console.warn("Upgrade '".concat(tt.name,"' blocked by other connection holding version ").concat(lt.oldVersion/10))}),this._maxKey=di(u.IDBKeyRange),this._createTransaction=function(lt,ft,mt,dt){return new tt.Transaction(lt,ft,mt,tt._options.chromeTransactionDurability,dt)},this._fireOnBlocked=function(lt){tt.on("blocked").fire(lt),Oa.filter(function(ft){return ft.name===tt.name&&ft!==tt&&!ft._state.vcFired}).map(function(ft){return ft.on("versionchange").fire(lt)})},this.use(ho),this.use(Ms),this.use(_l),this.use(vl),this.use(uo),new Proxy(this,{get:function(lt,ft,mt){var dt;return ft==="_vip"||(ft==="table"?function(ht){return ts(tt.table(ht),ut)}:(dt=Reflect.get(lt,ft,mt))instanceof rr?ts(dt,ut):ft==="tables"?dt.map(function(ht){return ts(ht,ut)}):ft==="_createTransaction"?function(){return ts(dt.apply(this,arguments),ut)}:dt)}}));this.vip=ut,ct.forEach(function(lt){return lt(tt)})}var gi,Ha=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",mo=(Ds.prototype.subscribe=function(i,u,m){return this._subscribe(i&&typeof i!="function"?i:{next:i,error:u,complete:m})},Ds.prototype[Ha]=function(){return this},Ds);function Ds(i){this._subscribe=i}try{gi={indexedDB:N.indexedDB||N.mozIndexedDB||N.webkitIndexedDB||N.msIndexedDB,IDBKeyRange:N.IDBKeyRange||N.webkitIDBKeyRange}}catch{gi={indexedDB:null,IDBKeyRange:null}}function go(i){var u,m=!1,A=new mo(function(k){var z=x(i),J,tt=!1,ct={},vt={},ut={get closed(){return tt},unsubscribe:function(){tt||(tt=!0,J&&J.abort(),lt&&fn.storagemutated.unsubscribe(mt))}},lt=(k.start&&k.start(ut),!1),ft=function(){return _a(dt)},mt=function(ht){Ts(ct,ht),yr(vt,ct)&&ft()},dt=function(){var ht,At,Tt;!tt&&gi.indexedDB&&(ct={},ht={},J&&J.abort(),J=new AbortController,Tt=(_t=>{var Nt=Me();try{z&&$e();var Ht=Ue(i,_t);return Ht=z?Ht.finally(jn):Ht}finally{Nt&&gn()}})(At={subscr:ht,signal:J.signal,requery:ft,querier:i,trans:null}),Promise.resolve(Tt).then(function(_t){m=!0,u=_t,tt||At.signal.aborted||(ct={},(Nt=>{for(var Ht in Nt)if(h(Nt,Ht))return;return 1})(vt=ht)||lt||(fn(ci,mt),lt=!0),_a(function(){return!tt&&k.next&&k.next(_t)}))},function(_t){m=!1,["DatabaseClosedError","AbortError"].includes(_t?.name)||tt||_a(function(){tt||k.error&&k.error(_t)})}))};return setTimeout(ft,0),ut});return A.hasValue=function(){return m},A.getValue=function(){return u},A}var Ga=ea;function Er(i){var u=Ta;try{Ta=!0,fn.storagemutated.fire(i),vr(i,!0)}finally{Ta=u}}_(Ga,r(r({},L),{delete:function(i){return new Ga(i,{addons:[]}).delete()},exists:function(i){return new Ga(i,{addons:[]}).open().then(function(u){return u.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(i){try{return u=Ga.dependencies,m=u.indexedDB,u=u.IDBKeyRange,(Ss(m)?Promise.resolve(m.databases()).then(function(A){return A.map(function(k){return k.name}).filter(function(k){return k!==Ui})}):fr(m,u).toCollection().primaryKeys()).then(i)}catch{return Ne(new K.MissingAPI)}var u,m},defineClass:function(){return function(i){B(this,i)}},ignoreTransaction:function(i){return st.trans?Bn(st.transless,i):i()},vip:pr,async:function(i){return function(){try{var u=Ji(i.apply(this,arguments));return u&&typeof u.then=="function"?u:Kt.resolve(u)}catch(m){return Ne(m)}}},spawn:function(i,u,m){try{var A=Ji(i.apply(m,u||[]));return A&&typeof A.then=="function"?A:Kt.resolve(A)}catch(k){return Ne(k)}},currentTransaction:{get:function(){return st.trans||null}},waitFor:function(i,u){return i=Kt.resolve(typeof i=="function"?Ga.ignoreTransaction(i):i).timeout(u||6e4),st.trans?st.trans.waitFor(i):i},Promise:Kt,debug:{get:function(){return $t},set:function(i){ie(i)}},derive:S,extend:B,props:_,override:W,Events:Yi,on:fn,liveQuery:go,extendObservabilitySet:Ts,getByKeyPath:F,setByKeyPath:Q,delByKeyPath:function(i,u){typeof u=="string"?Q(i,u,void 0):"length"in u&&[].map.call(u,function(m){Q(i,m,void 0)})},shallowClone:it,deepClone:Ot,getObjectDiff:Cs,cmp:pe,asap:C,minKey:-1/0,addons:[],connections:Oa,errnames:I,dependencies:gi,cache:Ba,semVer:"4.3.0",version:"4.3.0".split(".").map(function(i){return parseInt(i)}).reduce(function(i,u,m){return i+u/Math.pow(10,2*m)})})),Ga.maxKey=di(Ga.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(fn(ci,function(i){Ta||(i=new CustomEvent(za,{detail:i}),Ta=!0,dispatchEvent(i),Ta=!1)}),addEventListener(za,function(i){i=i.detail,Ta||Er(i)}));var yi,Ta=!1,Tn=function(){};return typeof BroadcastChannel<"u"&&((Tn=function(){(yi=new BroadcastChannel(za)).onmessage=function(i){return i.data&&Er(i.data)}})(),typeof yi.unref=="function"&&yi.unref(),fn(ci,function(i){Ta||yi.postMessage(i)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(i){if(!ea.disableBfCache&&i.persisted){$t&&console.debug("Dexie: handling persisted pagehide"),yi?.close();for(var u=0,m=Oa;u<m.length;u++)m[u].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(i){!ea.disableBfCache&&i.persisted&&($t&&console.debug("Dexie: handling persisted pageshow"),Tn(),Er({all:new pn(-1/0,[[]])}))})),Kt.rejectionMapper=function(i,u){return!i||i instanceof $||i instanceof TypeError||i instanceof SyntaxError||!i.name||!at[i.name]?i:(u=new at[i.name](u||i.message,i),"stack"in i&&p(u,"stack",{get:function(){return this.inner.stack}}),u)},ie($t),r(ea,Object.freeze({__proto__:null,Dexie:ea,Entity:no,PropModification:li,RangeSet:pn,add:function(i){return new li({add:i})},cmp:pe,default:ea,liveQuery:go,mergeRanges:qa,rangesOverlap:oo,remove:function(i){return new li({remove:i})},replacePrefix:function(i,u){return new li({replacePrefix:[i,u]})}}),{default:ea}),ea})})(dexie_min$1)),dexie_min$1.exports}var dexie_minExports=requireDexie_min();const _Dexie=getDefaultExportFromCjs(dexie_minExports),DexieSymbol=Symbol.for("Dexie"),Dexie=globalThis[DexieSymbol]||(globalThis[DexieSymbol]=_Dexie);if(_Dexie.semVer!==Dexie.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${_Dexie.semVer} and ${Dexie.semVer}`);const{liveQuery,mergeRanges,rangesOverlap,RangeSet,cmp,Entity,PropModification,replacePrefix,add,remove,DexieYProvider}=Dexie;class StudyDatabase extends Dexie{books;chapters;flashcards;questions;studySessions;studySchedules;progress;quizResults;constructor(){super("RealEstateStudyDB"),this.version(1).stores({books:"id, title, uploadedAt",chapters:"id, bookId, number, title, createdAt",flashcards:"id, chapterId, nextReviewDate, difficulty",questions:"id, chapterId, difficulty, topic",studySessions:"id, date, type",studySchedules:"id, examDate",progress:"id, bookId, lastStudied",quizResults:"id, date, chapterId, score"})}}const db=new StudyDatabase;async function getDueFlashcards(){const f=new Date;return await db.flashcards.where("nextReviewDate").belowOrEqual(f).toArray()}async function getFlashcardsByChapter(f){return await db.flashcards.where("chapterId").equals(f).toArray()}async function getProgressByBook(f){return await db.progress.where("bookId").equals(f).first()}async function updateFlashcardAfterReview(f,o){const g=await db.flashcards.get(f);if(!g)return;let{interval:r,repetition:y,easinessFactor:N}=g;N=Math.max(1.3,N+(.1-(5-o)*(.08+(5-o)*.02))),o<3?(y=0,r=1):(y+=1,y===1?r=1:y===2?r=6:r=Math.round(r*N));const O=new Date;O.setDate(O.getDate()+r),await db.flashcards.update(f,{interval:r,repetition:y,easinessFactor:N,nextReviewDate:O,lastReviewedDate:new Date})}async function getWeakTopics(f){const o=await db.quizResults.toArray(),g={};for(const y of o){const N=await db.chapters.get(y.chapterId);if(!N||N.bookId!==f)continue;const O=N.title;g[O]||(g[O]={correct:0,total:0}),g[O].correct+=y.correctAnswers,g[O].total+=y.totalQuestions}const r=[];for(const[y,N]of Object.entries(g))(N.total>0?N.correct/N.total:0)<.7&&r.push(y);return r}function PDFUpload({onUploadComplete:f}){const[o,g]=reactExports.useState(!1),[r,y]=reactExports.useState(!1),[N,O]=reactExports.useState({current:0,total:0,stage:""}),[Y,B]=reactExports.useState(null),d=reactExports.useCallback(S=>{S.preventDefault(),g(!0)},[]),c=reactExports.useCallback(S=>{S.preventDefault(),g(!1)},[]),h=async S=>{if(!S.type.includes("pdf")&&!S.name.endsWith(".pdf")){B("Please upload a PDF file");return}y(!0),B(null);try{O({current:0,total:1,stage:"Extracting text from PDF..."});const j=await extractTextFromPDF(S),v={id:crypto.randomUUID(),title:S.name.replace(".pdf",""),totalPages:j.numPages,uploadedAt:new Date,chapters:[]};await db.books.add(v),O({current:0,total:j.chapters.length,stage:"Processing chapters with AI..."});for(let P=0;P<j.chapters.length;P++){const W=j.chapters[P];O({current:P+1,total:j.chapters.length,stage:`Processing chapter ${P+1}...`});const G={id:crypto.randomUUID(),bookId:v.id,number:W.number,title:W.title,content:W.content,createdAt:new Date,updatedAt:new Date},C=await processChapterWithAI(G);G.summary=C.summary,G.keyTerms=C.keyTerms,G.formulas=C.formulas,G.facts=C.facts,G.questions=C.questions,await db.chapters.add(G),v.chapters.push(G.id);for(const F of C.keyTerms){const Q={id:crypto.randomUUID(),chapterId:G.id,front:F.term,back:F.definition,difficulty:"medium",interval:1,repetition:0,easinessFactor:2.5,nextReviewDate:new Date};await db.flashcards.add(Q)}for(const F of C.facts.slice(0,3)){const Q={id:crypto.randomUUID(),chapterId:G.id,front:"What is this important fact?",back:F,difficulty:"medium",interval:1,repetition:0,easinessFactor:2.5,nextReviewDate:new Date};await db.flashcards.add(Q)}for(const F of C.questions)await db.questions.add(F)}await db.books.update(v.id,{chapters:v.chapters}),y(!1),f()}catch(j){B("Failed to process PDF. Please try again."),y(!1),console.error(j)}},_=reactExports.useCallback(S=>{S.preventDefault(),g(!1);const j=S.dataTransfer.files;j.length>0&&h(j[0])},[]),E=reactExports.useCallback(S=>{const j=S.target.files;j&&j.length>0&&h(j[0])},[]),p=async()=>{y(!0),B(null);try{const S=createMockPDFData(),j={id:crypto.randomUUID(),title:"Real Estate Principles - Sample",totalPages:S.numPages,uploadedAt:new Date,chapters:[]};await db.books.add(j),O({current:0,total:S.chapters.length,stage:"Processing sample chapters..."});for(let v=0;v<S.chapters.length;v++){const P=S.chapters[v];O({current:v+1,total:S.chapters.length,stage:`Processing chapter ${v+1}...`});const W={id:crypto.randomUUID(),bookId:j.id,number:P.number,title:P.title,content:P.content,createdAt:new Date,updatedAt:new Date},G=await processChapterWithAI(W);W.summary=G.summary,W.keyTerms=G.keyTerms,W.formulas=G.formulas,W.facts=G.facts,W.questions=G.questions,await db.chapters.add(W),j.chapters.push(W.id);for(const C of G.keyTerms){const F={id:crypto.randomUUID(),chapterId:W.id,front:C.term,back:C.definition,difficulty:"medium",interval:1,repetition:0,easinessFactor:2.5,nextReviewDate:new Date};await db.flashcards.add(F)}for(const C of G.facts.slice(0,3)){const F={id:crypto.randomUUID(),chapterId:W.id,front:"What is this important fact?",back:C,difficulty:"medium",interval:1,repetition:0,easinessFactor:2.5,nextReviewDate:new Date};await db.flashcards.add(F)}for(const C of G.questions)await db.questions.add(C)}await db.books.update(j.id,{chapters:j.chapters}),y(!1),f()}catch(S){B("Failed to load sample data."),y(!1),console.error(S)}};return r?jsxRuntimeExports.jsxs("div",{className:"max-w-md mx-auto text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 text-primary-500 animate-spin"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Processing your PDF"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:N.stage}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:"bg-primary-500 h-2 rounded-full transition-all duration-300",style:{width:`${N.current/N.total*100}%`}})}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:[N.current," of ",N.total]})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Upload Your Study Material"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Drag and drop your PDF textbook to get started"})]}),jsxRuntimeExports.jsxs("div",{onDragOver:d,onDragLeave:c,onDrop:_,className:`relative border-2 border-dashed rounded-xl p-8 text-center transition-colors ${o?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}`,children:[jsxRuntimeExports.jsx("input",{type:"file",accept:".pdf",onChange:E,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),jsxRuntimeExports.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:jsxRuntimeExports.jsx(Upload,{className:"w-8 h-8 text-gray-400"})}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-white mb-1",children:"Drop your PDF here"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"or click to browse"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-2",children:"Supports PDF files up to 50MB"})]}),Y&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg",children:[jsxRuntimeExports.jsx(X,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:Y})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Don't have a PDF? Try our sample data."}),jsxRuntimeExports.jsxs("button",{onClick:p,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"}),"Load Sample Book"]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-8",children:[{icon:"",title:"AI Summaries",desc:"Executive summaries for each chapter"},{icon:"",title:"Smart Flashcards",desc:"Spaced repetition for better retention"},{icon:"",title:"Practice Quizzes",desc:"Test your knowledge with MCQs"}].map((S,j)=>jsxRuntimeExports.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl mb-2",children:S.icon}),jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:S.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:S.desc})]},j))})]})}function ChapterList({book:f,chapters:o}){const[g,r]=reactExports.useState(null),y=N=>{r(g===N?null:N)};return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:f.title}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[o.length," chapters  ",f.totalPages," pages"]})]})}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:o.map(N=>jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>y(N.id),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"})}),jsxRuntimeExports.jsxs("div",{className:"text-left",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Chapter ",N.number]}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:N.title})]})]}),g===N.id?jsxRuntimeExports.jsx(ChevronUp,{className:"w-5 h-5 text-gray-400"}):jsxRuntimeExports.jsx(ChevronDown,{className:"w-5 h-5 text-gray-400"})]}),g===N.id&&jsxRuntimeExports.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4 space-y-6",children:[N.summary&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"flex items-center gap-2 font-medium text-gray-900 dark:text-white mb-2",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-4 h-4 text-primary-500"}),"Executive Summary"]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm leading-relaxed",children:N.summary})]}),N.keyTerms&&N.keyTerms.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"flex items-center gap-2 font-medium text-gray-900 dark:text-white mb-3",children:[jsxRuntimeExports.jsx(KeyRound,{className:"w-4 h-4 text-primary-500"}),"Key Terms (",N.keyTerms.length,")"]}),jsxRuntimeExports.jsx("div",{className:"grid gap-2",children:N.keyTerms.map((O,Y)=>jsxRuntimeExports.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:O.term}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:O.definition})]},Y))})]}),N.formulas&&N.formulas.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"flex items-center gap-2 font-medium text-gray-900 dark:text-white mb-3",children:[jsxRuntimeExports.jsx(Calculator,{className:"w-4 h-4 text-primary-500"}),"Important Formulas"]}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:N.formulas.map((O,Y)=>jsxRuntimeExports.jsxs("div",{className:"p-3 bg-primary-50 dark:bg-primary-900/20 rounded-lg border border-primary-100 dark:border-primary-800",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:O.name}),jsxRuntimeExports.jsx("div",{className:"my-2 p-2 bg-white dark:bg-gray-800 rounded font-mono text-sm text-primary-600 dark:text-primary-400",children:O.formula}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:O.explanation}),O.example&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-1",children:["Example: ",O.example]})]},Y))})]}),N.facts&&N.facts.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"flex items-center gap-2 font-medium text-gray-900 dark:text-white mb-3",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"w-4 h-4 text-primary-500"}),"Must-Know Facts"]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:N.facts.map((O,Y)=>jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-4 h-4 text-yellow-600 dark:text-yellow-400 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:O})]},Y))})]}),N.questions&&N.questions.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"flex items-center gap-2 font-medium text-gray-900 dark:text-white mb-3",children:[jsxRuntimeExports.jsx(CircleQuestionMark,{className:"w-4 h-4 text-primary-500"}),"Practice Questions (",N.questions.length,")"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Take the quiz to test your knowledge of this chapter."})]})]})]},N.id))})]})}function FlashcardView(){const[f,o]=reactExports.useState([]),[g,r]=reactExports.useState([]),[y,N]=reactExports.useState("all"),[O,Y]=reactExports.useState(0),[B,d]=reactExports.useState(!1),[c,h]=reactExports.useState(!0),[_,E]=reactExports.useState(null),[p,S]=reactExports.useState(null),[j,v]=reactExports.useState("select"),P=50;reactExports.useEffect(()=>{W()},[]);const W=async()=>{const Mt=await db.chapters.toArray();r(Mt),h(!1)},G=async()=>{h(!0);let Mt=[];if(y==="all")Mt=await getDueFlashcards();else{const kt=await getFlashcardsByChapter(y),nt=new Date;Mt=kt.filter(q=>new Date(q.nextReviewDate)<=nt)}o(Mt),Y(0),d(!1),h(!1),v("study")},C=f[O],F=()=>{d(!B)},Q=async Mt=>{C&&(await updateFlashcardAfterReview(C.id,Mt),O<f.length-1?(Y(O+1),d(!1)):await G())},it=()=>{O>0&&(Y(O-1),d(!1))},et=()=>{O<f.length-1&&(Y(O+1),d(!1))},bt=()=>{v("select"),o([]),Y(0),d(!1)},gt=Mt=>{S(null),E(Mt.targetTouches[0].clientX)},It=Mt=>{S(Mt.targetTouches[0].clientX)},Ot=()=>{if(!_||!p)return;const Mt=_-p,kt=Mt>P,nt=Mt<-P;kt?Q(3):nt&&Q(5)};return c?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-violet-500"})}):j==="select"?jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-violet-500 to-indigo-600 flex items-center justify-center shadow-lg shadow-violet-500/30",children:jsxRuntimeExports.jsx(Layers,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Study Flashcards"}),jsxRuntimeExports.jsx("p",{className:"text-white/60",children:"Choose a chapter to review"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{N("all"),G()},className:"w-full p-5 bg-white/10 hover:bg-white/15 border border-white/20 rounded-2xl transition-all group",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-violet-500 to-indigo-600 flex items-center justify-center",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 text-left",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-white group-hover:text-violet-300 transition-colors",children:"All Chapters"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-white/50",children:"Review flashcards from all chapters"})]}),jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5 text-white/30 group-hover:text-white/60 transition-colors"})]})}),g.map(Mt=>jsxRuntimeExports.jsx("button",{onClick:()=>{N(Mt.id),G()},className:"w-full p-5 bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20 rounded-2xl transition-all group",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/10 flex items-center justify-center",children:jsxRuntimeExports.jsx("span",{className:"text-lg font-bold text-violet-400",children:Mt.number})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 text-left",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-white group-hover:text-violet-300 transition-colors",children:Mt.title}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-white/40",children:["Chapter ",Mt.number]})]}),jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5 text-white/30 group-hover:text-white/60 transition-colors"})]})},Mt.id)),g.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12 bg-white/5 rounded-2xl border border-white/10",children:[jsxRuntimeExports.jsx(Brain,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-white/60",children:"No chapters available yet."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-white/40 mt-2",children:"Upload a PDF to get started"})]})]})]}):f.length===0?jsxRuntimeExports.jsxs("div",{className:"max-w-lg mx-auto text-center px-4",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-2xl bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center shadow-lg shadow-green-500/30",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-10 h-10 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"All Caught Up!"}),jsxRuntimeExports.jsxs("p",{className:"text-white/60 mb-6",children:["No flashcards due for review in ",y==="all"?"any chapter":"this chapter","."]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 justify-center",children:[jsxRuntimeExports.jsx("button",{onClick:bt,className:"px-6 py-3 bg-white/10 hover:bg-white/15 text-white rounded-xl transition-colors border border-white/20",children:"Choose Different Chapter"}),jsxRuntimeExports.jsxs("button",{onClick:G,className:"px-6 py-3 bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-500 hover:to-indigo-500 text-white rounded-xl transition-all shadow-lg shadow-violet-500/25",children:[jsxRuntimeExports.jsx(RotateCcw,{className:"w-4 h-4 inline mr-2"}),"Refresh"]})]})]}):jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("button",{onClick:bt,className:"text-sm text-violet-400 hover:text-violet-300 transition-colors mb-1",children:" Back to chapters"}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white",children:y==="all"?"All Chapters":g.find(Mt=>Mt.id===y)?.title}),jsxRuntimeExports.jsxs("p",{className:"text-white/50",children:["Card ",O+1," of ",f.length]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:it,disabled:O===0,className:"p-3 bg-white/10 hover:bg-white/15 rounded-xl transition-colors disabled:opacity-30",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("button",{onClick:et,disabled:O===f.length-1,className:"p-3 bg-white/10 hover:bg-white/15 rounded-xl transition-colors disabled:opacity-30",children:jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5 text-white"})})]})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-white/10 rounded-full h-2 mb-8",children:jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-violet-500 to-indigo-500 h-2 rounded-full transition-all duration-500",style:{width:`${(O+1)/f.length*100}%`}})}),jsxRuntimeExports.jsx("div",{className:"relative h-80 cursor-pointer perspective-1000",onClick:F,onTouchStart:gt,onTouchMove:It,onTouchEnd:Ot,children:jsxRuntimeExports.jsxs("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-3d",style:{transformStyle:"preserve-3d",transform:B?"rotateY(180deg)":"rotateY(0deg)"},children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 backface-hidden bg-gradient-to-br from-white/15 to-white/5 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 p-8 flex flex-col items-center justify-center text-center",style:{backfaceVisibility:"hidden"},children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-violet-400 mb-4 font-medium tracking-wide uppercase",children:"Tap to flip"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-semibold text-white leading-relaxed",children:C.front})]}),jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 backface-hidden bg-gradient-to-br from-violet-600/30 to-indigo-600/30 backdrop-blur-xl rounded-2xl shadow-2xl border border-violet-400/30 p-8 flex flex-col items-center justify-center text-center",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-violet-300 mb-4 font-medium tracking-wide uppercase",children:"Answer"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-semibold text-white leading-relaxed",children:C.back})]})]})}),jsxRuntimeExports.jsxs("div",{className:"mt-8 grid grid-cols-4 gap-3",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Q(1),className:"flex flex-col items-center gap-2 p-4 bg-red-500/20 hover:bg-red-500/30 text-red-300 rounded-xl transition-all border border-red-500/30",children:[jsxRuntimeExports.jsx(ThumbsDown,{className:"w-6 h-6"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Again"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>Q(3),className:"flex flex-col items-center gap-2 p-4 bg-orange-500/20 hover:bg-orange-500/30 text-orange-300 rounded-xl transition-all border border-orange-500/30",children:[jsxRuntimeExports.jsx(Ellipsis,{className:"w-6 h-6"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Hard"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>Q(4),className:"flex flex-col items-center gap-2 p-4 bg-blue-500/20 hover:bg-blue-500/30 text-blue-300 rounded-xl transition-all border border-blue-500/30",children:[jsxRuntimeExports.jsx(ThumbsUp,{className:"w-6 h-6"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Good"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>Q(5),className:"flex flex-col items-center gap-2 p-4 bg-green-500/20 hover:bg-green-500/30 text-green-300 rounded-xl transition-all border border-green-500/30",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-6 h-6"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Easy"})]})]}),jsxRuntimeExports.jsx("p",{className:"text-center text-sm text-white/40 mt-6",children:"Swipe right for Easy, left for Hard  Tap card to flip"})]})}function QuizView({chapters:f}){const[o,g]=reactExports.useState("all"),[r,y]=reactExports.useState([]),[N,O]=reactExports.useState(!1),[Y,B]=reactExports.useState(0),[d,c]=reactExports.useState(null),[h,_]=reactExports.useState([]),[E,p]=reactExports.useState(!1),[S,j]=reactExports.useState(0),[v,P]=reactExports.useState(0),[W,G]=reactExports.useState([]),[C,F]=reactExports.useState(!1),[Q,it]=reactExports.useState(!1);reactExports.useEffect(()=>{et()},[]);const et=async()=>{const kt=await db.quizResults.orderBy("date").reverse().limit(10).toArray();G(kt)},bt=async()=>{it(!0);const kt=[],nt=o==="all"?f:f.filter(q=>q.id===o);for(const q of nt)if(q)for(let M=0;M<3;M++)kt.push({id:`sample-${q.id}-${M}`,chapterId:q.id,question:`Sample question ${M+1} about ${q.title}: What is the key concept covered in this chapter?`,options:["Real estate fundamentals","Property law basics","Market analysis principles","Contract negotiation strategies"],correctAnswer:0,explanation:`This is a sample question about ${q.title}. In the full version, AI would generate specific questions based on the chapter content.`,difficulty:"medium",topic:q.title});kt.length>0&&(await db.questions.bulkAdd(kt),await gt()),it(!1)},gt=async()=>{let kt=[];if(o==="all"?(kt=await db.questions.toArray(),kt=kt.sort(()=>Math.random()-.5).slice(0,10)):kt=await db.questions.where("chapterId").equals(o).toArray(),kt.length===0){F(!0);return}F(!1),y(kt),O(!0),B(0),c(null),_([]),p(!1),j(Date.now()),P(Date.now())},It=kt=>{d===null&&c(kt)},Ot=async()=>{const kt=r[Y],nt=Math.floor((Date.now()-v)/1e3),q=d===kt.correctAnswer,M=[...h,{questionId:kt.id,selectedAnswer:d,correct:q,timeSpent:nt}];if(_(M),Y<r.length-1)B(Y+1),c(null),P(Date.now());else{const T=Math.floor((Date.now()-S)/1e3),R=M.filter(U=>U.correct).length,x=Math.round(R/r.length*100),L={id:crypto.randomUUID(),date:new Date,chapterId:o==="all"?"mixed":o,score:x,totalQuestions:r.length,correctAnswers:R,timeSpent:T,answers:M};await db.quizResults.add(L),p(!0),et()}},Mt=()=>{O(!1),p(!1),y([]),B(0),c(null),_([]),F(!1)};if(E){const kt=h.filter(q=>q.correct).length,nt=Math.round(kt/r.length*100);return jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("div",{className:`w-28 h-28 mx-auto rounded-2xl flex items-center justify-center mb-6 shadow-2xl ${nt>=80?"bg-gradient-to-br from-green-500 to-emerald-600 shadow-green-500/30":nt>=60?"bg-gradient-to-br from-yellow-500 to-orange-600 shadow-yellow-500/30":"bg-gradient-to-br from-red-500 to-pink-600 shadow-red-500/30"}`,children:jsxRuntimeExports.jsx(Trophy,{className:"w-14 h-14 text-white"})}),jsxRuntimeExports.jsxs("h2",{className:"text-5xl font-bold text-white mb-2",children:[nt,"%"]}),jsxRuntimeExports.jsxs("p",{className:"text-xl text-white/70",children:["You got ",kt," out of ",r.length," correct"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"p-6 bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20",children:[jsxRuntimeExports.jsx(Clock,{className:"w-6 h-6 text-violet-400 mx-auto mb-3"}),jsxRuntimeExports.jsxs("p",{className:"text-3xl font-bold text-white",children:[Math.floor(h.reduce((q,M)=>q+M.timeSpent,0)/60),":",String(h.reduce((q,M)=>q+M.timeSpent,0)%60).padStart(2,"0")]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-white/50",children:"Time"})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-6 h-6 text-violet-400 mx-auto mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-white",children:kt}),jsxRuntimeExports.jsx("p",{className:"text-sm text-white/50",children:"Correct"})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-3 mb-8",children:r.map((q,M)=>{const T=h[M];return jsxRuntimeExports.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-4 ${T.correct?"bg-green-500/10 border border-green-500/30":"bg-red-500/10 border border-red-500/30"}`,children:[T.correct?jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-6 h-6 text-green-400 flex-shrink-0"}):jsxRuntimeExports.jsx(CircleX,{className:"w-6 h-6 text-red-400 flex-shrink-0"}),jsxRuntimeExports.jsx("p",{className:"text-white/80 text-left flex-1",children:q.question})]},q.id)})}),jsxRuntimeExports.jsxs("button",{onClick:Mt,className:"w-full py-4 bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-500 hover:to-indigo-500 text-white rounded-xl transition-all shadow-lg shadow-violet-500/25 flex items-center justify-center gap-2 font-semibold",children:[jsxRuntimeExports.jsx(RotateCcw,{className:"w-5 h-5"}),"Take Another Quiz"]})]})}if(N&&r.length>0){const kt=r[Y];return jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto px-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("p",{className:"text-white/60",children:["Question ",Y+1," of ",r.length]}),jsxRuntimeExports.jsx("button",{onClick:Mt,className:"text-sm text-white/50 hover:text-white transition-colors",children:"Quit"})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-white/10 rounded-full h-2 mb-8",children:jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-violet-500 to-indigo-500 h-2 rounded-full transition-all duration-500",style:{width:`${(Y+1)/r.length*100}%`}})}),jsxRuntimeExports.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl p-8 mb-6",children:[jsxRuntimeExports.jsx("p",{className:"text-xl font-medium text-white mb-8",children:kt.question}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:kt.options.map((nt,q)=>jsxRuntimeExports.jsx("button",{onClick:()=>It(q),disabled:d!==null,className:`w-full p-5 text-left rounded-xl border-2 transition-all ${d===null?"border-white/10 hover:border-violet-500/50 hover:bg-white/5":d===q?q===kt.correctAnswer?"border-green-500 bg-green-500/10":"border-red-500 bg-red-500/10":q===kt.correctAnswer?"border-green-500 bg-green-500/10":"border-white/10 opacity-50"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("span",{className:"w-10 h-10 rounded-lg bg-white/10 flex items-center justify-center text-lg font-bold",children:String.fromCharCode(65+q)}),jsxRuntimeExports.jsx("span",{className:"text-white",children:nt})]})},q))}),d!==null&&jsxRuntimeExports.jsxs("div",{className:`mt-6 p-5 rounded-xl ${d===kt.correctAnswer?"bg-green-500/10 border border-green-500/30":"bg-red-500/10 border border-red-500/30"}`,children:[jsxRuntimeExports.jsx("p",{className:`font-semibold mb-2 ${d===kt.correctAnswer?"text-green-400":"text-red-400"}`,children:d===kt.correctAnswer?"Correct!":"Incorrect"}),jsxRuntimeExports.jsx("p",{className:"text-white/70",children:kt.explanation})]})]}),jsxRuntimeExports.jsx("button",{onClick:Ot,disabled:d===null,className:"w-full py-4 bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-500 hover:to-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-xl transition-all shadow-lg shadow-violet-500/25 flex items-center justify-center gap-2 font-semibold",children:Y<r.length-1?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Next Question",jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5"})]}):"Finish Quiz"})]})}return jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-violet-500 to-indigo-600 flex items-center justify-center shadow-lg shadow-violet-500/30",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Practice Quiz"}),jsxRuntimeExports.jsx("p",{className:"text-white/60",children:"Test your knowledge with multiple choice questions"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl p-6 mb-6",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-white/80 mb-3",children:"Select Chapter"}),jsxRuntimeExports.jsxs("select",{value:o,onChange:kt=>g(kt.target.value),className:"w-full bg-white/10 border border-white/20 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent",children:[jsxRuntimeExports.jsx("option",{value:"all",className:"bg-gray-900",children:"All Chapters (Mixed)"}),f.map(kt=>jsxRuntimeExports.jsxs("option",{value:kt.id,className:"bg-gray-900",children:["Chapter ",kt.number,": ",kt.title]},kt.id))]})]}),C?jsxRuntimeExports.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-2xl p-6 mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-6 h-6 text-amber-400 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-amber-300 mb-2",children:"No Questions Available"}),jsxRuntimeExports.jsx("p",{className:"text-amber-200/70 mb-4",children:"There are no quiz questions for the selected chapter yet. Generate sample questions to start practicing."}),jsxRuntimeExports.jsx("button",{onClick:bt,disabled:Q,className:"px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-400 hover:to-orange-400 disabled:opacity-50 text-white rounded-xl transition-all flex items-center gap-2 font-semibold",children:Q?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Generating..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-5 h-5"}),"Generate Questions"]})})]})]})}):null,jsxRuntimeExports.jsxs("button",{onClick:gt,className:"w-full py-4 bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-500 hover:to-indigo-500 text-white rounded-xl transition-all shadow-lg shadow-violet-500/25 flex items-center justify-center gap-3 text-lg font-semibold",children:[jsxRuntimeExports.jsx(Play,{className:"w-6 h-6"}),"Start Quiz"]}),W.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-10",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Recent Results"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:W.map(kt=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/10 backdrop-blur-sm rounded-xl border border-white/20",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-white/50",children:new Date(kt.date).toLocaleDateString()}),jsxRuntimeExports.jsxs("p",{className:"font-medium text-white",children:[kt.correctAnswers,"/",kt.totalQuestions," correct"]})]}),jsxRuntimeExports.jsxs("div",{className:`text-2xl font-bold ${kt.score>=80?"text-green-400":kt.score>=60?"text-yellow-400":"text-red-400"}`,children:[kt.score,"%"]})]},kt.id))})]})]})}const millisecondsInWeek=6048e5,millisecondsInDay=864e5,constructFromSymbol=Symbol.for("constructDateFrom");function constructFrom(f,o){return typeof f=="function"?f(o):f&&typeof f=="object"&&constructFromSymbol in f?f[constructFromSymbol](o):f instanceof Date?new f.constructor(o):new Date(o)}function toDate(f,o){return constructFrom(o||f,f)}function addDays(f,o,g){const r=toDate(f,g?.in);return isNaN(o)?constructFrom(f,NaN):(o&&r.setDate(r.getDate()+o),r)}let defaultOptions={};function getDefaultOptions(){return defaultOptions}function startOfWeek(f,o){const g=getDefaultOptions(),r=o?.weekStartsOn??o?.locale?.options?.weekStartsOn??g.weekStartsOn??g.locale?.options?.weekStartsOn??0,y=toDate(f,o?.in),N=y.getDay(),O=(N<r?7:0)+N-r;return y.setDate(y.getDate()-O),y.setHours(0,0,0,0),y}function startOfISOWeek(f,o){return startOfWeek(f,{...o,weekStartsOn:1})}function getISOWeekYear(f,o){const g=toDate(f,o?.in),r=g.getFullYear(),y=constructFrom(g,0);y.setFullYear(r+1,0,4),y.setHours(0,0,0,0);const N=startOfISOWeek(y),O=constructFrom(g,0);O.setFullYear(r,0,4),O.setHours(0,0,0,0);const Y=startOfISOWeek(O);return g.getTime()>=N.getTime()?r+1:g.getTime()>=Y.getTime()?r:r-1}function getTimezoneOffsetInMilliseconds(f){const o=toDate(f),g=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()));return g.setUTCFullYear(o.getFullYear()),+f-+g}function normalizeDates(f,...o){const g=constructFrom.bind(null,o.find(r=>typeof r=="object"));return o.map(g)}function startOfDay(f,o){const g=toDate(f,o?.in);return g.setHours(0,0,0,0),g}function differenceInCalendarDays(f,o,g){const[r,y]=normalizeDates(g?.in,f,o),N=startOfDay(r),O=startOfDay(y),Y=+N-getTimezoneOffsetInMilliseconds(N),B=+O-getTimezoneOffsetInMilliseconds(O);return Math.round((Y-B)/millisecondsInDay)}function startOfISOWeekYear(f,o){const g=getISOWeekYear(f,o),r=constructFrom(f,0);return r.setFullYear(g,0,4),r.setHours(0,0,0,0),startOfISOWeek(r)}function isSameDay(f,o,g){const[r,y]=normalizeDates(g?.in,f,o);return+startOfDay(r)==+startOfDay(y)}function isDate(f){return f instanceof Date||typeof f=="object"&&Object.prototype.toString.call(f)==="[object Date]"}function isValid(f){return!(!isDate(f)&&typeof f!="number"||isNaN(+toDate(f)))}function startOfYear(f,o){const g=toDate(f,o?.in);return g.setFullYear(g.getFullYear(),0,1),g.setHours(0,0,0,0),g}const formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=(f,o,g)=>{let r;const y=formatDistanceLocale[f];return typeof y=="string"?r=y:o===1?r=y.one:r=y.other.replace("{{count}}",o.toString()),g?.addSuffix?g.comparison&&g.comparison>0?"in "+r:r+" ago":r};function buildFormatLongFn(f){return(o={})=>{const g=o.width?String(o.width):f.defaultWidth;return f.formats[g]||f.formats[f.defaultWidth]}}const dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=(f,o,g,r)=>formatRelativeLocale[f];function buildLocalizeFn(f){return(o,g)=>{const r=g?.context?String(g.context):"standalone";let y;if(r==="formatting"&&f.formattingValues){const O=f.defaultFormattingWidth||f.defaultWidth,Y=g?.width?String(g.width):O;y=f.formattingValues[Y]||f.formattingValues[O]}else{const O=f.defaultWidth,Y=g?.width?String(g.width):f.defaultWidth;y=f.values[Y]||f.values[O]}const N=f.argumentCallback?f.argumentCallback(o):o;return y[N]}}const eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=(f,o)=>{const g=Number(f),r=g%100;if(r>20||r<10)switch(r%10){case 1:return g+"st";case 2:return g+"nd";case 3:return g+"rd"}return g+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:f=>f-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})};function buildMatchFn(f){return(o,g={})=>{const r=g.width,y=r&&f.matchPatterns[r]||f.matchPatterns[f.defaultMatchWidth],N=o.match(y);if(!N)return null;const O=N[0],Y=r&&f.parsePatterns[r]||f.parsePatterns[f.defaultParseWidth],B=Array.isArray(Y)?findIndex(Y,h=>h.test(O)):findKey(Y,h=>h.test(O));let d;d=f.valueCallback?f.valueCallback(B):B,d=g.valueCallback?g.valueCallback(d):d;const c=o.slice(O.length);return{value:d,rest:c}}}function findKey(f,o){for(const g in f)if(Object.prototype.hasOwnProperty.call(f,g)&&o(f[g]))return g}function findIndex(f,o){for(let g=0;g<f.length;g++)if(o(f[g]))return g}function buildMatchPatternFn(f){return(o,g={})=>{const r=o.match(f.matchPattern);if(!r)return null;const y=r[0],N=o.match(f.parsePattern);if(!N)return null;let O=f.valueCallback?f.valueCallback(N[0]):N[0];O=g.valueCallback?g.valueCallback(O):O;const Y=o.slice(y.length);return{value:O,rest:Y}}}const matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:f=>parseInt(f,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:f=>f+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance,formatLong,formatRelative,localize,match,options:{weekStartsOn:0,firstWeekContainsDate:1}};function getDayOfYear(f,o){const g=toDate(f,o?.in);return differenceInCalendarDays(g,startOfYear(g))+1}function getISOWeek(f,o){const g=toDate(f,o?.in),r=+startOfISOWeek(g)-+startOfISOWeekYear(g);return Math.round(r/millisecondsInWeek)+1}function getWeekYear(f,o){const g=toDate(f,o?.in),r=g.getFullYear(),y=getDefaultOptions(),N=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??y.firstWeekContainsDate??y.locale?.options?.firstWeekContainsDate??1,O=constructFrom(o?.in||f,0);O.setFullYear(r+1,0,N),O.setHours(0,0,0,0);const Y=startOfWeek(O,o),B=constructFrom(o?.in||f,0);B.setFullYear(r,0,N),B.setHours(0,0,0,0);const d=startOfWeek(B,o);return+g>=+Y?r+1:+g>=+d?r:r-1}function startOfWeekYear(f,o){const g=getDefaultOptions(),r=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??g.firstWeekContainsDate??g.locale?.options?.firstWeekContainsDate??1,y=getWeekYear(f,o),N=constructFrom(o?.in||f,0);return N.setFullYear(y,0,r),N.setHours(0,0,0,0),startOfWeek(N,o)}function getWeek(f,o){const g=toDate(f,o?.in),r=+startOfWeek(g,o)-+startOfWeekYear(g,o);return Math.round(r/millisecondsInWeek)+1}function addLeadingZeros(f,o){const g=f<0?"-":"",r=Math.abs(f).toString().padStart(o,"0");return g+r}const lightFormatters={y(f,o){const g=f.getFullYear(),r=g>0?g:1-g;return addLeadingZeros(o==="yy"?r%100:r,o.length)},M(f,o){const g=f.getMonth();return o==="M"?String(g+1):addLeadingZeros(g+1,2)},d(f,o){return addLeadingZeros(f.getDate(),o.length)},a(f,o){const g=f.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return g.toUpperCase();case"aaa":return g;case"aaaaa":return g[0];default:return g==="am"?"a.m.":"p.m."}},h(f,o){return addLeadingZeros(f.getHours()%12||12,o.length)},H(f,o){return addLeadingZeros(f.getHours(),o.length)},m(f,o){return addLeadingZeros(f.getMinutes(),o.length)},s(f,o){return addLeadingZeros(f.getSeconds(),o.length)},S(f,o){const g=o.length,r=f.getMilliseconds(),y=Math.trunc(r*Math.pow(10,g-3));return addLeadingZeros(y,o.length)}},dayPeriodEnum={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(f,o,g){const r=f.getFullYear()>0?1:0;switch(o){case"G":case"GG":case"GGG":return g.era(r,{width:"abbreviated"});case"GGGGG":return g.era(r,{width:"narrow"});default:return g.era(r,{width:"wide"})}},y:function(f,o,g){if(o==="yo"){const r=f.getFullYear(),y=r>0?r:1-r;return g.ordinalNumber(y,{unit:"year"})}return lightFormatters.y(f,o)},Y:function(f,o,g,r){const y=getWeekYear(f,r),N=y>0?y:1-y;if(o==="YY"){const O=N%100;return addLeadingZeros(O,2)}return o==="Yo"?g.ordinalNumber(N,{unit:"year"}):addLeadingZeros(N,o.length)},R:function(f,o){const g=getISOWeekYear(f);return addLeadingZeros(g,o.length)},u:function(f,o){const g=f.getFullYear();return addLeadingZeros(g,o.length)},Q:function(f,o,g){const r=Math.ceil((f.getMonth()+1)/3);switch(o){case"Q":return String(r);case"QQ":return addLeadingZeros(r,2);case"Qo":return g.ordinalNumber(r,{unit:"quarter"});case"QQQ":return g.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return g.quarter(r,{width:"narrow",context:"formatting"});default:return g.quarter(r,{width:"wide",context:"formatting"})}},q:function(f,o,g){const r=Math.ceil((f.getMonth()+1)/3);switch(o){case"q":return String(r);case"qq":return addLeadingZeros(r,2);case"qo":return g.ordinalNumber(r,{unit:"quarter"});case"qqq":return g.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return g.quarter(r,{width:"narrow",context:"standalone"});default:return g.quarter(r,{width:"wide",context:"standalone"})}},M:function(f,o,g){const r=f.getMonth();switch(o){case"M":case"MM":return lightFormatters.M(f,o);case"Mo":return g.ordinalNumber(r+1,{unit:"month"});case"MMM":return g.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return g.month(r,{width:"narrow",context:"formatting"});default:return g.month(r,{width:"wide",context:"formatting"})}},L:function(f,o,g){const r=f.getMonth();switch(o){case"L":return String(r+1);case"LL":return addLeadingZeros(r+1,2);case"Lo":return g.ordinalNumber(r+1,{unit:"month"});case"LLL":return g.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return g.month(r,{width:"narrow",context:"standalone"});default:return g.month(r,{width:"wide",context:"standalone"})}},w:function(f,o,g,r){const y=getWeek(f,r);return o==="wo"?g.ordinalNumber(y,{unit:"week"}):addLeadingZeros(y,o.length)},I:function(f,o,g){const r=getISOWeek(f);return o==="Io"?g.ordinalNumber(r,{unit:"week"}):addLeadingZeros(r,o.length)},d:function(f,o,g){return o==="do"?g.ordinalNumber(f.getDate(),{unit:"date"}):lightFormatters.d(f,o)},D:function(f,o,g){const r=getDayOfYear(f);return o==="Do"?g.ordinalNumber(r,{unit:"dayOfYear"}):addLeadingZeros(r,o.length)},E:function(f,o,g){const r=f.getDay();switch(o){case"E":case"EE":case"EEE":return g.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return g.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return g.day(r,{width:"short",context:"formatting"});default:return g.day(r,{width:"wide",context:"formatting"})}},e:function(f,o,g,r){const y=f.getDay(),N=(y-r.weekStartsOn+8)%7||7;switch(o){case"e":return String(N);case"ee":return addLeadingZeros(N,2);case"eo":return g.ordinalNumber(N,{unit:"day"});case"eee":return g.day(y,{width:"abbreviated",context:"formatting"});case"eeeee":return g.day(y,{width:"narrow",context:"formatting"});case"eeeeee":return g.day(y,{width:"short",context:"formatting"});default:return g.day(y,{width:"wide",context:"formatting"})}},c:function(f,o,g,r){const y=f.getDay(),N=(y-r.weekStartsOn+8)%7||7;switch(o){case"c":return String(N);case"cc":return addLeadingZeros(N,o.length);case"co":return g.ordinalNumber(N,{unit:"day"});case"ccc":return g.day(y,{width:"abbreviated",context:"standalone"});case"ccccc":return g.day(y,{width:"narrow",context:"standalone"});case"cccccc":return g.day(y,{width:"short",context:"standalone"});default:return g.day(y,{width:"wide",context:"standalone"})}},i:function(f,o,g){const r=f.getDay(),y=r===0?7:r;switch(o){case"i":return String(y);case"ii":return addLeadingZeros(y,o.length);case"io":return g.ordinalNumber(y,{unit:"day"});case"iii":return g.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return g.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return g.day(r,{width:"short",context:"formatting"});default:return g.day(r,{width:"wide",context:"formatting"})}},a:function(f,o,g){const y=f.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return g.dayPeriod(y,{width:"abbreviated",context:"formatting"});case"aaa":return g.dayPeriod(y,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return g.dayPeriod(y,{width:"narrow",context:"formatting"});default:return g.dayPeriod(y,{width:"wide",context:"formatting"})}},b:function(f,o,g){const r=f.getHours();let y;switch(r===12?y=dayPeriodEnum.noon:r===0?y=dayPeriodEnum.midnight:y=r/12>=1?"pm":"am",o){case"b":case"bb":return g.dayPeriod(y,{width:"abbreviated",context:"formatting"});case"bbb":return g.dayPeriod(y,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return g.dayPeriod(y,{width:"narrow",context:"formatting"});default:return g.dayPeriod(y,{width:"wide",context:"formatting"})}},B:function(f,o,g){const r=f.getHours();let y;switch(r>=17?y=dayPeriodEnum.evening:r>=12?y=dayPeriodEnum.afternoon:r>=4?y=dayPeriodEnum.morning:y=dayPeriodEnum.night,o){case"B":case"BB":case"BBB":return g.dayPeriod(y,{width:"abbreviated",context:"formatting"});case"BBBBB":return g.dayPeriod(y,{width:"narrow",context:"formatting"});default:return g.dayPeriod(y,{width:"wide",context:"formatting"})}},h:function(f,o,g){if(o==="ho"){let r=f.getHours()%12;return r===0&&(r=12),g.ordinalNumber(r,{unit:"hour"})}return lightFormatters.h(f,o)},H:function(f,o,g){return o==="Ho"?g.ordinalNumber(f.getHours(),{unit:"hour"}):lightFormatters.H(f,o)},K:function(f,o,g){const r=f.getHours()%12;return o==="Ko"?g.ordinalNumber(r,{unit:"hour"}):addLeadingZeros(r,o.length)},k:function(f,o,g){let r=f.getHours();return r===0&&(r=24),o==="ko"?g.ordinalNumber(r,{unit:"hour"}):addLeadingZeros(r,o.length)},m:function(f,o,g){return o==="mo"?g.ordinalNumber(f.getMinutes(),{unit:"minute"}):lightFormatters.m(f,o)},s:function(f,o,g){return o==="so"?g.ordinalNumber(f.getSeconds(),{unit:"second"}):lightFormatters.s(f,o)},S:function(f,o){return lightFormatters.S(f,o)},X:function(f,o,g){const r=f.getTimezoneOffset();if(r===0)return"Z";switch(o){case"X":return formatTimezoneWithOptionalMinutes(r);case"XXXX":case"XX":return formatTimezone(r);default:return formatTimezone(r,":")}},x:function(f,o,g){const r=f.getTimezoneOffset();switch(o){case"x":return formatTimezoneWithOptionalMinutes(r);case"xxxx":case"xx":return formatTimezone(r);default:return formatTimezone(r,":")}},O:function(f,o,g){const r=f.getTimezoneOffset();switch(o){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(r,":");default:return"GMT"+formatTimezone(r,":")}},z:function(f,o,g){const r=f.getTimezoneOffset();switch(o){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(r,":");default:return"GMT"+formatTimezone(r,":")}},t:function(f,o,g){const r=Math.trunc(+f/1e3);return addLeadingZeros(r,o.length)},T:function(f,o,g){return addLeadingZeros(+f,o.length)}};function formatTimezoneShort(f,o=""){const g=f>0?"-":"+",r=Math.abs(f),y=Math.trunc(r/60),N=r%60;return N===0?g+String(y):g+String(y)+o+addLeadingZeros(N,2)}function formatTimezoneWithOptionalMinutes(f,o){return f%60===0?(f>0?"-":"+")+addLeadingZeros(Math.abs(f)/60,2):formatTimezone(f,o)}function formatTimezone(f,o=""){const g=f>0?"-":"+",r=Math.abs(f),y=addLeadingZeros(Math.trunc(r/60),2),N=addLeadingZeros(r%60,2);return g+y+o+N}const dateLongFormatter=(f,o)=>{switch(f){case"P":return o.date({width:"short"});case"PP":return o.date({width:"medium"});case"PPP":return o.date({width:"long"});default:return o.date({width:"full"})}},timeLongFormatter=(f,o)=>{switch(f){case"p":return o.time({width:"short"});case"pp":return o.time({width:"medium"});case"ppp":return o.time({width:"long"});default:return o.time({width:"full"})}},dateTimeLongFormatter=(f,o)=>{const g=f.match(/(P+)(p+)?/)||[],r=g[1],y=g[2];if(!y)return dateLongFormatter(f,o);let N;switch(r){case"P":N=o.dateTime({width:"short"});break;case"PP":N=o.dateTime({width:"medium"});break;case"PPP":N=o.dateTime({width:"long"});break;default:N=o.dateTime({width:"full"});break}return N.replace("{{date}}",dateLongFormatter(r,o)).replace("{{time}}",timeLongFormatter(y,o))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},dayOfYearTokenRE=/^D+$/,weekYearTokenRE=/^Y+$/,throwTokens=["D","DD","YY","YYYY"];function isProtectedDayOfYearToken(f){return dayOfYearTokenRE.test(f)}function isProtectedWeekYearToken(f){return weekYearTokenRE.test(f)}function warnOrThrowProtectedError(f,o,g){const r=message(f,o,g);if(console.warn(r),throwTokens.includes(f))throw new RangeError(r)}function message(f,o,g){const r=f[0]==="Y"?"years":"days of the month";return`Use \`${f.toLowerCase()}\` instead of \`${f}\` (in \`${o}\`) for formatting ${r} to the input \`${g}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function format(f,o,g){const r=getDefaultOptions(),y=r.locale??enUS,N=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,O=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,Y=toDate(f,g?.in);if(!isValid(Y))throw new RangeError("Invalid time value");let B=o.match(longFormattingTokensRegExp).map(c=>{const h=c[0];if(h==="p"||h==="P"){const _=longFormatters[h];return _(c,y.formatLong)}return c}).join("").match(formattingTokensRegExp).map(c=>{if(c==="''")return{isToken:!1,value:"'"};const h=c[0];if(h==="'")return{isToken:!1,value:cleanEscapedString(c)};if(formatters[h])return{isToken:!0,value:c};if(h.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:c}});y.localize.preprocessor&&(B=y.localize.preprocessor(Y,B));const d={firstWeekContainsDate:N,weekStartsOn:O,locale:y};return B.map(c=>{if(!c.isToken)return c.value;const h=c.value;(isProtectedWeekYearToken(h)||isProtectedDayOfYearToken(h))&&warnOrThrowProtectedError(h,o,String(f));const _=formatters[h[0]];return _(Y,h,y.localize,d)}).join("")}function cleanEscapedString(f){const o=f.match(escapedStringRegExp);return o?o[1].replace(doubleQuoteRegExp,"'"):f}function StudyScheduleView(){const[f,o]=reactExports.useState(null),[g,r]=reactExports.useState([]),[y,N]=reactExports.useState(""),[O,Y]=reactExports.useState(!1);reactExports.useEffect(()=>{B(),d()},[]);const B=async()=>{const P=await db.studySchedules.toArray();P.length>0&&o(P[0])},d=async()=>{const P=await db.chapters.toArray();r(P)},c=async()=>{if(!y)return;const P=new Date(y),W=startOfDay(new Date),G=Math.ceil((P.getTime()-W.getTime())/(1e3*60*60*24));if(G<=0){alert("Exam date must be in the future");return}await db.studySchedules.clear();const C=[],Q=(await db.chapters.toArray()).map(gt=>gt.id),it=Math.ceil(Q.length/G);let et=0;for(let gt=0;gt<G;gt++){const It=addDays(W,gt),Ot=Q.slice(et,et+it);et+=it,C.push({date:It,chapters:Ot,flashcards:Math.min(20,Ot.length*5),quizQuestions:Math.min(10,Ot.length*3),completed:!1})}const bt={id:crypto.randomUUID(),examDate:P,dailyGoals:C,createdAt:new Date};await db.studySchedules.add(bt),o(bt),Y(!1)},h=async P=>{if(!f)return;const W=[...f.dailyGoals];W[P].completed=!W[P].completed,await db.studySchedules.update(f.id,{dailyGoals:W}),o({...f,dailyGoals:W})},_=async()=>{f&&(await db.studySchedules.delete(f.id),o(null))},E=P=>P.map(W=>g.find(G=>G.id===W)?.title).filter(Boolean).join(", ");if(O||!f)return jsxRuntimeExports.jsxs("div",{className:"max-w-lg mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center",children:jsxRuntimeExports.jsx(Calendar,{className:"w-8 h-8 text-primary-600 dark:text-primary-400"})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Create Study Schedule"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Set your exam date and we'll create a personalized study plan"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Exam Date"}),jsxRuntimeExports.jsx("input",{type:"date",value:y,onChange:P=>N(P.target.value),min:format(addDays(new Date,1),"yyyy-MM-dd"),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white mb-4"}),jsxRuntimeExports.jsxs("button",{onClick:c,disabled:!y,className:"w-full py-3 bg-primary-500 text-white rounded-lg hover:bg-primary-600 disabled:opacity-50 transition-colors flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Create Schedule"]})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 grid grid-cols-3 gap-4",children:[{icon:"",label:"Chapters",value:g.length},{icon:"",label:"Days Left",value:y?Math.ceil((new Date(y).getTime()-new Date().getTime())/(1e3*60*60*24)):"-"},{icon:"",label:"Daily Goal",value:y?Math.ceil(g.length/Math.ceil((new Date(y).getTime()-new Date().getTime())/(1e3*60*60*24))):"-"}].map((P,W)=>jsxRuntimeExports.jsxs("div",{className:"text-center p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl mb-1",children:P.icon}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:P.value}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:P.label})]},W))})]});const p=startOfDay(new Date),S=f.dailyGoals.filter(P=>P.date>=p),j=f.dailyGoals.filter(P=>P.completed).length,v=Math.round(j/f.dailyGoals.length*100);return jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Study Schedule"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Exam: ",format(new Date(f.examDate),"MMMM d, yyyy")]})]}),jsxRuntimeExports.jsx("button",{onClick:_,className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(Trash2,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Progress"}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-bold text-primary-600 dark:text-primary-400",children:[v,"%"]})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:"bg-primary-500 h-2 rounded-full transition-all duration-300",style:{width:`${v}%`}})}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:[j," of ",f.dailyGoals.length," days completed"]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Upcoming Goals"}),S.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsx(Target,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No more goals - you're ready for the exam!"})]}):S.slice(0,7).map((P,W)=>{const G=isSameDay(new Date(P.date),p),C=E(P.chapters);return jsxRuntimeExports.jsx("div",{className:`p-4 rounded-xl border transition-colors ${P.completed?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":G?"bg-primary-50 dark:bg-primary-900/20 border-primary-200 dark:border-primary-800":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>h(W),className:`mt-0.5 w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${P.completed?"bg-green-500 border-green-500":"border-gray-300 dark:border-gray-600 hover:border-primary-500"}`,children:P.completed&&jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-3.5 h-3.5 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx("p",{className:`font-medium ${P.completed?"text-green-800 dark:text-green-400 line-through":"text-gray-900 dark:text-white"}`,children:G?"Today":format(new Date(P.date),"EEEE, MMM d")}),G&&!P.completed&&jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400 text-xs rounded-full",children:"Due"})]}),C&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:C}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),P.flashcards," flashcards"]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Target,{className:"w-3 h-3"}),P.quizQuestions," questions"]})]})]})]})},W)})]})]})}function ProgressDashboard({bookId:f}){const[o,g]=reactExports.useState([]),[,r]=reactExports.useState(null),[y,N]=reactExports.useState([]),[O,Y]=reactExports.useState([]),[B,d]=reactExports.useState({totalFlashcards:0,dueFlashcards:0,totalQuestions:0,averageScore:0,studyStreak:0});reactExports.useEffect(()=>{c()},[f]);const c=async()=>{const _=await db.quizResults.orderBy("date").reverse().toArray();if(g(_),f){const F=await getProgressByBook(f);F&&r(F);const Q=await getWeakTopics(f);N(Q);const it=await db.chapters.where("bookId").equals(f).toArray();Y(it)}const E=await db.flashcards.toArray(),p=new Date,S=E.filter(F=>new Date(F.nextReviewDate)<=p),j=await db.questions.toArray(),v=_.length>0?Math.round(_.reduce((F,Q)=>F+Q.score,0)/_.length):0,P=[...new Set(_.map(F=>new Date(F.date).toDateString()))];let W=0;const G=new Date().toDateString(),C=new Date(Date.now()-864e5).toDateString();(P.includes(G)||P.includes(C))&&(W=P.length),d({totalFlashcards:E.length,dueFlashcards:S.length,totalQuestions:j.length,averageScore:v,studyStreak:W})},h=o.slice(0,5);return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Progress Dashboard"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track your study progress and identify areas for improvement"})]})}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[{icon:Brain,label:"Flashcards",value:B.totalFlashcards,subtext:`${B.dueFlashcards} due`,color:"blue"},{icon:Target,label:"Questions",value:B.totalQuestions,subtext:"available",color:"green"},{icon:Award,label:"Avg Score",value:`${B.averageScore}%`,subtext:"last 10 quizzes",color:"yellow"},{icon:BookOpen,label:"Streak",value:B.studyStreak,subtext:"days studied",color:"purple"}].map((_,E)=>jsxRuntimeExports.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsx("div",{className:`w-10 h-10 rounded-lg bg-${_.color}-100 dark:bg-${_.color}-900/30 flex items-center justify-center mb-3`,children:jsxRuntimeExports.jsx(_.icon,{className:`w-5 h-5 text-${_.color}-600 dark:text-${_.color}-400`})}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:_.value}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:_.label}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:_.subtext})]},E))}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-5 h-5 text-red-500"}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Areas to Improve"})]}),y.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"w-12 h-12 text-green-500 mx-auto mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Great job! No weak topics identified."})]}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:y.map((_,E)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[jsxRuntimeExports.jsx(TrendingDown,{className:"w-4 h-4 text-red-500 flex-shrink-0"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:_})]},E))})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx(Award,{className:"w-5 h-5 text-primary-500"}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Recent Quiz Results"})]}),h.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx(Target,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No quizzes taken yet."})]}):jsxRuntimeExports.jsx("div",{className:"space-y-3",children:h.map(_=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(_.date).toLocaleDateString()}),jsxRuntimeExports.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[_.correctAnswers,"/",_.totalQuestions," correct"]})]}),jsxRuntimeExports.jsxs("div",{className:`text-lg font-bold ${_.score>=80?"text-green-600 dark:text-green-400":_.score>=60?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}`,children:[_.score,"%"]})]},_.id))})]})]}),O.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-5 h-5 text-primary-500"}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Chapter Progress"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:O.map(_=>{const E=!!_.summary,p=_.keyTerms&&_.keyTerms.length>0,S=_.questions&&_.questions.length>0,v=[E,p,S].filter(Boolean).length/3*100;return jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4",children:jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-1",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Chapter ",_.number,": ",_.title]}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[Math.round(v),"%"]})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:"bg-primary-500 h-2 rounded-full transition-all duration-300",style:{width:`${v}%`}})})]})},_.id)})})]})]})}function APIKeySetup({onComplete:f,onSkip:o}){const[g,r]=reactExports.useState(""),[y,N]=reactExports.useState(!1),[O,Y]=reactExports.useState(!1),[B,d]=reactExports.useState(null),[c,h]=reactExports.useState(!1),[_,E]=reactExports.useState(!1);reactExports.useEffect(()=>{if(hasApiKey()){E(!0);const v=getApiKey();v&&r(v.substring(0,8)+"")}},[]);const p=v=>v.startsWith("tvly-")&&v.length>10,S=async()=>{if(!g.trim()||g.includes("")){d("Please enter a valid API key");return}if(!p(g.trim())){d('Invalid format. API key should start with "tvly-"');return}Y(!0),d(null);try{const v=await fetch("https://api.tavily.com/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({api_key:g.trim(),query:"test",max_results:1})});v.ok?(setApiKey(g.trim()),h(!0),setTimeout(()=>{f()},1e3)):v.status===401||v.status===403?d("Invalid API key. Please check your key and try again."):(setApiKey(g.trim()),h(!0),setTimeout(()=>{f()},1e3))}catch{setApiKey(g.trim()),h(!0),setTimeout(()=>{f()},1e3)}finally{Y(!1)}},j=()=>{E(!1),r(""),d(null)};return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:jsxRuntimeExports.jsx("div",{className:"w-full max-w-md",children:jsxRuntimeExports.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl shadow-2xl overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"relative bg-gradient-to-r from-violet-600 to-indigo-600 p-8",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/20"}),jsxRuntimeExports.jsxs("div",{className:"relative flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:jsxRuntimeExports.jsx(Key,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:"API Key Setup"}),jsxRuntimeExports.jsx("p",{className:"text-white/80 text-sm",children:"Real Estate Study Assistant"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"p-8 space-y-6",children:c?jsxRuntimeExports.jsxs("div",{className:"text-center py-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-green-500/30",children:jsxRuntimeExports.jsx(Check,{className:"w-10 h-10 text-white"})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"API Key Saved!"}),jsxRuntimeExports.jsx("p",{className:"text-white/70",children:"Your Tavily API key has been securely stored."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"bg-blue-500/20 backdrop-blur-sm border border-blue-400/30 rounded-2xl p-5",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx(Info,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-blue-100",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold mb-1",children:"Why do I need an API key?"}),jsxRuntimeExports.jsx("p",{className:"text-blue-200/80",children:"To use AI-powered features like Market Analysis and Comps Reports. Your key stays in your browser - never sent to our servers."})]})]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-white/90",children:"Tavily API Key"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:y?"text":"password",value:g,onChange:v=>r(v.target.value),placeholder:_?"":"tvly-xxxxxxxxxxxxxxxx",disabled:_,className:"w-full px-4 py-4 pr-12 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent disabled:opacity-50 transition-all"}),!_&&jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>N(!y),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/50 hover:text-white transition-colors",children:y?jsxRuntimeExports.jsx(EyeOff,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(Eye,{className:"w-5 h-5"})})]}),_&&jsxRuntimeExports.jsx("button",{onClick:j,className:"text-sm text-violet-400 hover:text-violet-300 transition-colors",children:"Update API key"})]}),jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsxs("a",{href:"https://tavily.com/#pricing",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-violet-400 hover:text-violet-300 transition-colors",children:["Don't have a Tavily API key? Get one free",jsxRuntimeExports.jsx(ExternalLink,{className:"w-4 h-4"})]})}),B&&jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-500/20 backdrop-blur-sm border border-red-400/30 rounded-xl text-red-200 text-sm animate-in slide-in-from-top-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-5 h-5 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{children:B})]}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:_?jsxRuntimeExports.jsx("button",{onClick:f,className:"w-full py-4 bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-500 hover:to-indigo-500 text-white font-semibold rounded-xl transition-all shadow-lg shadow-violet-500/25",children:"Continue"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:S,disabled:O||!g.trim(),className:"w-full py-4 bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-500 hover:to-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-semibold rounded-xl transition-all shadow-lg shadow-violet-500/25 flex items-center justify-center gap-2",children:O?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Validating..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Shield,{className:"w-5 h-5"}),"Save API Key"]})}),o&&jsxRuntimeExports.jsx("button",{onClick:o,disabled:O,className:"w-full py-3 border border-white/20 text-white/70 font-medium rounded-xl hover:bg-white/5 transition-colors",children:"Skip for now"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-white/50",children:[jsxRuntimeExports.jsx(Shield,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Stored securely in your browser only"})]})]})})]})})})}function App(){const[f,o]=reactExports.useState("books"),[g,r]=reactExports.useState([]),[y,N]=reactExports.useState(null),[O,Y]=reactExports.useState([]),[B,d]=reactExports.useState(!1),[c,h]=reactExports.useState(!1),[_,E]=reactExports.useState(!1);reactExports.useEffect(()=>{p();const Q=window.matchMedia("(prefers-color-scheme: dark)").matches;h(Q),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").catch(console.error);const it=setTimeout(()=>{E(!hasApiKey())},500);return()=>clearTimeout(it)},[]),reactExports.useEffect(()=>{c?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[c]);const p=async()=>{const Q=await db.books.toArray();r(Q)},S=async Q=>{const it=await db.chapters.where("bookId").equals(Q).sortBy("number");Y(it)},j=async Q=>{N(Q),await S(Q.id),o("books")},v=async()=>{await p();const Q=await db.books.orderBy("uploadedAt").last();Q&&j(Q)},P=()=>{E(!1)},W=()=>{E(!1)},G=()=>{E(!0),d(!1)},C=()=>{switch(f){case"books":return y?jsxRuntimeExports.jsx(ChapterList,{book:y,chapters:O,onChaptersUpdated:S}):jsxRuntimeExports.jsx(PDFUpload,{onUploadComplete:v});case"flashcards":return jsxRuntimeExports.jsx(FlashcardView,{});case"quiz":return jsxRuntimeExports.jsx(QuizView,{chapters:O});case"schedule":return jsxRuntimeExports.jsx(StudyScheduleView,{});case"progress":return jsxRuntimeExports.jsx(ProgressDashboard,{bookId:y?.id});case"market-analysis":return jsxRuntimeExports.jsx(MarketAnalysisView,{});case"comps":return jsxRuntimeExports.jsx(CompsReportView,{});default:return jsxRuntimeExports.jsx(PDFUpload,{onUploadComplete:v})}};if(_)return jsxRuntimeExports.jsx(APIKeySetup,{onComplete:P,onSkip:W});const F=[{view:"books",label:"Books",icon:jsxRuntimeExports.jsx(BookOpen,{className:"w-5 h-5"})},{view:"flashcards",label:"Flashcards",icon:jsxRuntimeExports.jsx(Brain,{className:"w-5 h-5"})},{view:"quiz",label:"Quiz",icon:jsxRuntimeExports.jsx(ChartColumn,{className:"w-5 h-5"})},{view:"schedule",label:"Schedule",icon:jsxRuntimeExports.jsx(Calendar,{className:"w-5 h-5"})},{view:"progress",label:"Progress",icon:jsxRuntimeExports.jsx(ChartColumn,{className:"w-5 h-5"})}];return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:[jsxRuntimeExports.jsx("header",{className:"sticky top-0 z-50 bg-white/10 backdrop-blur-xl border-b border-white/20",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between h-14",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>d(!B),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 lg:hidden",children:B?jsxRuntimeExports.jsx(X,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(Menu,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-primary-500 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white hidden sm:block",children:"RE Study"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[g.length>0&&jsxRuntimeExports.jsxs("select",{value:y?.id||"",onChange:Q=>{const it=g.find(et=>et.id===Q.target.value);it&&j(it)},className:"text-sm border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1.5 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a book..."}),g.map(Q=>jsxRuntimeExports.jsx("option",{value:Q.id,children:Q.title},Q.id))]}),jsxRuntimeExports.jsx("button",{onClick:()=>h(!c),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:c?"":""})]})]})})}),jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsxs("aside",{className:`fixed inset-y-0 left-0 z-40 w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transform transition-transform duration-200 ease-in-out lg:translate-x-0 lg:static lg:h-[calc(100vh-3.5rem)] ${B?"translate-x-0":"-translate-x-full"}`,children:[jsxRuntimeExports.jsxs("nav",{className:"p-4 space-y-1",children:[F.map(Q=>jsxRuntimeExports.jsxs("button",{onClick:()=>{o(Q.view),d(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${f===Q.view?"bg-primary-50 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[Q.icon,Q.label]},Q.view)),jsxRuntimeExports.jsxs("div",{className:"pt-4 mt-4 border-t border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsx("p",{className:"px-4 text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2",children:"AI Tools"}),jsxRuntimeExports.jsxs("button",{onClick:()=>{o("market-analysis"),d(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${f==="market-analysis"?"bg-primary-50 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[jsxRuntimeExports.jsx(ChartColumn,{className:"w-5 h-5"}),"Market Analysis"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{o("comps"),d(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${f==="comps"?"bg-primary-50 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Comps Report"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200 dark:border-gray-700 space-y-2",children:[jsxRuntimeExports.jsxs("button",{onClick:G,className:"w-full flex items-center gap-3 px-4 py-2 rounded-lg text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[jsxRuntimeExports.jsx(Key,{className:"w-4 h-4"}),"API Key Settings"]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 px-4",children:[jsxRuntimeExports.jsx("p",{children:"Real Estate Study Assistant"}),jsxRuntimeExports.jsxs("p",{className:"mt-1 flex items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),hasApiKey()?"AI Ready ":"Offline Mode"]})]})]})]}),B&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>d(!1)}),jsxRuntimeExports.jsx("main",{className:"flex-1 min-h-[calc(100vh-3.5rem)] p-4 sm:p-6 lg:p-8",children:jsxRuntimeExports.jsx("div",{className:"max-w-6xl mx-auto",children:C()})})]})]})}function MarketAnalysisView(){const[f,o]=reactExports.useState(""),[g,r]=reactExports.useState(""),[y,N]=reactExports.useState(!1),[O,Y]=reactExports.useState(null),[B,d]=reactExports.useState(null),c=async()=>{if(f.trim()){N(!0),d(null);try{const{getMarketAnalysis:h}=await __vitePreload(async()=>{const{getMarketAnalysis:E}=await Promise.resolve().then(()=>ai);return{getMarketAnalysis:E}},void 0),_=await h(f,g);Y(_)}catch(h){d(h instanceof Error?h.message:"Failed to analyze market")}finally{N(!1)}}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Market Analysis"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Get AI-powered market analysis for any location. Powered by Tavily search."}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location"}),jsxRuntimeExports.jsx("input",{type:"text",value:f,onChange:h=>o(h.target.value),placeholder:"e.g., Austin, TX or Miami-Dade County",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Property Type (Optional)"}),jsxRuntimeExports.jsxs("select",{value:g,onChange:h=>r(h.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Types"}),jsxRuntimeExports.jsx("option",{value:"single-family",children:"Single Family"}),jsxRuntimeExports.jsx("option",{value:"condo",children:"Condo"}),jsxRuntimeExports.jsx("option",{value:"townhouse",children:"Townhouse"}),jsxRuntimeExports.jsx("option",{value:"multi-family",children:"Multi-Family"}),jsxRuntimeExports.jsx("option",{value:"commercial",children:"Commercial"})]})]})]}),jsxRuntimeExports.jsx("button",{onClick:c,disabled:y||!f.trim(),className:"px-6 py-2 bg-primary-500 hover:bg-primary-600 disabled:bg-gray-300 dark:disabled:bg-gray-700 text-white font-medium rounded-lg transition-colors flex items-center gap-2",children:y?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Analyzing..."]}):"Analyze Market"}),B&&jsxRuntimeExports.jsx("div",{className:"mt-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-300",children:B})]}),O&&jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Analysis Results"}),jsxRuntimeExports.jsx("div",{className:"prose dark:prose-invert max-w-none mb-6",children:jsxRuntimeExports.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:O.summary})}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:O.marketTrends.map((h,_)=>jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:h.trend}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[jsxRuntimeExports.jsxs("span",{className:`text-lg font-bold ${h.direction==="up"?"text-green-600 dark:text-green-400":h.direction==="down"?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"}`,children:[h.direction==="up"?"":h.direction==="down"?"":"",h.percentage!==void 0?` ${h.percentage}%`:""]}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:h.direction==="up"?"Increasing":h.direction==="down"?"Decreasing":"Stable"})]})]},_))}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Key Insights"}),jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside space-y-1 text-gray-700 dark:text-gray-300",children:O.keyInsights.map((h,_)=>jsxRuntimeExports.jsx("li",{children:h},_))})]}),O.dataSources.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Data Sources"}),jsxRuntimeExports.jsx("ul",{className:"space-y-1",children:O.dataSources.slice(0,5).map((h,_)=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary-600 dark:text-primary-400 hover:underline truncate block",children:h})},_))})]})]})]})]})}function CompsReportView(){const[f,o]=reactExports.useState({address:"",city:"",state:"",zipCode:"",propertyType:"single-family",bedrooms:"",bathrooms:"",sqft:""}),[g,r]=reactExports.useState(!1),[y,N]=reactExports.useState(null),[O,Y]=reactExports.useState(null),B=async d=>{d.preventDefault(),r(!0),Y(null);try{const{getCompsReport:c}=await __vitePreload(async()=>{const{getCompsReport:_}=await Promise.resolve().then(()=>ai);return{getCompsReport:_}},void 0),h=await c({address:f.address,city:f.city,state:f.state,zipCode:f.zipCode,propertyType:f.propertyType,bedrooms:f.bedrooms?parseInt(f.bedrooms):void 0,bathrooms:f.bathrooms?parseFloat(f.bathrooms):void 0,sqft:f.sqft?parseInt(f.sqft):void 0});N(h)}catch(c){Y(c instanceof Error?c.message:"Failed to generate comps report")}finally{r(!1)}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Comparative Market Analysis"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Generate a comps report for any property. Powered by Tavily search."}),jsxRuntimeExports.jsxs("form",{onSubmit:B,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Property Address *"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:f.address,onChange:d=>o({...f,address:d.target.value}),placeholder:"123 Main Street",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"City"}),jsxRuntimeExports.jsx("input",{type:"text",value:f.city,onChange:d=>o({...f,city:d.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"State"}),jsxRuntimeExports.jsx("input",{type:"text",value:f.state,onChange:d=>o({...f,state:d.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ZIP Code"}),jsxRuntimeExports.jsx("input",{type:"text",value:f.zipCode,onChange:d=>o({...f,zipCode:d.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Property Type"}),jsxRuntimeExports.jsxs("select",{value:f.propertyType,onChange:d=>o({...f,propertyType:d.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[jsxRuntimeExports.jsx("option",{value:"single-family",children:"Single Family"}),jsxRuntimeExports.jsx("option",{value:"condo",children:"Condo"}),jsxRuntimeExports.jsx("option",{value:"townhouse",children:"Townhouse"}),jsxRuntimeExports.jsx("option",{value:"multi-family",children:"Multi-Family"}),jsxRuntimeExports.jsx("option",{value:"commercial",children:"Commercial"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bedrooms"}),jsxRuntimeExports.jsx("input",{type:"number",value:f.bedrooms,onChange:d=>o({...f,bedrooms:d.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bathrooms"}),jsxRuntimeExports.jsx("input",{type:"number",step:"0.5",value:f.bathrooms,onChange:d=>o({...f,bathrooms:d.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Square Feet"}),jsxRuntimeExports.jsx("input",{type:"number",value:f.sqft,onChange:d=>o({...f,sqft:d.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:g||!f.address.trim(),className:"px-6 py-2 bg-primary-500 hover:bg-primary-600 disabled:bg-gray-300 dark:disabled:bg-gray-700 text-white font-medium rounded-lg transition-colors flex items-center gap-2",children:g?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Generating Report..."]}):"Generate Comps Report"})]}),O&&jsxRuntimeExports.jsx("div",{className:"mt-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-300",children:O})]}),y&&jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Comparative Market Analysis Report"}),jsxRuntimeExports.jsxs("div",{className:"bg-primary-50 dark:bg-primary-900/20 rounded-lg p-4 mb-6",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-primary-900 dark:text-primary-100 mb-2",children:"Subject Property"}),jsxRuntimeExports.jsx("p",{className:"text-primary-800 dark:text-primary-200",children:y.subjectProperty.address}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-2xl font-bold text-primary-700 dark:text-primary-300",children:["$",y.subjectProperty.estimatedValue.toLocaleString()]}),jsxRuntimeExports.jsxs("span",{className:`px-2 py-1 rounded text-sm ${y.subjectProperty.confidence==="high"?"bg-green-100 text-green-800":y.subjectProperty.confidence==="medium"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:[y.subjectProperty.confidence," confidence"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 mb-6",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Comparable Sales"}),y.comparables.map((d,c)=>jsxRuntimeExports.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:d.address}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[d.bedrooms," bed  ",d.bathrooms," bath  ",d.sqft.toLocaleString()," sqft"]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:["$",d.salePrice.toLocaleString()]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:d.saleDate})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("span",{children:[d.distance," miles away"]}),jsxRuntimeExports.jsxs("span",{children:["Adjusted: $",d.adjustedPrice.toLocaleString()]})]})]},c))]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Market Summary"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Avg Price/Sqft"}),jsxRuntimeExports.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["$",y.analysis.avgPricePerSqft]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Price Range"}),jsxRuntimeExports.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["$",y.analysis.priceRange.low.toLocaleString()," - $",y.analysis.priceRange.high.toLocaleString()]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Avg Days on Market"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:y.analysis.daysOnMarket})]})]})]})]})]})}ReactDOM.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
//# sourceMappingURL=index-CnhYhlf3.js.map
